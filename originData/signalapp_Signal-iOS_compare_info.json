[{"tag_start": "5.24.0.46", "tag_end": "5.25.0.13", "commits": ["\"Feature flags for .beta.\"", "\"Bump build to 5.24.0.47.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.24.0.48.\" (Internal)", "\"Bump build to 5.24.0.49.\" (nightly-11-02-2021)", "Apply libPhoneNumber-iOS: Deduplicate JSON.", "Merge branch 'charlesmchen/deduplicateJSON'", "Reduce statics.", "Reduce statics.", "Reduce statics.", "Reduce statics.", "Revert \"Reduce statics.\"\n\nThis reverts commit a283d3c16604efa7f49d13919ff67cd76ea52c00.", "Merge branch 'charlesmchen/reduceStatics2'", "\"Bump build to 5.24.0.50.\" (Internal)", "\"Bump build to 5.25.0.0.\" (Internal)", "\"Bump build to 5.25.0.1.\" (Internal)", "\"Bump build to 5.25.0.2.\" (Internal)", "Move MobileCoin SDK to SignalUI.", "Move MobileCoin SDK to SignalUI.", "Move MobileCoin SDK to SignalUI.", "Update Cocoapods.", "Move MobileCoin SDK to SignalUI.", "Move MobileCoin SDK to SignalUI.", "Move MobileCoin SDK to SignalUI.", "Move MobileCoin SDK to SignalUI", "Move MobileCoin SDK to SignalUI.", "Move MobileCoin SDK to SignalUI.", "Move MobileCoin SDK to SignalUI.", "Move MobileCoin SDK to SignalUI.", "Move MobileCoin SDK to SignalUI.", "Update Cocoapods.", "\"Bump build to 5.25.0.3.\" (Internal)", "\"Bump build to 5.25.0.3.\" (Internal)", "Merge branch 'charlesmchen/paymentsHelper'", "\"Bump build to 5.25.0.4.\" (Internal)", "A handful of tiny changes\n\n- GiphyAPI kept no internal state, no need to instantiate a singleton\n  for it\n- Better logging of what prevented us from completing our NSE wake\n- Fixes a bug where we fail to generate sync messages in the NSE while\n  locked", "PR Feedback: Fix inverted case", "Merge branch 'mlin/PR/SmallFixes'", "Update emoji script to account for new component emojis", "Enhancements to emoji codegen script\n\n- Any errors that are hit are propogated out to stdout\n- Notifies via stdout if a new emoji needs a component definition\n- Uses Character instead of UnicodeScalar when appropriate\n- Explicitly declares the RemoteModel that's in use\n- Enhancements to file writing to simplify indentation", "Merge branch 'mlin/PR/EmojiFixes'", "\"Bump build to 5.25.0.5.\" (nightly-11-03-2021)", "\"Bump build to 5.25.0.6.\" (Internal)", "Log 4xx and 5xx errors in OWSURLSession.", "Log Stripe failures.", "Merge branch 'charlesmchen/logHTTPRequestErrors'", "Fix clang format", "Merge branch 'mlin/PR/FixClangFormat'", "Add generic localized string for sender key errors", "PR Feedback: Conform to UserErrorDescriptionProvider", "Merge branch 'mlin/PR/SenderKeyErrorStrings'", "Introduce WebSocketFactory.", "\"Bump build to 5.25.0.7.\" (Internal)", "\"Bump build to 5.25.0.8.\" (nightly-11-04-2021)", "Disable native websocket.", "\"Bump build to 5.25.0.9.\" (Internal)", "Only use NSE for debug builds on iOS 15.", "Update l10n strings.", "\"Feature flags for .production.\"", "\"Bump build to 5.25.0.10.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.25.0.11.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.25.0.12.\" (Internal)", "Update l10n strings.", "Tweak cc.", "Merge branch 'charlesmchen/ccuz' into release/5.25.0", "\"Feature flags for .production.\"", "\"Bump build to 5.25.0.13.\""]}, {"tag_start": "5.23.0.38", "tag_end": "5.24.0.46", "commits": ["Fix a whole bunch of warnings", "Re-add ObjC exceptions to test suites", "Don't use SCKExceptionWrapper in CVC.", "Fix emoji generator script to not re-add warnings", "Update Pods for SignalCoreKit changes", "Lint", "Merge branch 'mlin/PR/FixWarnings'", "\"Bump build to 5.23.0.35.\" (nightly-10-22-2021)", "\"Bump build to 5.24.0.0.\" (Internal)", "\"Bump build to 5.24.0.1.\" (Internal)", "Update to RingRTC v2.13.6", "Update Cocoapods.", "Merge branch 'ringrtc/v2.13.6'", "\"Bump build to 5.24.0.2.\" (Internal)", "\"Bump build to 5.24.0.3.\" (Internal)", "\"Bump build to 5.24.0.4.\" (Internal)", "Add PhoneNumberUtil singleton.", "Add PhoneNumberUtil singleton.", "Add PhoneNumberUtil singleton.", "Add PhoneNumberUtil singleton.", "Add PhoneNumberUtilTestSwift.", "Update Cocoapods.", "Merge branch 'charlesmchen/swiftPhoneNumberUtil'", "Don't cache signal accounts on contacts manager.", "Don't cache signal accounts on contacts manager.", "Don't cache signal accounts on contacts manager.", "Remove OWSContactsManager.allContacts.", "Remove OWSContactsManager.allContactsMap.", "Don't cache contacts on contacts manager.", "Don't cache contacts on contacts manager.", "Don't cache contacts on contacts manager.", "Don't cache contacts on contacts manager.", "Don't cache contacts on contacts manager.", "Don't cache contacts on contacts manager.", "Don't cache contacts on contacts manager.", "Don't cache contacts on contacts manager.", "Update Cocoapods.", "Merge branch 'charlesmchen/nse2021.10.21.2'", "\"Bump build to 5.24.0.5.\" (Internal)", "Rename ContactsManagerCache.", "\"Feature flags for .beta.\"", "\"Bump build to 5.23.0.39.\" (Beta)", "\"Bump build to 5.24.0.6.\" (nightly-10-23-2021)", "\"Bump build to 5.24.0.7.\" (Internal)", "\"Bump build to 5.24.0.8.\" (Internal)", "\"Bump build to 5.24.0.9.\" (Internal)", "Elaborate memory usage logging.", "Merge branch 'charlesmchen/nse2021.10.23'", "\"Bump build to 5.24.0.10.\" (Internal)", "\"Bump build to 5.24.0.11.\" (nightly-10-24-2021)", "\"Bump build to 5.24.0.12.\" (nightly-10-25-2021)", "Merge remote-tracking branch 'private/release/5.23.0'", "\"Feature flags for .qa.\"", "\"Bump build to 5.24.0.13.\" (Internal)", "\"Bump build to 5.24.0.14.\" (Internal)", "\"Bump build to 5.24.0.15.\" (Internal)", "\"Bump build to 5.24.0.16.\" (Internal)", "\"Bump build to 5.24.0.17.\" (Internal)", "\"Bump build to 5.24.0.18.\" (Internal)", "\"Bump build to 5.24.0.19.\" (Internal)", "Elaborate logging in NSE.", "\"Bump build to 5.24.0.20.\" (Internal)", "\"Bump build to 5.24.0.21.\" (Internal)", "\"Bump build to 5.24.0.22.\" (nightly-10-26-2021)", "\"Feature flags for .production.\"", "\"Bump build to 5.23.1.0.\"", "Merge branch 'ringrtc/v2.13.6'", "Merge branch 'charlesmchen/swiftPhoneNumberUtil'", "Update Cocoapods.", "Merge branch 'charlesmchen/nse2021.10.21.2'", "\"Bump build to 5.23.1.1.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.23.1.2.\" (Beta)", "Reduce log chatter.", "\"Bump build to 5.24.0.23.\" (Internal)", "\"Bump build to 5.24.0.24.\" (Internal)", "Reduce GRDB read pool size in NSE.", "Merge branch 'charlesmchen/dbReadPoolSize'", "Merge branch 'release/5.23.1'", "Sync translations", "\"Feature flags for .beta.\"", "\"Bump build to 5.24.0.25.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.24.0.26.\" (Internal)", "Log additional info on receiving a resend request\n\nIf someone requests a resend for a failed group message, we should log\nout information about all of the groups the requester is a member of and\nwhen they last were sent an SKDM", "Remove leftover comments", "Atomic assignment for logThrottleExpiration", "Merge branch 'mlin/PR/AdditionalSKDMLogging'", "\"Bump build to 5.24.0.27.\" (nightly-10-27-2021)", "Warn about memory usage.", "\"Bump build to 5.24.0.28.\" (nightly-10-28-2021)", "Rename NSE.", "Merge branch 'charlesmchen/signalNSE'", "\"Bump build to 5.24.0.29.\" (Internal)", "Fix profiling configuration for new SignalNSE target.", "Clean up logging.", "\"Bump build to 5.24.0.30.\" (Internal)", "Fixes a couple of sender key issues:\n\n- Failed sender key sends weren't properly retrying\n- Spurious asserts when a delivery receipt for a sent message arrives\n  before we finish the send", "Fix compilation issue in tests", "Merge branch 'mlin/PR/SenderKeyTinyFixes'", "Optimistic fix for reeneterant layout in MentionPicker\n\nI personally haven't been able to reproduce this issue. This might end\nup fixing this issue, but if not we might need to rethink our\nMentionPicker layout.", "Merge branch 'mlin/PR/MentionPickerReenterancy'", "\"Feature flags for .beta.\"", "\"Bump build to 5.24.0.31.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.24.0.32.\" (Internal)", "\"Bump build to 5.24.0.33.\" (nightly-10-29-2021)", "Fix assert in ContactsManagerCache.", "Merge branch 'charlesmchen/contactsManagerCacheEdgeCase'", "Explicitly drop calls filtered by Do Not Disturb\n\nThis prevents RingRTC from sending a Hangup message, which allows\nother devices to continue ringing.", "Merge branch 'jrose/drop-calls-on-do-not-disturb'", "Track running badge count in NSE", "Update Pods", "Lint", "PR Feedback", "Merge branch 'mlin/PR/UpdateNSEBadging'", "Update Pods", "\"Bump build to 5.24.0.34.\" (Internal)", "Update release notes", "Sync translations", "\"Feature flags for .beta.\"", "\"Bump build to 5.24.0.35.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.24.0.36.\" (Internal)", "\"Bump build to 5.24.0.37.\" (nightly-10-30-2021)", "\"Bump build to 5.24.0.38.\" (nightly-10-31-2021)", "Sync translations", "\"Feature flags for .production.\"", "\"Bump build to 5.24.0.39.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.24.0.40.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.24.0.41.\" (nightly-11-01-2021)", "\"Bump build to 5.24.0.42.\" (Internal)", "Sync translations", "\"Feature flags for .production.\"", "\"Bump build to 5.24.0.43.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.24.0.44.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.24.0.45.\" (Internal)", "Remove support for Xcode 12", "Fix stripe api authentication", "Merge branch 'nt/fix-stripe-api'", "\"Feature flags for .production.\"", "\"Bump build to 5.24.0.46.\""]}, {"tag_start": "5.22.1.3", "tag_end": "5.23.0.38", "commits": ["Fix \"nav bar disabled\" issue after creating a new group.", "Debounce \"cross process write\" notifications in database change observer.", "Skip ACKs for incoming messages that were recently successfully ACK'd.", "Fire cross-process write notifications sync even if inactive.", "Cancel notifications off the main thread.", "Block NSE REST fetches upon pending ACK count.", "Block NSE REST fetches upon pending ACK count.", "Move askMainAppToHandleReceipt() off the main thread.", "Refine NSE coordination via darwin notifications.", "Post notifications off the main thread in the NSE.", "Respond to CR.", "Elaborate logging around NSE message processing.", "Tweak NSE concurrency.", "Fix how timestamps are logged in message processing.", "Move some NotificationService off main thread.", "Use autoreleasepool when calculating avatar hashes in NSE.", "Improve logging around main app launch detection.", "Clean up.", "Elaborate logging around NSE lifecycle & memory usage.", "Update Cocoapods.", "Disable notification intent avatars in NSE.", "\"Feature flags for .production.\"", "\"Bump build to 5.21.4.0.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.21.4.1.\" (Beta)", "Log intent avatar behavior.", "\"Feature flags for .production.\"", "\"Bump build to 5.21.4.2.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.21.4.3.\" (Beta)", "Elaborate logging around reaction messages.", "Fix race in notification cancellation.", "Default errors for message processing.", "\"Feature flags for .production.\"", "\"Bump build to 5.21.4.4.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.21.4.5.\" (Beta)", "\"Feature flags for .production.\"", "\"Bump build to 5.21.4.6.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.21.4.7.\" (Beta)", "Update l10n strings.", "\"Feature flags for .qa.\"", "\"Bump build to 5.22.0.40.\" (Internal)", "Parital revert \"Update l10n strings.\"\n\nThis reverts commit 14f4c7005bb563c36fa3a665b19b4ba9dc7466ff.", "\"Bump build to 5.22.0.41.\" (nightly-10-13-2021)", "Merge remote-tracking branch 'private/release/5.21.4'", "Update RI check.", "\"Bump build to 5.22.0.42.\" (nightly-10-14-2021)", "\"Bump build to 5.22.0.43.\" (Internal)", "\"Bump build to 5.22.0.44.\" (Internal)", "\"Bump build to 5.22.0.45.\" (nightly-10-15-2021)", "Tweak phone number util.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/nseMemoryUsage'", "Simplify AFNetworking usage.", "Simplify AFNetworking usage.", "Simplify AFNetworking usage.", "Simplify AFNetworking usage.", "Simplify AFNetworking usage.", "Simplify AFNetworking usage.", "Simplify AFNetworking usage.", "Update Cocoapods.", "Add string helpers.", "Clean up HTTP error metadata accessors.", "Clean up HTTP error metadata accessors.", "Clean up HTTP error metadata accessors.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/removeAFNetworking2'", "\"Bump build to 5.22.0.46.\" (Internal)", "\"Bump build to 5.22.0.47.\" (Internal)", "\"Bump build to 5.23.0.0.\" (Internal)", "\"Bump build to 5.23.0.1.\" (Internal)", "\"Bump build to 5.23.0.2.\" (Internal)", "\"Bump build to 5.23.0.3.\" (Internal)", "\"Bump build to 5.23.0.4.\" (Internal)", "Ensure NSE can safely respond to all sync request messages.", "Ensure NSE can safely respond to all sync request messages.", "Update Cocoapods.", "Respond to CR.", "Merge branch 'charlesmchen/nseSync'", "Update to RingRTC v2.13.5", "Update Cocoapods.", "Merge branch 'ringrtc/v2.13.5'", "\"Bump build to 5.23.0.5.\" (Internal)", "Fix build break.", "\"Bump build to 5.23.0.6.\" (Internal)", "\"Bump build to 5.23.0.7.\" (nightly-10-16-2021)", "\"Bump build to 5.23.0.8.\" (nightly-10-17-2021)", "\"Bump build to 5.23.0.9.\" (nightly-10-18-2021)", "Update l10n strings.", "\"Feature flags for .beta.\"", "\"Bump build to 5.23.0.10.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.23.0.11.\" (Internal)", "Move Bonmot to main app.", "Merge branch 'charlesmchen/bonmotVsNSE'", "\"Bump build to 5.23.0.12.\" (Internal)", "\"Bump build to 5.23.0.13.\" (Internal)", "\"Bump build to 5.23.0.14.\" (Internal)", "Disable model read caches in NSE.", "Merge branch 'charlesmchen/nseVsModelReadCaches'", "\"Bump build to 5.23.0.15.\" (nightly-10-19-2021)", "Update Cocoapods.", "Add SignalUI framework target.", "Add SignalUI framework target.", "Add SignalUI framework target.", "Add SignalUI framework target.", "Add SignalUI framework target.", "Revert \"Add SignalUI framework target.\"\n\nThis reverts commit aa47dbec4d5af31b569da9db5b824f84fba63661.", "Add SignalUI framework target.", "Add SignalUI framework target.", "Add SignalUI framework target.", "Add SignalUI framework target.", "Add SignalUI framework target.", "Add SignalUI framework target.", "Add SignalUI framework target.", "Add SignalUI framework target.", "Add SignalUI framework target.", "Add SignalUI framework target.", "Add SignalUI framework target.", "Add SignalUI framework target.", "Add SignalUI framework target.", "Add SignalUI framework target.", "Tweak signing settings for Signal UI.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/signalUI'", "Update l10n strings.", "\"Bump build to 5.23.0.16.\" (Beta)", "\"Bump build to 5.23.0.17.\" (Internal)", "\"Bump build to 5.23.0.18.\" (Beta)", "\"Bump build to 5.23.0.19.\" (Internal)", "\"Bump build to 5.23.0.20.\" (Beta)", "\"Bump build to 5.23.0.21.\" (Internal)", "\"Bump build to 5.23.0.22.\" (Beta)", "Disable LRU caches in NSE.", "\"Bump build to 5.23.0.23.\" (Internal)", "Move window manager to Signal target.", "\"Feature flags for .beta.\"", "\"Feature flags for .qa.\"", "Merge branch 'charlesmchen/windowManagerVsCalls'", "Remove sdsjson resources", "Revert \"Update l10n strings.\"\n\nThis reverts commit fbb3c260fdafea65908a65a2a98f4b44b12eea7f.", "Restore localizations removed after merging SUI", "Merge branch 'mlin/PR/FixSignalUILocalizationBreakage'", "Clean up NSE logging.", "Merge branch 'charlesmchen/tweakNSE'", "Update l10n strings.", "\"Feature flags for .beta.\"", "\"Bump build to 5.23.0.24.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.23.0.25.\" (Internal)", "\"Bump build to 5.23.0.26.\" (nightly-10-20-2021)", "\"Bump build to 5.23.0.27.\" (Internal)", "\"Bump build to 5.23.0.28.\" (nightly-10-21-2021)", "Remove TSRequest.customHost in favor of new services vended by OWSSignalService.", "Merge branch 'charlesmchen/remoteCustomHost'", "Adding logging around cache sizes.", "Reduce async work done on NSE launch.", "Reduce async work done on NSE launch.", "Reduce async work done on NSE launch.", "Respond to CR.", "Merge branch 'charlesmchen/nse2021.10.20'", "Add script to normalize includes and imports.", "Apply script to normalize includes and imports.", "Add script to normalize includes and imports.", "Add script to normalize includes and imports.", "Fix build break.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Disable the \"Quoted include in framework header\" build warning in the project settings for the \"SignalUI\" and \"SignalUITests\" targets.", "Merge branch 'charlesmchen/headerTargets2'", "\"Feature flags for .beta.\"", "\"Bump build to 5.23.0.29.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.23.0.30.\" (Internal)", "\"Bump build to 5.23.0.31.\" (Internal)", "\"Bump build to 5.23.0.32.\" (Internal)", "\"Bump build to 5.23.0.33.\" (Internal)", "\"Bump build to 5.23.0.34.\" (Internal)", "\"Bump build to 5.23.0.35.\" (nightly-10-22-2021)", "Update l10n strings.", "\"Feature flags for .production.\"", "\"Bump build to 5.23.0.36.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.23.0.37.\" (Beta)", "Fix release notes.", "Replaces TSWhisperMessageType with SSKProtoEnvelopeType", "Merge branch 'mlin/PR/FixMessageTypeProtoMapping' into release/5.23.0", "\"Feature flags for .production.\"", "\"Bump build to 5.23.0.38.\""]}, {"tag_start": "5.22.0.38", "tag_end": "5.22.1.3", "commits": ["\"Feature flags for .beta.\"", "\"Bump build to 5.22.0.39.\" (Beta)", "Tweak phone number util.", "Respond to CR.", "Update Cocoapods.", "Update Cocoapods.", "Ensure NSE can safely respond to all sync request messages.", "Ensure NSE can safely respond to all sync request messages.", "Update Cocoapods.", "Respond to CR.", "Move Bonmot to main app.", "\"Feature flags for .production.\"", "\"Bump build to 5.22.1.0.\"", "\"Bump build to 5.22.1.1.\"", "Revert Podfile.lock.", "Update Cocoapods.", "\"Bump build to 5.22.1.2.\"", "Fix build break.", "\"Bump build to 5.22.1.3.\""]}, {"tag_start": "5.21.3.5", "tag_end": "5.22.0.38", "commits": ["\"Feature flags for .beta.\"", "\"Bump build to 5.21.0.55.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.21.0.56.\" (Internal)", "\"Bump build to 5.21.0.57.\" (nightly-09-25-2021)", "\"Bump build to 5.21.0.58.\" (Internal)", "\"Bump build to 5.21.0.59.\" (Beta)", "\"Bump build to 5.21.0.60.\" (Internal)", "\"Bump build to 5.21.0.61.\" (nightly-09-26-2021)", "\"Bump build to 5.21.0.62.\" (nightly-09-27-2021)", "\"Bump build to 5.22.0.0.\" (Internal)", "\"Bump build to 5.22.0.1.\" (Internal)", "\"Bump build to 5.22.0.2.\" (Internal)", "\"Bump build to 5.22.0.3.\" (nightly-09-28-2021)", "Add logging around thread creation.", "Merge branch 'charlesmchen/threadCreationLogging'", "Log SignalRecipient lifecycle.", "Elaborate logging around CDS lookups.", "Elaborate logging around CDS lookups.", "Merge branch 'charlesmchen/cdsLogging'", "\"Bump build to 5.22.0.4.\" (Internal)", "Refine NSE completion blocking.", "Improve logging around message processing.", "DRY up handling of message processing outcomes.", "Only warn in logs when duplicate decryptions occur.", "Merge branch 'charlesmchen/nseCompletion3'", "Merge branch 'release/5.21.1'", "\"Bump build to 5.22.0.5.\" (nightly-09-29-2021)", "\"Bump build to 5.22.0.6.\" (nightly-09-30-2021)", "\"Bump build to 5.22.0.7.\" (Internal)", "Add some info logging for important calling events", "Merge branch 'jim/minor-calling-logs'", "Reset ringrtc for ui/ux failures", "Merge branch 'jim/reset-ringrtc-on-ux-failure'", "\"Bump build to 5.22.0.8.\" (Internal)", "Bump minimum version for Quicklook to 14.8", "Merge branch 'mlin/PR/DisableQuicklookForOldiOSVersions'", "Merge branch 'release/5.21.2'", "\"Bump build to 5.22.0.9.\" (Internal)", "Merge branch 'release/5.21.2'", "\"Bump build to 5.22.0.10.\" (Internal)", "\"Bump build to 5.22.0.11.\" (nightly-10-01-2021)", "\"Bump build to 5.22.0.12.\" (nightly-10-02-2021)", "\"Bump build to 5.22.0.13.\" (nightly-10-04-2021)", "Merge branch 'release/5.21.3'", "\"Bump build to 5.22.0.14.\" (Internal)", "\"Feature flags for .beta.\"", "\"Bump build to 5.21.3.6.\" (Beta)", "Merge branch 'release/5.21.3'", "\"Bump build to 5.22.0.15.\" (Internal)", "\"Bump build to 5.22.0.16.\" (nightly-10-05-2021)", "NSE shouldn't wake for group rings until we support it", "Merge branch 'mlin/PR/FixGroupRingNSECrash'", "Update to RingRTC v2.13.3", "Update Cocoapods.", "Merge branch 'ringrtc/v2.13.3'", "Fix \"nav bar disabled\" issue after creating a new group.", "Merge branch 'charlesmchen/newGroupVsNavBar'", "Refine outage detection.", "Refine outage detection.", "Merge branch 'charlesmchen/outageDetection'", "Improve logging around outage detection.", "Merge branch 'charlesmchen/outageDetectionLogging'", "Fix \"blinking\" background in the CVC cells.", "Fix \"blinking\" background in the CVC cells.", "Fix \"blinking\" background in the CVC cells.", "Merge branch 'charlesmchen/cvcCellReuse'", "Fix edge cases around short video.", "Fix edge cases around short video.", "Fix edge cases around short video.", "Fix edge cases around short video.", "Fix edge cases around short video.", "Merge branch 'charlesmchen/shortVideoEdgeCases'", "\"Bump build to 5.22.0.17.\" (Internal)", "\"Bump build to 5.22.0.18.\" (Internal)", "\"Bump build to 5.22.0.19.\" (Internal)", "Debounce \"cross process write\" notifications in database change observer.", "Skip ACKs for incoming messages that were recently successfully ACK'd.", "Fire cross-process write notifications sync even if inactive.", "Cancel notifications off the main thread.", "Block NSE REST fetches upon pending ACK count.", "Block NSE REST fetches upon pending ACK count.", "Move askMainAppToHandleReceipt() off the main thread.", "Refine NSE coordination via darwin notifications.", "Post notifications off the main thread in the NSE.", "Respond to CR.", "Merge branch 'charlesmchen/queueBackLog1'", "\"Bump build to 5.22.0.20.\" (Internal)", "A couple small changes to improve visibility of build configuration", "Tweak build commit handling.", "Remove variant visibility from public releases", "Trim commit hash in internal settings", "Remove extra newline", "Merge branch 'mlin/PR/BuildVariantInSettings'", "\"Bump build to 5.22.0.21.\" (Internal)", "Fix build issue with conditional compilation", "\"Bump build to 5.22.0.22.\" (Internal)", "\"Bump build to 5.22.0.23.\" (nightly-10-06-2021)", "Elaborate logging around NSE message processing.", "\"Bump build to 5.22.0.24.\" (Internal)", "Tweak NSE concurrency.", "\"Bump build to 5.22.0.25.\" (Internal)", "Fix how timestamps are logged in message processing.", "Merge branch 'charlesmchen/timestampLogging-IOS-1923'", "Move some NotificationService off main thread.", "Use autoreleasepool when calculating avatar hashes in NSE.", "Improve logging around main app launch detection.", "Skip system profile fetches in NSE.", "Skip system profile fetches in NSE.", "Merge branch 'charlesmchen/nse2020.10.06'", "\"Bump build to 5.22.0.26.\" (Internal)", "\"Bump build to 5.22.0.27.\" (Internal)", "\"Bump build to 5.22.0.28.\" (Internal)", "\"Bump build to 5.22.0.29.\" (Internal)", "\"Bump build to 5.22.0.30.\" (nightly-10-07-2021)", "\"Bump build to 5.22.0.31.\" (Internal)", "Elaborate logging around reaction messages.", "Merge branch 'charlesmchen/reactionLogging'", "Fix race in notification cancellation.", "Merge branch 'charlesmchen/cancelNotificationsRace'", "Resend requests should not be encrypted with the 1:1 session", "Lint", "Merge branch 'mlin/PR/FixResendRequestEncryption'", "Default errors for message processing.", "Merge branch 'charlesmchen/messageProcessingDefaultErrors'", "Small changes suggested by Jordan", "\"Bump build to 5.22.0.32.\" (Internal)", "Tweak ordering in internal settings view.", "Minor improvements.", "Revert \"Minor improvements.\"\n\nThis reverts commit ed47125c5f5ad714ffb0fca642e888844f237642.", "\"Bump build to 5.22.0.33.\" (nightly-10-08-2021)", "Elaborate logging around NSE lifecycle & memory usage.", "Update Cocoapods.", "Merge branch 'charlesmchen/nse2020.10.06.2'", "Disable notification intent avatars in NSE.", "Log intent avatar behavior.", "Respond to CR.", "Merge branch 'charlesmchen/nse2020.10.06.3'", "Minor improvements.", "Fix busy elsewhere handling to ensure ringing stops", "Merge branch 'jim/fix-busy-elsewhere'", "Use server timestamp when filtering stale calls", "Merge branch 'mlin/PR/StaleCallFilteringv2'", "\"Bump build to 5.22.0.34.\" (nightly-10-09-2021)", "\"Bump build to 5.22.0.35.\" (nightly-10-10-2021)", "\"Bump build to 5.22.0.36.\" (nightly-10-11-2021)", "\"Bump build to 5.22.0.37.\" (nightly-10-12-2021)", "Fix account deletion first responder hiccups\n\nWe're removing a view while it's first responder. This is causing all\nsorts of weird behavior. Haven't gone too deep into what's going on, but\nit's like the text field gets moved to a new window? But it's still a\nsubview of the stack view. It also doesn't show up in the view debugger.\nVery weird.\n\nThis is definitely a bug on our end, but it looks like iOS 15 changed\nsome keyboard handling behavior and that's why we're only seeing this\nnow.\n\nThe fix: Use the same view for the entire lifetime of the view\ncontroller so we don't get weird behavior from swapping out views while\nit's the first responder.", "Merge branch 'mlin/PR/FixAccountDeletionResponder'", "Update emoji", "Fix lint script", "Skip files where sourcekitd crashes", "Re-add swiftlint --fix invocation", "Merge branch 'mlin/PR/UpdateEmoji'", "Take profile changes from linked devices.", "Merge branch 'charlesmchen/desktopProfileUpdates'", "Update l10n strings.", "\"Feature flags for .production.\"", "\"Bump build to 5.22.0.38.\""]}, {"tag_start": "5.21.2.4", "tag_end": "5.21.3.5", "commits": ["\"Feature flags for .beta.\"", "\"Bump build to 5.21.2.5.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.21.3.0.\" (Internal)", "Fix early rings", "Merge branch 'mlin/PR/CallingFix' into release/5.21.3", "Dynaically update database location at runtime\n\nFixes an issue where users were no longer receiving messages after\nrestoration. During restoration, the restoring device copies the\ntransferred database files to a special \"hotswap\" directory since we\ndon't want to overwrite our currently in-use database. Once finished, it\nre-opens the database pointing to our hotswap directory. It would then\nmove the hotswap database to its primary location on the next app\nlaunch.\n\nThe problem here is our extensions don't know how to read the hotswap\ndirectory. Even if we added that capability, it's going to be tricky to\ncoordinate which database they read and when as the main app shuffles\nfiles around.\n\nThis fix adjusts our restoration flow. Instead of having a special\n\"primary\" and \"hotswap\" directory that we need to fix up on the next\nlaunch, we instead record a UserDefaults entry that points to our\ncurrent database directory.\n\nOnce transfer has completed, the main app only needs to update the\ncurrent database directory in UserDefaults. No post-launch swapping\nneeds to occur.\n\nExtensions will listen for updates to this database location by\nregistering KVO on NSUserDefaults.\n\nThis change also adjusts the restoration flow to break it up into\ndiscrete stages. The motivation here is we need to make sure that a\npartial restoration doesn't put the extensions in an inconsistent state.", "Improvements to database swap flow\n\nAdded a bunch of comments clarifying the database swap requirements.\nAlso, removed the baseDir parameter from GRDBDatabaseStorageAdapter.", "Remove ability to open database in other directory modes\n\nThis is unsafe in a cross-process world", "Better handling of KVO unregistration", "Wait until new database has opened before finalizing", "Lint", "Add CI phase to select a minimum Xcode version\n\nThis change uses a throwing computed variable which was added in Swift\n5.5 and requires Xcode 13 to compile.\n\nThe default Xcode on current macOS 11 image is still 12.5.1 and won't be\nupdated until later this month. The newer Xcode is available on these\nmachines, but until October 18th we need to select it manually.\nhttps://github.com/actions/virtual-environments/issues/4180", "Three part version numbers need lexicographic ordering", "Minor changes to folder selection and restoration cleanup", "Remove debug log messages and lint", "Additional logging", "Fix database path KVO", "Merge branch 'mlin/PR/DynamicDatabaseLocations' into release/5.21.3", "\"Feature flags for .production.\"", "\"Bump build to 5.21.3.1.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.21.3.2.\" (Beta)", "Refine logging around NSE message processing.", "\"Feature flags for .production.\"", "\"Bump build to 5.21.3.3.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.21.3.4.\" (Beta)", "Elaborate logging around NSE message processing.", "\"Feature flags for .production.\"", "\"Bump build to 5.21.3.5.\""]}, {"tag_start": "5.21.0.54", "tag_end": "5.21.2.4", "commits": ["\"Feature flags for .qa.\"", "\"Bump build to 5.21.1.0.\" (Internal)", "\"Bump build to 5.21.1.1.\" (Internal)", "Refine NSE completion blocking,  message processing.", "Merge branch 'charlesmchen/nseCompletion3_5.21.1' into release/5.21.1", "Update Cocoapods.", "\"Feature flags for .production.\"", "\"Bump build to 5.21.1.2.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.21.1.3.\" (Beta)", "Update l10n strings.", "Update l10n strings.", "\"Feature flags for .production.\"", "\"Bump build to 5.21.1.4.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.21.1.5.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.21.2.0.\" (Internal)", "\"Bump build to 5.21.2.1.\" (Internal)", "Improve handling of voip pushes on iOS 15.", "Improve handling of voip pushes on iOS 15.", "Improve handling of voip pushes on iOS 15.", "Merge branch 'charlesmchen/voipPushOnIOS15' into release/5.21.2", "Kick off a ring ASAP after launching the NSE", "Aggressively clear earlyRing flag", "Merge branch 'mlin/PR/EarlyRingForNSEWake' into release/5.21.2", "Fix issue with data migrations after a schema change\n\nWe're seeing crashes during this data migration step. We fail to init\nthe OWSUserProfile from the Row result returned from the SQLite fetch\nrequest. It's likely we're indexing into an out-of-bounds index on Row.\n(Row._checkIndex is inlined so we can't be sure)\n\nGRDB caches the sqlite3_column_count during Row.init and uses that to\ndetermine if a subscript access is out-of-bounds. From what I can tell\nin an amateur reading of sqlite3.c, that just pulls the nResColumn from\nthe prepared statement. SQLite will determine the number of result\ncolumns during statement prep, but the column count can change if the\ntable schema changes:\n\n> If the database schema changes, instead of returning SQLITE_SCHEMA as\n  it always used to do, sqlite3_step() will automatically recompile the\n  SQL statement and try to run it again. As many as\n  SQLITE_MAX_SCHEMA_RETRY retries will occur before sqlite3_step() gives\n  up and returns an error.\n\nWe're nesting a deferred read transaction inside of our data migration's\nimmediate transaction. This read is using a different sqlite connection\nthat the connection performing our migrations. So its understanding of\nthe schema is stale and because it's in a deferred transaction it won't\nfigure this out until we call _step().\n\nOnce we call _step(), sqlite will realize that the table schema has\nchanged and recompile the prepared statement while opening the\ndeferred transaction. After this, the sqlite_column_count is correct.\nBut Row still has the incorrect value cached from before the schema was\nresolved.\n\nSo by the time we try and init our OWSUserProfile, Row falsely asserts\nthat we're indexing beyond the column count by comparing against a stale\nversion of the column count.\n\nThe fix:\nRework the data migration to avoid nesting a deferred read transaction.\nThis is incorrect behavior. Now that our read is using our already open\nwrite transaction with the same connection handle, it's understanding of\nthe schema is up-to-date during statement prep. So Row.init grabs the\ncurrent column count.", "Merge branch 'mlin/PR/SchemaMigrationCrash' into release/5.21.2", "\"Feature flags for .production.\"", "\"Bump build to 5.21.2.2.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.21.2.3.\" (Beta)", "Elaborate logging around NSE message processing.", "Elaborate logging around NSE message processing.", "Filter out duplicate pending acks\n\nSeeing reports of long processing delays in the NSE. We can fetch\nmessages faster than they can be acked. This backs up our ack queue with\na bunch of repeat work, which means we re-fetch the same envelopes over\nand over, which fills the ack queue with more repeat work.", "PR Feedback", "Merge branch 'mlin/PR/RepeatAckStarvation' into release/5.21.2", "\"Feature flags for .production.\"", "\"Bump build to 5.21.2.4.\""]}, {"tag_start": "5.20.4.11", "tag_end": "5.21.0.54", "commits": ["\"Feature flags for .qa.\"", "\"Bump build to 5.20.0.95.\" (Internal)", "Tweak release notes.", "\"Bump build to 5.20.0.96.\" (nightly-09-13-2021)", "\"Bump build to 5.21.0.0.\"", "\"Bump build to 5.21.0.1.\" (Internal)", "Merge branch 'release/5.20.1'", "\"Bump build to 5.21.0.2.\" (Internal)", "Refactor sender key flow to avoid write transactions\n\nThree main strategies:\n- SenderKeyStore now exposes read-only variants of some methods that\n  take read transactions\n- SKDM promise is skipped if no intended recipients need a sender key.\n  Avoids a whole write transaction on every sender key send\n- Consolidate the SKDM-send-success writes into a single write transaction", "Lint", "Fix a couple small bugs with GV2 checks and expiration\n\nComment updates", "Merge branch 'mlin/PR/AvoidWriteTransactionsInMessageSend'", "\"Bump build to 5.21.0.3.\" (nightly-09-14-2021)", "Merge branch 'release/5.20.1'", "\"Bump build to 5.21.0.4.\" (Internal)", "\"Bump build to 5.21.0.5.\" (Internal)", "Use Xcode 13 for all builds.", "\"Bump build to 5.21.0.6.\" (Internal)", "\"Bump build to 5.21.0.7.\" (nightly-09-15-2021)", "\"Bump build to 5.21.0.8.\" (nightly-09-16-2021)", "\"Bump build to 5.21.0.9.\" (Internal)", "\"Bump build to 5.21.0.10.\" (Internal)", "Don't block on intent donation.", "Merge branch 'charlesmchen/intentDonationDispatchGroup'", "\"Bump build to 5.21.0.11.\" (Internal)", "\"Bump build to 5.21.0.12.\" (Internal)", "\"Bump build to 5.21.0.13.\" (nightly-09-17-2021)", "\"Bump build to 5.21.0.14.\" (Internal)", "\"Bump build to 5.21.0.15.\" (Internal)", "Fix image blinking in link previews.", "Merge branch 'charlesmchen/linkPreviewImageCache'", "Fix spacing between link previews and quoted replies.", "Clean up.", "Merge branch 'charlesmchen/quotedReplyVsLinkPreview'", "A couple bug fixes for sender key\n\n- Desktop needs the groupId of the failed message tacked on to the\n  resend request\n- We need to be providing the unwrapped UD content to\n  DecryptionErrorMessage", "Update Pods", "Lint", "Update Pods", "Merge branch 'mlin/PR/SenderKeyBugFixes'", "\"Feature flags for .beta.\"", "\"Bump build to 5.21.0.16.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.21.0.17.\" (Internal)", "Update to RingRTC v2.13.0", "Merge branch 'ringrtc/v2.13.0'", "Update Pods", "Update Pods for RingRTC 2.13.0", "Merge branch 'release/5.20.2'", "\"Bump build to 5.21.0.18.\" (nightly-09-18-2021)", "\"Bump build to 5.21.0.19.\" (nightly-09-19-2021)", "\"Bump build to 5.21.0.20.\" (nightly-09-20-2021)", "Alert user if specified tag variant doesn't match the current build flag", "Merge branch 'mlin/PR/TagScriptTweaks'", "Update Pods", "Merge branch 'mlin/PR/PromiseChainStackExhaustion'", "Flush logs in NSE completion.", "Flush logs in NSE completion.", "Merge branch 'charlesmchen/nseCompletionLogging'", "Default HTTP headers.", "Merge branch 'charlesmchen/defaultHeaders'", "Tweak the label for quoted photos.", "Merge branch 'charlesmchen/quotedReplyPhotoLabels'", "Expire REST session manager pool when enabling/disabling CC.", "Expire REST session manager pool when enabling/disabling CC.", "Merge branch 'charlesmchen/cdsHost'", "De-duplicate pending envelopes in the message processor.", "De-duplicate pending envelopes in the message processor.", "De-duplicate pending envelopes in the message processor.", "De-duplicate pending envelopes in the message processor.", "Fix broken tests.", "Merge branch 'charlesmchen/deduplicatePendingEnvelopes'", "Streamline prod logs.", "Streamline prod logs.", "Streamline prod logs.", "Merge branch 'charlesmchen/streamlineLogging'", "\"Bump build to 5.21.0.21.\" (Internal)", "Fix build break.", "Check for NSE expiration completion; Terminate if NSE can't unlock keychain.", "Merge branch 'charlesmchen/nse2021.09.20.1'", "\"Bump build to 5.21.0.22.\" (Internal)", "Update l10n strings.", "\"Feature flags for .beta.\"", "\"Bump build to 5.21.0.23.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.21.0.24.\" (Internal)", "\"Bump build to 5.21.0.25.\" (nightly-09-21-2021)", "\"Bump build to 5.21.0.26.\" (Internal)", "\"Bump build to 5.21.0.27.\" (Internal)", "Refine NSE \"device not yet unlocked\" handling.", "Merge branch 'charlesmchen/nseVsDeviceFirstUnlock'", "Merge branch 'release/5.20.3'", "\"Bump build to 5.21.0.28.\" (Internal)", "Merge branch 'release/5.20.3'", "\"Feature flags for .beta.\"", "\"Bump build to 5.21.0.29.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.21.0.30.\" (Internal)", "\"Bump build to 5.21.0.31.\" (nightly-09-22-2021)", "Merge branch 'release/5.20.4'", "\"Feature flags for .beta.\"", "\"Bump build to 5.21.0.32.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.21.0.33.\" (Internal)", "Merge branch 'release/5.20.4'", "\"Bump build to 5.21.0.34.\" (Internal)", "\"Bump build to 5.21.0.35.\" (nightly-09-23-2021)", "Let WebSocket know about the nature of the processing failure", "Fix test compilation", "Fix tests", "Log envelope timestamp of duplicate envelopes", "Fix test compilation", "Merge branch 'mlin/PR/SkipDuplicateMessageAlerts'", "\"Feature flags for .beta.\"", "\"Bump build to 5.21.0.36.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.21.0.37.\" (Internal)", "Assert that GRDB schema/data migrations are complete before we warm caches.", "Merge branch 'charlesmchen/warmCachesVsGRDBmigrations'", "Tweak \"deprecate REST\" logic.", "Clean up test logging.", "Merge branch 'charlesmchen/tweakDeprecateREST'", "Disable websocket verbose logging.", "Merge branch 'release/5.20.4'", "\"Bump build to 5.21.0.38.\" (Internal)", "\"Bump build to 5.21.0.39.\" (Internal)", "Revert \"Merge branch 'ringrtc/v2.13.0'\"\n\nThis reverts commit c15abecb7122e46142ccfdc5be92484d7b489ebb, reversing\nchanges made to 8a19ec223b1c3a9cf968894ba13507105192f571.", "Update Cocoapods.", "\"Bump build to 5.21.0.40.\" (Internal)", "\"Bump build to 5.21.0.41.\" (Internal)", "Merge branch 'release/5.20.4'", "\"Bump build to 5.21.0.42.\" (Internal)", "Merge branch 'release/5.20.4'", "Update l10n strings.", "\"Feature flags for .beta.\"", "\"Bump build to 5.21.0.43.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.21.0.44.\" (Internal)", "\"Bump build to 5.21.0.45.\" (Internal)", "\"Bump build to 5.21.0.46.\" (Internal)", "\"Bump build to 5.21.0.47.\" (Internal)", "\"Bump build to 5.21.0.48.\" (nightly-09-24-2021)", "Update copyright dates in SDS codegen", "Merge branch 'ehren/fix-sds-copyright'", "\"Bump build to 5.21.0.49.\" (Internal)", "\"Bump build to 5.21.0.50.\" (Internal)", "\"Bump build to 5.21.0.51.\" (Internal)", "\"Bump build to 5.21.0.52.\" (Internal)", "\"Bump build to 5.21.0.53.\" (Internal)", "Elaborate logging around message processing.", "Refine de-duplication logic.", "Refine NSE completion.", "Explicitly block NSE completion on posting notifications, sending acks, etc.", "Respond to CR.", "Merge branch 'charlesmchen/messageProcessingLogs'", "Update release notes.", "Skip acks of duplicate REST messages\n\nAlso more logging to correlate un-acked messages", "Wait for RingRTC before we finish handling VoIP push", "Pause message processing in NSE when waking main app", "Rebalance semaphore count", "Add a bunch more comments explaining the concurrency logic\n\nI had written most of this in PR comments but was afraid it'd be too\nverbose for comments. PR feedback said this was useful enough to include\ninline.", "Restore some log messages post-rebase", "Only drain head-of-batch envelopes when processing a batch", "Merge branch 'mlin/PR/PushKitWaitForSetupV2'", "Update l10n strings.", "Update l10n strings.", "Fix contact diffing.", "Merge branch 'charlesmchen/phoneNumberEquality'", "Refine NSE completion blocking.", "Refine NSE completion blocking.", "Refine NSE completion blocking.", "Clean up logging.", "Merge branch 'charlesmchen/nseCompletion2'", "\"Feature flags for .production.\"", "\"Bump build to 5.21.0.54.\""]}, {"tag_start": "5.20.3.1", "tag_end": "5.20.4.11", "commits": ["\"Feature flags for .beta.\"", "\"Bump build to 5.20.3.2.\" (Beta)", "NSE should bail whenever it wakes the main app\n\nWe've observed races between the NSE+app handoff that can cause a\nmessage to be decrypted twice. This works around this by quitting the\nNSE if we decide to wake the main app. This isn't a good fix, but it\nshould address these out-of-sync session issues for now.", "Ignore call messages that won't trigger CallKit ring", "Fix compilation issue", "PR Feedback. Remove unused return value", "Logging", "Merge branch 'mlin/PR/NSEFixes' into release/5.20.3", "\"Feature flags for .qa.\"", "\"Bump build to 5.20.3.3.\" (Internal)", "\"Feature flags for .production.\"", "\"Bump build to 5.20.3.4.\"", "\"Bump build to 5.20.3.5.\" (Internal)", "Restore NSE+main call message handoff", "Merge branch 'mlin/PR/NSEPartialRollback' into release/5.20.4", "Deduplication message decryption to avoid spurious errors when NSE and main app message processing race.", "Deduplication message decryption to avoid spurious errors when NSE and main app message processing race.", "Deduplication message decryption to avoid spurious errors when NSE and main app message processing race.", "Update Cocoapods.", "Deduplication message decryption to avoid spurious errors when NSE and main app message processing race.", "\"Feature flags for .qa.\"", "Deduplication message decryption to avoid spurious errors when NSE and main app message processing race.", "Merge branch 'charlesmchen/dedupeDecryption' into release/5.20.4", "Handle certain call messages sync.", "Handle certain call messages sync.", "Handle certain call messages sync.", "Handle certain call messages sync.", "Handle certain call messages sync.", "Handle certain call messages sync.", "Merge branch 'charlesmchen/syncCallMessageHandling' into release/5.20.4", "\"Bump build to 5.20.3.6.\" (Internal)", "Store sha256 of encrypted bytes in dedupe table", "Update schema definition", "Merge branch 'mlin/PR/DedupeOptimizations' into release/5.20.4", "\"Feature flags for .production.\"", "\"Bump build to 5.20.4.0.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.20.4.1.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.20.4.2.\" (Internal)", "\"Bump build to 5.20.4.3.\" (Internal)", "Update payments cert.", "Merge branch 'charlesmchen/paymentsCert' into release/5.20.4", "\"Bump build to 5.20.4.4.\" (Internal)", "Deduplication message decryption to avoid spurious errors when NSE and main app message processing race.", "De-duplicate by serverGuid.", "Respond to CR.", "Merge branch 'charlesmchen/dedupeDecryption2' into release/5.20.4", "\"Bump build to 5.20.4.5.\" (Internal)", "\"Bump build to 5.20.4.6.\" (Internal)", "\"Bump build to 5.20.4.7.\" (Internal)", "\"Feature flags for .production.\"", "\"Bump build to 5.20.4.8.\"", "\"Bump build to 5.20.4.9.\" (Internal)", "\"Bump build to 5.20.4.10.\"", "Fire 'currentCall changed' events async.", "\"Feature flags for .qa.\"", "\"Feature flags for .production.\"", "Merge branch 'charlesmchen/currentCallChangedAsync' into release/5.20.4", "Elaborate logging around envelope decryption, decrypt de-duplication.", "Merge branch 'charlesmchen/decryptDeduplicationLogging' into release/5.20.4", "Refine decrypt deduplication.", "Refine decrypt deduplication.", "Refine decrypt deduplication.", "Refine decrypt deduplication.", "Merge branch 'charlesmchen/decryptDeduplicationByProcessing' into release/5.20.4", "\"Bump build to 5.20.4.11.\""]}, {"tag_start": "5.20.2.27", "tag_end": "5.20.3.1", "commits": ["\"Feature flags for .beta.\"", "\"Bump build to 5.20.2.28.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.20.2.29.\" (Internal)", "\"Bump build to 5.20.2.30.\" (Internal)", "\"Bump build to 5.20.3.0.\"", "Default HTTP headers.", "Check for NSE expiration completion; Terminate if NSE can't unlock keychain.", "Refine NSE \"device not yet unlocked\" handling.", "\"Feature flags for .production.\"", "\"Bump build to 5.20.3.1.\""]}, {"tag_start": "5.20.1.3", "tag_end": "5.20.2.27", "commits": ["\"Feature flags for .beta.\"", "\"Bump build to 5.20.1.4.\" (Beta)", "A couple bug fixes for sender key\n\n- Desktop needs the groupId of the failed message tacked on to the\n  resend request\n- We need to be providing the unwrapped UD content to\n  DecryptionErrorMessage", "Update Pods", "Lint", "Update Pods", "Merge branch 'mlin/PR/SenderKeyBugFixes5.20.2' into release/5.20.2", "\"Feature flags for .production.\"", "\"Bump build to 5.20.2.0.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.20.2.1.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.20.2.2.\" (Internal)", "\"Feature flags for .production.\"", "\"Bump build to 5.20.2.27.\"\n\nNote: Version number set by hand since we've already consumed up through\n5.20.2.26 in ASC"]}, {"tag_start": "5.20.0.93", "tag_end": "5.20.1.3", "commits": ["\"Feature flags for .beta.\"", "\"Bump build to 5.20.0.94.\" (Beta)", "Handle remote attestation auth request failures.", "Merge branch 'charlesmchen/remoteAttestationAuthFailure' into release/5.20.1", "\"Bump build to 5.20.1.0.\"", "\"Feature flags for .production.\"", "\"Bump build to 5.20.1.1.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.20.1.2.\" (Beta)", "Update metadata.", "\"Feature flags for .production.\"", "\"Bump build to 5.20.1.3.\""]}, {"tag_start": "5.19.1.2", "tag_end": "5.20.0.93", "commits": ["\"Bump build to 5.20.0.0.\" (Internal)", "Update NSE avatar size, add more logging", "Revert Pods.", "Merge branch 'eb/nseAvatarSizeChanges'", "\"Bump build to 5.20.0.1.\" (nightly-08-26-2021)", "Message polish.", "Message polish.", "Message polish.", "Adjust CVC message bubble v-spacing & v-margins.", "Fix CVC message bubble v-spacing & v-margins.", "Fix CVC message bubble v-spacing & v-margins.", "Message polish.", "Message polish.", "Message polish.", "Message polish.", "Message polish.", "Message polish: bubble clustering changes.", "Message polish: Quoted reply layout changes.", "Message polish: Quoted reply style changes.", "Merge branch 'charlesmchen/messagePolish'", "\"One-line\" text message layout, overlapping body text with footers.", "\"One-line\" text message layout, overlapping body text with footers.", "\"One-line\" text message layout, overlapping body text with footers.", "\"One-line\" text message layout, overlapping body text with footers.", "\"One-line\" text message layout, overlapping body text with footers.", "Fix handling of RTL text.", "Merge branch 'charlesmchen/messagePolish3'", "\"Bump build to 5.20.0.2.\" (Internal)", "\"Bump build to 5.20.0.3.\" (Internal)", "\"Bump build to 5.20.0.4.\" (Internal)", "\"Bump build to 5.20.0.5.\" (Internal)", "\"Bump build to 5.20.0.6.\" (Internal)", "\"Bump build to 5.20.0.7.\" (Internal)", "Better handling of undownloaded media in quoted replies", "Lint", "Fix compilation error on buildbot\n\nNot sure why I didn't hit these locally", "Fix some comments", "Bug fixes", "Various bug fixes and improvements\n\nMost significant here is better handling of quoted reply content without\nan attachment. Or with an attachment without a thumbnail", "Lint", "Merge branch 'mlin/PR/FixQuotedReplies'", "Fix tests", "Merge branch 'mlin/PR/FixTests'", "\"Bump build to 5.20.0.8.\" (nightly-08-27-2021)", "\"Bump build to 5.20.0.9.\" (Internal)", "\"Bump build to 5.20.0.10.\" (Internal)", "Tweak sender name size.", "Defer NSE contentUpdating until donation completes, enable caching for avatars", "Merge branch 'eb/nseAvatarDonationUpdate'", "There are two types of File Not Found errors we can ignore", "Merge branch 'mlin/PR/OrphanDataSpuriousAssertion'", "Merge branch 'release/5.19.0'", "\"Bump build to 5.20.0.11.\" (Internal)", "\"Bump build to 5.20.0.12.\" (nightly-08-28-2021)", "\"Bump build to 5.20.0.13.\" (nightly-08-29-2021)", "\"Bump build to 5.20.0.14.\" (nightly-08-30-2021)", "Merge branch 'release/5.19.0'", "\"Bump build to 5.20.0.15.\" (Internal)", "\"Bump build to 5.20.0.16.\" (Internal)", "\"Bump build to 5.20.0.17.\" (Internal)", "iOS 15: Notifications generated via NSE show failover images, notifications fail to post", "Fix crash when scanning QR codes.", "Fix crash when scanning QR codes.", "Revert \"Fix crash when scanning QR codes.\"\n\nThis reverts commit e1d151b3bfb155c141f4375ef969014aebab2f8b.", "Revert \"Fix crash when scanning QR codes.\"\n\nThis reverts commit db89733ac02bb906649c1a076d0f503cd53439af.", "Fix crash when scanning QR codes.", "Respond to CR.", "Merge branch 'charlesmchen/qrScanningVsXcode13'", "Clean up.", "Consider non-animated loads to have completed immediately.", "Remove toggleDefaultKeyboard().", "Fix bug in AtomicArray.", "Interleave CVC load building & landing.", "Interleave CVC load building & landing.", "Overlap landing animations.", "Clean up ahead of PR.", "Merge branch 'charlesmchen/loadLandingPerformance'", "Update Cocoapods.", "Merge branch 'release/5.19.0'", "\"Bump build to 5.20.0.18.\" (Internal)", "Add logging around websocket lifecycle.", "Merge branch 'charlesmchen/webSocketLogging'", "\"Bump build to 5.20.0.19.\" (Internal)", "\"Bump build to 5.20.0.20.\" (nightly-08-31-2021)", "\"Bump build to 5.20.0.21.\" (Internal)", "\"Bump build to 5.20.0.22.\" (nightly-09-01-2021)", "Clean up CVC layout scroll continuity.", "Add sticky headers to CVC.", "Add sticky headers to CVC.", "Update date header and message footer date formatting.", "Add background bubble to date headers.", "Add sticky headers to CVC.", "Only use compact spacing within a cluster.", "Clean up ahead of PR.", "Respond to CR.", "Merge branch 'charlesmchen/stickyHeaders'", "\"Bump build to 5.20.0.23.\" (Internal)", "Merge branch 'release/5.19.0'", "\"Feature flags for .qa.\"", "\"Bump build to 5.20.0.24.\" (Internal)", "Fixes a handful of sender key issues\n\n- Some clients have registrationIds outside of the valid range. This\n  breaks sender key encryption. Now we filter for valid registrationIds\n  before adding a recipient to the sender key cohort.\n- Fixes an issue where sender key errors were incorrectly reporting\n  retryability\n- SKDMs sent on behalf of an isOnline message will not bother\n  establishing a session and instead fail immediately.", "Fix maxRegistrationId typo. Lint", "PR Feedback: Avoid write transaction", "Fix broken test", "PR Feedback v2\n\nRemoved the extra -loadSessionIfExists method. I was concerned that we\nmight need to perform SignalRecipient lookups and updates in certain\ncases. Nora assured me that it should be safe to always call the\nread-only OWSAccountIdFinder.accountId instead of\nOWSAccountIdFinder.ensureAccountId. If we have an entry in the session\nstore, it must have already an entry in the SignalRecipients database.\n\nIn other words, if we fail to fetch an accountId from the\nSignalRecipients table, then we know there's never going to be a session\nrecord in the session store.", "Removed unrelated log line update", "Merge branch 'mlin/PR/SenderKeyFixes'", "Never emit invalid e164 in storage service contact records; be robust to invalid e164 incoming protos.", "Never emit invalid e164 in storage service contact records; be robust to invalid e164 incoming protos.", "Never emit invalid e164 in storage service contact records; be robust to invalid e164 incoming protos.", "Refine production logging.", "Assert when we emit invalid e164 in a proto.", "Update protos.", "Merge branch 'charlesmchen/invalidE164'", "Update KBS staging serviceIDs", "Merge branch 'mlin/PR/UpdateKBSStagingServiceIDs'", "Disable verbose load logging in CVC.", "Update opaque call message\n\nRingRTC will now vend the urgency of an incoming opaque call message. We\ncan use this to determine whether or not we want the NSE to wake the\nmain app.", "Update to RingRTC v2.12.0", "Merge branch 'mlin/PR/RingRTCAPIUpdates'", "Merge branch 'release/5.19.0'", "Update Cocoapods.", "Merge branch 'release/5.19.0'", "iOS 15: NSE generated notifications show system fallback avatar", "Merge branch 'eb/nseInfoPlist'", "\"Bump build to 5.20.0.25.\" (nightly-09-01-2021)", "Fix low volume issue for incoming video call", "Reverting and improving audio session decision block", "Merge branch 'jim/fix-low-volume-issues'", "\"Bump build to 5.20.0.26.\" (nightly-09-02-2021)", "iOS 15: NSE should link Intents.framework", "Merge branch 'eb/nseIntentsLinking'", "Merge branch 'release/5.19.0'", "Elaborate logging around missing notifications.", "Update l10n strings.", "Merge branch 'charlesmchen/missingNotifications'", "\"Bump build to 5.20.0.27.\" (Internal)", "\"Bump build to 5.20.0.28.\" (Internal)", "\"Bump build to 5.20.0.29.\" (Internal)", "\"Bump build to 5.20.0.30.\" (Internal)", "\"Bump build to 5.20.0.31.\" (nightly-09-03-2021)", "Fix sticky header animations.", "Tune the sticky header background colors.", "Fix audio message layout.", "Merge branch 'charlesmchen/stickyHeaderFixes'", "\"Bump build to 5.20.0.32.\" (Internal)", "\"Bump build to 5.20.0.33.\" (Internal)", "Add more logging around missing notifications.", "Add more logging around missing notifications.", "Merge branch 'charlesmchen/missingNotifications2'", "\"Bump build to 5.20.0.34.\" (Internal)", "Convert to new Promise library", "Merge SignalCoreKit changes", "Address rebase conflicts", "Merge branch 'nt/promises'", "\"Bump build to 5.20.0.35.\" (Internal)", "Add logging around missing notifications.", "\"Bump build to 5.20.0.36.\" (Internal)", "Fix rebase break.", "\"Bump build to 5.20.0.37.\" (Internal)", "\"Bump build to 5.20.0.38.\" (Internal)", "Additional strategies to avoid prekey ratelimit\n\n- First, we should skip fetching prekeys for transient messages in our\n  advisory call to -ensureSessionsForMessageSend:ignoreErrors:. We\n  already skip transient messages in our prekey fetch where errors *do*\n  matter, so this additional check should be able to skip the prekey\n  fetch as well.\n\n- OWSOutgoingReceiptManager should stop trying to send receipts to\n  recipients that are untrusted. This just burns through prekey fetches\n  for sends that we know will fail anyway.\n\n- SafetyNumberConfirmationSheet should handle marking a recipient as\n  trusted. Callers are hit or miss on whether they actually update the\n  verification state.\n\n- These fixes also happen to make SafetyNumberConfirmationSheet\n  presentation a bit more reliable. Before, multiple confirmation sheets\n  might flash in quick succession. This seems to fix that", "Fix tests", "Merge branch 'mlin/PR/PrekeyRatelimitAvoidance'", "IOS-1828: CallKitCallUIAdaptee not checking providerDidBegin:\n\nFixes a bug where we can race talking to callservicesd when starting our\nfirst call. More detailed analysis of logs in IOS-1345 but briefly:\n\n1. We construct a CXProvider with a maxCallGroup config of 1.\n    \\- XPC to callservicesd\n\n2. We start a call.\n    \\- XPC to callservicesd\n\n3. callservicesd processes the startCall message first. Sees we don't\n   have a configuration set up. Assumes maxCallGroup config value of 0.\n   Fails to start the call with error code: .maximumCallGroupsReached\n\n4. callservicesd processes the configuration update and now we have a\n   maximumCallGroups of 1.\n\nBy delaying all of our CXProvider requests until after we receive a\ndelegate callback that -providerDidBegin:, we should be able to order\nour requests in a way CallKit expects.", "Merge branch 'mlin/PR/IOS-1828_ListenForProviderDidBegin'", "Drop PromiseKit from test import", "Fix various issues with TESTABLE_RELEASE\n\nWhile running some perf tests on database queries, I was building\nagainst TESTABLE_RELEASE to have things built with optimizations.\n\nI saw some weird behavior:\n- Share extension would crash\n- No logs would be recorded\n\nI went through and cleaned up some things that appeared incorrect with\nhow we handled TESTABLE_RELEASE", "Add additional logging around discarded messages", "PR Feedback", "Merge branch 'mlin/PR/FixIssuesWithTestableRelease'", "\"Bump build to 5.20.0.39.\" (Internal)", "\"Bump build to 5.20.0.40.\" (Internal)", "\"Bump build to 5.20.0.41.\" (Internal)", "\"Bump build to 5.20.0.42.\" (Internal)", "Fix styling in body text edge cases.", "Merge branch 'charlesmchen/bodyTextEdgeCases'", "\"Bump build to 5.20.0.43.\" (nightly-09-05-2021)", "\"Bump build to 5.20.0.44.\" (nightly-09-06-2021)", "\"Bump build to 5.20.0.45.\" (Internal)", "\"Bump build to 5.20.0.46.\" (Internal)", "\"Bump build to 5.20.0.47.\" (Internal)", "\"Bump build to 5.20.0.48.\" (Internal)", "\"Bump build to 5.20.0.49.\" (nightly-09-07-2021)", "Merge branch 'release/5.19.1'", "\"Bump build to 5.20.0.50.\" (Internal)", "\"Bump build to 5.20.0.51.\" (Internal)", "\"Feature flags for .beta.\"", "\"Bump build to 5.19.1.3.\" (Beta)", "Merge branch 'release/5.19.1'", "Update release notes.", "Update release notes.", "Add unrestricted voip entitlement to NSE", "\"Bump build to 5.20.0.52.\" (nightly-09-07-2021)", "Fix contentToUse mutability", "\"Bump build to 5.20.0.53.\" (nightly-09-07-2021)", "Fix crash where we recursively reacquire lock\n\nThe recent Promise changes have changed this behavior. Before, we could\nassume that each promise closure was run in an independent context. Now,\nwith the perf improvements with `asyncIfNecessary`, the guarantee may\nnot always hold.\n\nIn this case, the lock acquired outside of the promise chain continues\nto be held inside of the promise chain.", "Fix typo breaking compilation", "Merge branch 'mlin/PR/FixReenterantUnfairLockInGV2Processor'", "Update Pods", "\"Bump build to 5.20.0.54.\" (nightly-09-08-2021)", "Fix \"no session for transient message\" errors.", "Revert changes around error handling now that when(fulfilled:) works correctly", "Merge branch 'charlesmchen/anyPromiseErrors'", "Design feedback around message forwarding flow.", "Design feedback around message forwarding flow.", "Design feedback around message forwarding flow.", "Merge branch 'charlesmchen/messageForwardDesign'", "Fix broken tests.", "Port OWSWebSocket to Swift.", "Clean up ahead of PR.", "Simplify web socket background state.", "Simplify 'background keep alive' behavior in websocket.", "Simplify web socket background state.", "Simplify web socket background state.", "Remove OWSWebSocket entirely off main thread.", "Remove OWSWebSocket entirely off main thread.", "Add logic around background keep alive.", "Refine background keep alive behavior.", "Refine background keep alive behavior.", "Refine background keep alive behavior.", "Refine background keep alive behavior.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Fix \"drain queue date\" book-keeping.", "Update Cocoapods.", "Merge branch 'charlesmchen/portWebSocket2'", "Overlap load landings.", "Overlap load landings.", "Suppress over-zealous assert.", "Overlap load landings.", "Fix rebase breakage.", "Improve perf of CVC date math.", "Refine CVC text measurement caching.", "Cache display names when building CVC item models.", "Streamline publishing of database change events.", "Rework DebouncedEvent.", "Merge branch 'charlesmchen/overlapLoadLandings'", "Update l10n strings.", "Update l10n strings.", "\"Feature flags for .beta.\"", "\"Bump build to 5.20.0.55.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.20.0.56.\" (Internal)", "Fix missing notifications with XCode 13 & iOS 14 and earlier.", "Merge branch 'charlesmchen/missingNotificationsXCode13'", "\"Bump build to 5.20.0.57.\" (Internal)", "Disable CVC load logging in internal builds.", "\"Bump build to 5.20.0.58.\" (Internal)", "Update to SignalClient 0.9.0", "Fix build break.", "\"Bump build to 5.20.0.59.\" (Internal)", "Add metrics around rendering message sends.", "Refine message send bench milestones.", "Start DB change observer display link sooner.", "Tune CVC load coordinate event.", "Remove databaseChangesWillUpdate.", "Tweak CVC loads.", "Refine message send milestones.", "Log message send benchmarks in production", "Merge branch 'charlesmchen/messageSendPerfMore'", "\"Bump build to 5.20.0.60.\" (nightly-09-09-2021)", "Apply design feedback.", "Apply design feedback.", "Ensure layout attributes are applied to freshly configured cells.", "Ensure layout attributes are applied to freshly configured cells.", "Tweak footer hiding in CVC.", "Merge branch 'charlesmchen/designTweaks'", "Update l10n strings.", "Streamline websocket requests.", "Rename WebSocketConnection.", "Improve logging around websocket failures.", "Cycle websocket if a request times out.", "Merge branch 'charlesmchen/messageSendPerf3'", "Fix 'cycle websocket on timeout' behavior.", "Use native URLSession WebSockets on iOS 13+", "Migrate sender key to NetworkManager", "Update Pods", "Lint", "Tweak deprecate REST.", "Update Pods", "Merge branch 'mlin/PR/SenderKeyWebsocket'", "Migrate from distribution UUID to KeyID", "Remove testing log messages", "Merge branch 'mlin/PR/SenderKeyIds'", "Use new host names in production.", "\"Feature flags for .production.\"", "\"Bump build to 5.20.0.61.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.20.0.62.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.20.0.63.\" (Internal)", "Whitelist sender key requests for websocket.", "Merge branch 'charlesmchen/websocketRequestWhitelist'", "\"Feature flags for .production.\"", "\"Bump build to 5.20.0.64.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.20.0.65.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.20.0.66.\" (Internal)", "Update release notes.", "Update l10n strings.", "Honor query and fragment in websocket requests.", "Merge branch 'charlesmchen/websocketRequestsVsQuerystrings'", "\"Feature flags for .production.\"", "\"Bump build to 5.20.0.67.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.20.0.68.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.20.0.69.\" (Internal)", "Fix table bottom view layout.", "Merge branch 'charlesmchen/tableBottomView'", "\"Feature flags for .production.\"", "\"Bump build to 5.20.0.70.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.20.0.71.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.20.0.72.\" (Internal)", "Elevate sender key queue to userInitiated\n\nIdeally we should be userInitiated if the corresponding conversation is\nvisible, but we don't have that info at the moment.", "Merge branch 'mlin/PR/SenderKeyQoSChanges'", "Improve handling of native websocket errors.", "Merge branch 'charlesmchen/nativeWebsocketErrors'", "\"Feature flags for .production.\"", "\"Bump build to 5.20.0.73.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.20.0.74.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.20.0.75.\" (Internal)", "Improve handling of native websocket errors.", "Merge branch 'charlesmchen/nativeWebsocketErrors2'", "\"Feature flags for .production.\"", "\"Bump build to 5.20.0.76.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.20.0.77.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.20.0.78.\" (Internal)", "Elaborate logging around message processing in the NSE.", "Merge branch 'charlesmchen/nseProcessingPerf'", "\"Bump build to 5.20.0.79.\" (Internal)", "\"Bump build to 5.20.0.80.\" (nightly-09-10-2021)", "Increase the max outgoing sender key envelope size\n\nThe overhead for each sender key recipient rapidly increases the\nenvelope size even though the server will split the resulting messages\ninto smaller per-recipient chunks", "Adjust max size declaration", "Merge branch 'mlin/PR/IncreaseMaxOutgoingSenderKeySize'", "Increase the max outgoing sender key envelope size\n\nThe overhead for each sender key recipient rapidly increases the\nenvelope size even though the server will split the resulting messages\ninto smaller per-recipient chunks", "Adjust max size declaration", "\"Feature flags for .production.\"", "\"Bump build to 5.19.2.0.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.19.2.1.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.19.2.2.\"", "Elaborate logging around message processing and web sockets.", "Elaborate logging around message processing and web sockets.", "Merge branch 'charlesmchen/messageProcessingLogging'", "\"Bump build to 5.20.0.81.\" (Internal)", "Add feature flag around holding websockets open until drained.", "Merge branch 'charlesmchen/websocketUntilDrained'", "Merge remote-tracking branch 'private/release/5.19.2'", "\"Bump build to 5.20.0.82.\" (Internal)", "Elaborate logging around message processing and web sockets.", "Disable native websocket, refine logging.", "Merge branch 'charlesmchen/disableNativeWebsocket'", "\"Bump build to 5.20.0.83.\" (Internal)", "Avoid spurious logging.", "\"Bump build to 5.20.0.84.\" (Internal)", "\"Bump build to 5.20.0.85.\" (nightly-09-11-2021)", "Enable native websocket.", "\"Bump build to 5.20.0.86.\" (Internal)", "Disable native websocket.", "\"Bump build to 5.20.0.87.\" (Internal)", "Enable native websocket.", "\"Bump build to 5.20.0.88.\" (Internal)", "Disable native websocket.", "\"Bump build to 5.20.0.89.\" (Internal)", "\"Bump build to 5.20.0.90.\" (nightly-09-12-2021)", "Update l10n strings.", "\"Feature flags for .production.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.20.0.91.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.20.0.92.\" (Internal)", "\"Feature flags for .production.\"", "\"Bump build to 5.20.0.93.\""]}, {"tag_start": "5.19.0.5036", "tag_end": "5.19.1.2", "commits": ["\"Feature flags for .beta.\"", "\"Bump build to 5.19.0.5037.\" (Beta)", "Re-add the CC host to RESTNetworkManager", "Merge branch 'mlin/PR/FixCensorshipCircumvention' into release/5.19.1", "\"Feature flags for .production.\"", "\"Bump build to 5.19.1.0.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.19.1.1.\" (Beta)", "Revert \"Eliminate wait on main thread for every network request\"\n\nThis reverts commit 4835ce2700954ba6e01065e848d413e9691f4745.", "\"Feature flags for .production.\"", "\"Bump build to 5.19.1.2.\""]}, {"tag_start": "5.18.3.0", "tag_end": "5.19.0.5036", "commits": ["Context menus need AX / Voiceover support", "Fixes sender key for unrestricted UD\n\nThe server doesn't care about access keys for unrestricted UD. Usually\nwe generate random data, but for sender key where we xor each key,\ngenerating a random key would scribble over the keys that the server\ndoes care about.\n\nInstead, for unrestricted UD we just use an access key of zeroes", "Update Podfile now that SMK change is merged", "Merge branch 'mlin/PR/SenderKeyUnrestrictedUD'", "Merge branch 'release/5.18.0'", "\"Feature flags for .qa.\"", "\"Bump build to 5.18.0.50.\" (Internal)", "Merge branch 'eb/contextMenuAXSupport'", "Merge branch 'release/5.18.0'", "\"Bump build to 5.18.0.51.\" (Internal)", "Merge branch 'release/5.18.0'", "\"Bump build to 5.18.0.52.\" (Internal)", "IOS-1616: Resent messages with attachments fail to show attachment\n\nFixes a bug where attachment albumMessageId is assigned before we check\nto see if an incoming message should inherit the id of an existing\ninteraction.\n\nBefore, we'd construct a new incoming message (automatically assigning a\nunique id), then build the attachments, then -insertOrReplace, updating\nthe unique id in the replace case.\n\nNow, we wait until after -insertOrReplace to construct the\nalbumMessageId.", "Lint", "Merge branch 'mlin/PR/IOS-1616'", "Extend error messaging to beta users", "PR Feedback\n\n- Avoid accessing `build` in FeatureFlags.swift\n- Make it private so others aren't tempted\n- Now that build is private, drop the named build variants. It's cute,\n  but ultimately not necessary", "Merge branch 'mlin/PR/BetaErrorMessaging'", "Adjust how resend responses are constructed\n\n- Resend payload is fetched at time of init\n- SKDM is appended to message if necessary\n- SKDM delivery record is adjusted with lifecycle of resend response\n\nMessage plaintext builder on TSOutgoingMessage now takes a write\ntransaction. Every call site already occurs inside of a write\ntransaction anyway. This is necessary since we're appending the SKDM to\nthe resend response. SignalClient's context object is always a write\ntransaction.", "Add debug flag to delay sending a resend response\n\nSo far I've been toggling airplane mode to watch resends happen. This\nslows things down to human scale", "Fixed bug: stale transaction on delayed resend", "Lint + tiny fixes", "Merge branch 'mlin/PR/ResendResponseCleanup'", "Fixes a bug with -shouldAppearInInboxWithTransaction:\n\nMessages that reply NO for -shouldAppearInInboxWithTransaction: do not\ntouch the owning thread on an insert or update", "Merge branch 'mlin/PR/IOS-1674_MissingUpdateThreadObserver'", "\"Bump build to 5.19.0.0.\" (Internal)", "\"Bump build to 5.19.1.0.\" (Internal)", "Revert \"\"Bump build to 5.19.1.0.\" (Internal)\"\n\nThis reverts commit 68af37be9e7899af571c9b583c34b42d7fb2a3f4.", "Revert \"\"Bump build to 5.19.0.0.\" (Internal)\"\n\nThis reverts commit a806532693ac925e1c73e36c8dd7e7cb0d8f1b3e.", "\"Bump build to 5.19.0.0.\" (Internal)", "\"Bump build to 5.19.0.1.\" (Internal)", "Merge branch 'release/5.18.0'", "Merge branch 'release/5.18.0'", "Merge branch 'release/5.18.0'", "Fix WebRTC/RingRTC submodules.", "Update Cocoapods.", "\"Bump build to 5.19.0.2.\" (Internal)", "Fix name component formatting cache key.", "\"Bump build to 5.19.0.3.\" (Internal)", "Merge branch 'release/5.18.0'", "\"Bump build to 5.19.0.4.\" (Internal)", "\"Bump build to 5.19.0.5.\" (nightly-08-07-2021)", "\"Bump build to 5.19.0.6.\" (nightly-08-08-2021)", "\"Bump build to 5.19.0.7.\" (nightly-08-09-2021)", "Merge branch 'release/5.18.0'", "\"Bump build to 5.19.0.8.\" (Internal)", "\"Bump build to 5.19.0.9.\" (nightly-08-10-2021)", "Merge branch 'release/5.18.0'", "\"Bump build to 5.19.0.10.\" (Internal)", "Context menu previews should show preexisting reactions", "Merge branch 'eb/contextMenuReactions'", "Merge branch 'release/5.18.0'", "\"Bump build to 5.19.0.11.\" (Internal)", "Walk backwards to find multiple buckets for timestamp updates", "Merge branch 'mlin/PR/PlaceholderTimestampUpdates'", "\"Bump build to 5.19.0.12.\" (Internal)", "\"Bump build to 5.19.0.13.\" (Internal)", "Merge branch 'release/5.18.0'", "\"Bump build to 5.19.0.14.\" (Internal)", "\"Bump build to 5.19.0.15.\" (nightly-08-11-2021)", "Merge branch 'release/5.18.0'", "\"Bump build to 5.19.0.16.\" (Internal)", "\"Bump build to 5.19.0.17.\" (Internal)", "\"Bump build to 5.19.0.18.\" (nightly-08-12-2021)", "Merge branch 'release/5.18.1'", "Context Menu items need \"Actions Available\" hint, correct focus after presentation", "Merge branch 'eb/contextMenuAxImprovements'", "Preload content/measurement/layout for home view cells.", "Preload content/measurement/layout for home view cells.", "Respond to CR.", "Merge branch 'charlesmchen/preloadHomeView'", "Catch empty group updates.", "Respond to CR.", "Merge branch 'charlesmchen/catchEmptyGroupUpdates'", "Fix build warnings.", "Respond to CR.", "Merge branch 'charlesmchen/fixBuildWarnings'", "Cache home view cell height.", "Cache home view cell height.", "Merge branch 'charlesmchen/cacheHomeViewCellHeight'", "\"Bump build to 5.19.0.19.\" (Internal)", "Tweak our log stripper to not strip timestamps\n\nThe new hex stripper is a bit too aggressive and will strip out\ntimestamps as well. Adjusting the minimum number of bytes from 6 to 7\nbuys us a couple hundred years.\n\nInitial: \"timestamp: 1628539368550\"\nBefore:  \"timestamp: [ REDACTED_HEX:...550 ]\"\nAfter:   \"timestamp: 1628539368550\"", "Merge branch 'mlin/PR/DoNotStripTimestamps'", "Include groupId on the envelope of the resend response\n\nDesktop needs this for their recovery flow. It seems to make sense too.\nIn addition to plumbing through the original groupId, I'm also including\nsome extra comments.\n\nDepends on a change to SignalMetadataKit", "Merge branch 'mlin/PR/IncludeGroupIdWithResentMessage'", "Update SignalMetadataKit", "IOS-1719: Parse SKDMs even if the sender is blocked\n\nWe need to make sure we parse incoming sender key distribution messages,\neven if the source address is blocked. Consider the following scenario:\n\n1. Alice blocks Bob\n2. Bob sends his first message to a sender key group with Alice\n3. Bob sends an SKDM to all participants, including Alice\n4. Alice receives the SKDM but drops it before processing since Bob is\n   blocked\n5. Alice unblocks Bob\n6. Bob sends another message, but sees that Alice doesn't need an SKDM\n   since, as far as he knows, she learned of the key from the last\n   message.\n7. Alice fails to decrypt, since she dropped the required key before it\n   could be processed.\n\nThis change adds a \"preprocessing\" phase between decrypt and processing.\nThis phase should always be performed, even for envelopes where the\nsender is blocked. It must also be performed in the same transaction as\nthe original decryption.", "Add log message", "PR Feedback", "Merge branch 'mlin/PR/IOS-1719_ParseSKDMsFromBlockedUsers'", "\"Bump build to 5.19.0.20.\" (Internal)", "\"Bump build to 5.19.0.21.\" (nightly-08-13-2021)", "\"Bump build to 5.19.0.22.\" (nightly-08-14-2021)", "\"Bump build to 5.19.0.23.\" (nightly-08-15-2021)", "Merge branch 'release/5.18.2'", "\"Bump build to 5.19.0.24.\" (nightly-08-16-2021)", "Merge branch 'release/5.18.2'", "Fix issue where sender key sends would repeatedly fail\n\nThe SenderKeyStore keeps a list of all recipients of a group that have\nreceived the sender key. This is so we can skip an SKDM send if we\nknow the recipient device list hasn't changed. For a group, we record:\n- The list of recipient addresses that were sent the last SKDM\n- Every device for each recipient that was sent an SKDM\n- (Recently added) the registrationId for each device (to guard against\n  deviceId resuse).\n\nTo add the registrationId, we needed to add a session lookup to get the\ncurrent registrationId. This would fail if there's no current session,\nsince SignalClient throws an \"invalidState\" error.\n\nThere are two situations where SenderKeyStore needs to lookup the\ncurrent session state will building a KeyMetadata.\n- When computing `recipientsInNeedOfSenderKey`\n- When recording `recordSenderKeySent`\n\nIn the second case, the recipient should always have an established\nsession, since this is only called after a message has been sent. But in\nthe first case, that's called while we're determining whether or not to\nsend an SKDM and before we would establish any session.\n\nTo fix this issue, this change catch's any errors thrown from\nSignalClient when building a the current recipient state in\n`recipientsInNeedOfSenderKey`. If we're unable to build the current\nrecipient state (because of lack of session or otherwise) we'll now\nassume that recipient needs an SKDM (as opposed to throwing upwards,\nwhich was the prior behavior).", "PR Feedback: Fail louder if unknown error", "Merge branch 'mlin/PR/SenderKeyBugFix_FailToSendIfNoSession'", "\"Bump build to 5.19.0.25.\" (Internal)", "IOS-1718: Foreign constraint failure on MessageSendLog\n\nFixes a bug where a incoming delivery receipt can race with an\nin-progress send.\n\n- When a message is preparing to be sent, a payload is inserted\n- As sends are successful, recipient entries are added to indicate that\n  we're awaiting delivery acknowledgement.\n- Once all recipient entries have been cleared (every recipient has\n  acked), we delete the payload.\n\nIf a message is being sent to A and B: A succeeds, but B is delayed, and\nA acks before B can be sent, the payload entry will be cleared.\n\nThis change adds a \"sendComplete\" bit to the MSL table to indicate\nwhether or not the entry should be preserved even if all recipients have\nacked.", "Lint", "Fix a bug with date comparison. Added tests", "PR Feedback: sendComplete should default false", "Merge branch 'mlin/PR/IOS-1718_ForeignKeyConstraintFailure'", "\"Bump build to 5.19.0.26.\" (Internal)", "Add exclusiveProcessIdentifier to SSKJobRecord", "Allow JobRecords to be excluded to the current process", "Send typing indicators using message sender job queue", "Add isHighPriority field and promise support to message sender job queue", "Send all messages via MessageSenderJobQueue", "PR Feedback", "Merge branch 'nt/message-send-unification'", "Fix user profile update methods.", "Merge branch 'charlesmchen/userProfileAvatarSetters'", "Xcode 13 / iOS 15 project build support", "Merge branch 'eb/xcode13support'", "\"Bump build to 5.19.0.27.\" (nightly-08-17-2021)", "Merge branch 'release/5.18.2'", "\"Bump build to 5.19.0.28.\" (Internal)", "Merge branch 'release/5.18.2'", "\"Bump build to 5.19.0.29.\" (Internal)", "Adhere proto wrappers to NSSecureCoding", "iOS 15 communication notification support for messages", "Review feedback", "Merge branch 'eb/messageCommStyleNotificationSupport'", "iOS 15 communication notification support for calls", "Merge branch 'eb/callCommStyleNotificationSupport'", "\"Feature flags for .beta.\"", "\"Bump build to 5.18.3.1.\" (Beta)", "\"Bump build to 5.19.0.30.\" (nightly-08-18-2021)", "Evaluate presenting flag for nil states as false", "Add UD websocket.", "Deprecate REST, Part 1\n\n* Port socket manager to Swift.\n* Clean up HTTP request success/failure state & errors.\n* Rework network manager.\n* Rework HTTP errors.\n* Rework errors \"properties\": isRetryable, etc.\n* Fix test breakage.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Update host names for main service.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Respond to CR; fix broken tests.", "Update Cocoapods.", "Merge branch 'charlesmchen/websocketNeverREST2_'", "Refine error localizedDescription.", "Refine error localizedDescription.", "Refine error localizedDescription.", "Refine error localizedDescription.", "Update Cocoapods.", "Refine names.", "Respond to CR.", "Respond to CR.", "Fix test problem.", "Merge branch 'charlesmchen/websocketNeverREST3'", "Update l10n strings.", "\"Bump build to 5.19.0.31.\" (Internal)", "Support new privacy option updates for iOS 15 Communication style notifications", "Merge branch 'eb/privacyUpdates'", "Fix test problem.", "iOS 15 Notification Action Glyph Support", "Merge branch 'eb/notificationActionGlyphs'", "Fix test problem.", "Fix universal DM syncing", "Allow images to maintain original quality if below a certain size", "Call the correct super method.", "Stop camera capture when the view is not in the foreground and resume\ncapture when it becomes foreground again. Fixes #5050", "Fix typo in log message.", "Reset/clear the `popPercentDrivenTransition` after a gesture has ended\nso the cancelled instance won't be accidentally used by\nnavigationController delegate. Fixes #4982", "Allow sharing items with UTI `com.apple.pkpass`.", "Show a `PKAddPassesViewController` if a pass attachment was tapped.", "Use the same method to count how many sections to show as the other delegate methods, to decide what to show after deleting items. Fixes #4932.", "CI: Use ruby/setup-ruby step with .ruby-version\n\n - Replaces the actions/setup-ruby step, which is deprecated, with the ruby/setup-ruby step\r\n - Uses the Ruby version from the .ruby-version file", "Do not attempt to create link previws for .i2p links", "Add missing accessibility labels Share extension\n\nCloses https://github.com/signalapp/Signal-iOS/issues/4801\n\nTest Plan:\n1. Open the Share extension, and check out the VoiceOver labels on the buttons (see screenshot here).", "GitHub Issue config: sync changes from Signal-Android\n\nThis issue template got merged into Signal-Android with a few small changes, so this commit brings those changes over to the Signal-iOS repo.\n\nOnly affects GitHub, no functional code changes.", "Correct minor spelling and punctuation errors", "shouldAllowLinkification now uses caseInsensitive regex when looking for host", "fix weird alpha issue with highlighted background color (UIColor.clear)", "Update SignalMessaging/Views/OWSFlatButton.swift\n\nCo-authored-by: Mustafa G\u00dcNE\u015e <gunes149@gmail.com>", "Fix linting issues", "Merge branch 'nt/little-fixes129'", "Group call avatars incorrectly configured, ensure incoming donations do not occur for correct notification settings", "Merge branch 'eb/notificationSettingUpdates'", "Disable idle timer when PhotoCaptureViewController is visible", "Fix github actions", "\"Bump build to 5.19.0.32.\" (nightly-08-19-2021)", "Fix username editor.", "Respond to CR.", "Merge branch 'charlesmchen/usernameEditor'", "Elaborate local profile avatar logging.", "Elaborate local profile avatar logging.", "Elaborate local profile avatar logging.", "Elaborate local profile avatar logging.", "Merge branch 'charlesmchen/localProfileAvatarLogging'", "\"Bump build to 5.19.0.33.\" (Internal)", "Add Inter to NSE target.", "Merge branch 'charlesmchen/nseVsInter'", "\"Bump build to 5.19.0.34.\" (Internal)", "Rework view state for multi-forward.", "Rework view state for multi-forward.", "Rework view state for multi-forward.", "Modify forward flow multi-forward.", "Modify forward flow multi-forward.", "Modify forward flow multi-forward.", "Modify forward flow multi-forward.", "Modify forward flow multi-forward.", "Modify forward flow multi-forward.", "Modify forward flow to support multi-forward.", "Modify forward flow to support multi-forward.", "Modify forward flow to support multi-forward.", "Modify forward flow to support multi-forward.", "Modify forward flow to support multi-forward.", "Modify forward flow to support multi-forward.", "Modify forward flow to support multi-forward.", "Modify forward flow to support multi-forward.", "Implement partial delete.", "Fix home view preview dismissal.", "Modify forward flow to support multi-forward.", "Allow user to add a text message to forwarded messages.", "Show success toast.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/multiForward'", "Use InteractiveSheetViewController.", "Refine message forwarding flow.", "Refine selection UI alignment.", "Refine selection UI appearance.", "Fix selection UI layout.", "Refine message forwarding flow.", "Merge branch 'charlesmchen/multiForward2'", "A bunch of small fixes for sender key\n\n- Add a remote config for MSL entry lifetime\n- Improved logging\n- In-memory persistence of sender key store info now backed by a\n  self-evicting cache", "Merge branch 'mlin/PR/SenderKeySmallFixes'", "Fix tests", "Merge branch 'mlin/PR/FixTests2'", "Timestamp mismatch between envelope inside and outside\n\nOn a resend response, when fetching the proto payload from the MSL, some\nincorrect float math led to an off-by-one timestamp for some timestamps.\n\nOne example is the timestamp 1629210680140. When converting to a date:\n1629210680140 / 1000.0 = 1629210680.1399999\n\nThen when converting back to milliseconds:\nInt(1629210680.1399999 * 1000.0) = 1629210680139\n\nTo fix this, the MSL now only operates with UInt64 millisecond\ntimestamps.", "Swap out column types for more appropriate replacements", "Re-include sendComplete condition in payload cleanup trigger", "Merge branch 'mlin/PR/IOS-1762_MSLTimestampMismatch'", "\"Bump build to 5.19.0.35.\" (nightly-08-20-2021)", "Merge remote-tracking branch 'private/release/5.18.3'", "Small fixes from 5.19.0 diff review.", "Always use the NSE on iOS 15, never on iOS 14 outside of development", "Use Xcode 13 for nightly builds", "\"Bump build to 5.19.0.36.\" (nightly-08-20-2021)", "Don't confuse ruby and python syntax..", "Fix xcode 13 selection for nightly builds", "\"Bump build to 5.19.0.37.\" (nightly-08-21-2021)", "\"Bump build to 5.19.0.38.\" (nightly-08-22-2021)", "\"Bump build to 5.19.0.39.\" (Internal)", "\"Bump build to 5.19.0.40.\" (nightly-08-23-2021)", "\"Bump build to 5.19.0.41.\" (Internal)", "Tap to copy app version in help view to clipboard.", "Respond to CR.", "Merge branch 'charlesmchen/copyAppVersionToClipboard'", "Apply new host names in beta.", "Merge branch 'charlesmchen/newHostNamesBeta'", "\"Bump build to 5.19.0.42.\" (Internal)", "\"Bump build to 5.19.0.43.\" (Internal)", "\"Bump build to 5.19.0.44.\" (Internal)", "Fix over-zealous asserts.", "Rework selection layout again.", "Merge branch 'charlesmchen/multiForward3'", "Leverage pre-cached avatars.", "Leverage pre-cached avatars.", "Leverage pre-cached avatars.", "Merge branch 'charlesmchen/precachedAvatars'", "Generalize batch update action derivation.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Merge branch 'charlesmchen/batchUpdatesV2'", "Revise app versioning scheme.", "Revise app versioning scheme.", "Revise app versioning scheme.", "Revise app versioning scheme.", "Revise app versioning scheme.", "Revise app versioning scheme.", "Revise app versioning scheme.", "Revise app versioning scheme.", "Revise app versioning scheme.", "Merge branch 'charlesmchen/appVersioningV2'", "\"Bump build to 5.19.0.45.\" (Internal)", "\"Bump build to 5.19.0.46.\" (nightly-08-24-2021)", "Fix over-zealous assert in message sending.", "Rework conversation picker.", "Rework conversation picker.", "Rework conversation picker.", "Clean up ahead of PR.", "Fix glitches in new forward flow.", "Respond to CR, ensure more views respond to theme changes.", "Merge branch 'charlesmchen/conversationPicker2'", "\"Bump build to 5.19.0.47.\" (Internal)", "Group avatars are not showing up in NSE notifications", "Merge branch 'eb/groupNSEAvatars'", "Fix tests.", "Disable file logging in tests.", "Suppress log chatter in tests.", "Fake app versions in the tests.", "Merge branch 'charlesmchen/fixTests'", "Clean up remote config and feature flags.", "Clean up remote config and feature flags.", "Enable announcement-only groups.", "Merge branch 'charlesmchen/remoteConfigCleanup'", "Update URL in documentation", "\"Bump build to 5.19.0.48.\" (nightly-08-25-2021)", "Fix message forwarding issues.", "Fix message forwarding issues.", "Fix message forwarding issues.", "Fix message forwarding issues.", "Fix message forwarding issues.", "Merge branch 'charlesmchen/moreForwardingPolish'", "\"Bump build to 5.19.0.49.\" (Internal)", "Additional logging for prod NSE avatar generation", "Merge branch 'eb/nseAvatarLogging'", "Update l10n strings.", "Add OWSStaticOutgoingMessage.", "Add OWSStaticOutgoingMessage.", "Update Cocoapods.", "Merge branch 'charlesmchen/staticOutgoingMessage'", "\"Feature flags for .beta.\"", "\"Bump build to 5.19.0.50.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.19.0.51.\" (Internal)", "\"Bump build to 5.19.0.52.\" (nightly-08-26-2021)", "Fix over-zealous asserts.", "Add new database column", "Handling of invisible interactions", "Migrations, renames, more aggressive scheduling of cleanup", "Bug fixes around cleanup scheduling", "Don't inherit timestamp from placeholder", "Unrelated bug fix: ModelReadCache holding stale placeholders\n\nIt checks to see if any updated models have a valid sortId before\ndeciding whether or not to update the cache. Since we'll eventually\ninherit a sortId from our grdbId, let's just explicitly set it to\nsatisfy the ModelReadCache.", "Lint", "Merge branch 'mlin/PR/InvisiblePlaceholders' into release/5.19.0", "Testing", "Tests should be runnable in Profiling scheme", "Make hiddenUntilTimestamp a boolean column", "Remove isHidden column, use recordType instead", "Update index to use expression instead of column", "More index tuning", "Lint + Update Pods", "PR Feedback from earlier PR:\n\n- Don't open up read transactions on the main thread if it can be\n  avoided\n- Use readiness async\n- Remove spurious [weak self]", "Update Pods", "Merge branch 'mlin/PR/PlaceholderPerf' into release/5.19.0", "Add benchmarks around various message sending milestones", "Start next job in the same transaction it's created in", "Eliminate wait on main thread for every network request", "Merge branch 'nt/message-send-perf' into release/5.19.0", "Some small sender key changes\n\n- Annotate groupIds fetched from the UD messgae content as untrusted\n- Double check the sender of a failed decryption is a member of the\n  group before inserting a placeholder/error message\n- Double check group membership hasn't changed before deciding not to\n  expire a sender key.", "PR Feedback", "Merge branch 'mlin/PR/SmallSenderKeyFixes' into release/5.19.0", "Fixes a few final sender key issues:\n\n- The excludePlaceholders parameter was inverted, but the DebugFlag\n  wasn't\n- Fix an issue with how we detect content-less sync messages", "Lint", "Merge branch 'mlin/PR/SenderKeyFinalFixes' into release/5.19.0", "Enable sender key", "Merge branch 'mlin/PR/EnableSenderKey' into release/5.19.0", "\"Bump build to 5.19.0.53.\" (Internal)", "Fix inadvertent compilation error", "\"Bump build to 5.19.0.54.\" (Internal)", "Update l10n strings.", "Fix 'resume attachment upload' crash.", "Merge branch 'charlesmchen/resumeAttachmentUploadCrash' into release/5.19.0", "\"Feature flags for .beta.\"", "\"Bump build to 5.19.0.55.\" (Beta)", "\"Feature flags for .qa.\"", "Add Pashto localization files", "Merge remote-tracking branch 'private/mlin/PR/PashtoLanguageSupport' into release/5.19.0", "Tune indices for more performant conversation loads\n\n- Replaces the existing placeholder excluding index for two new indices,\n  optimized to reduce disk I/O. These are partial indices, only\n  applicable to the placeholder excluding queries performed during\n  conversation load. They're also covering indices. Most queries will be\n  resolved by only consulting the index. There's no need to consult the\n  backing rows in the model_TSInteraction table.\n- Adds a helper SQL bytecode explainer for debugging\n\nTracking down these optimizations took a great deal of time. I promised\nin a comment that this commit message will have a thorough explanation\nof why these indices are constructed the way they are. The TL;DR:\n- There are a bunch of limitations on index column ordering that you\n  should be aware of.\n- Partial indices can help you avoid some of those limitations\n- SQLite can be finnicky when trying to decide if a partial index is\n  applicable to a query.\n- When an index covers a given query, it can avoid a whole bunch of\n  disk I/O.\n- Index row size matters, and SQLite may choose a less efficient index\n  if it looks like it might be smaller.\n\nThe long explanation of lessons learned along the way. All of this is\nbased on observation, documentation, and trial-and-error:\n\n1. SQLite can be *very* strict when deciding whether or not to use a\n   partial index. Compare these two index declarations:\n  > CREATE INDEX index1 ON table(uniqueThreadId, id) WHERE 'recordType IS NOT 70';\n  > CREATE INDEX index2 ON table(uniqueThreadId, id) WHERE recordType IS NOT 70;\n\n  Note the only difference between the two partial index declarations is\n  wrapping the WHERE clause in quotes. The GRDB index builder we were\n  using before would do this on our behalf.\n\n  Now let's run this query against both indices. The indices we declared\n  *should* be a perfect choice for this query:\n  > SELECT COUNT(*) FROM table WHERE uniqueThreadId = 'abc123'\n  > AND id > 100 AND recordType IS NOT 70;\n\n  With the first index:\n  > `--SEARCH TABLE model_TSInteraction USING INDEX index_interactions_on_threadUniqueId_and_id (uniqueThreadId=? AND id>?)\n  With the second index:\n  > `--SEARCH TABLE model_TSInteraction USING INDEX index2 (uniqueThreadId=? AND id>?)\n\n  By dropping the quotes around the WHERE clause, SQLite's query planner\n  is now convinced that the partial index is applicable to the query\n  we're running. This is good, since as SQLite iterates over the index,\n  it can skip any recordType comparisons. It also reduces the search\n  space, since it doesn't even need to read rows it should exclude.\n\n2. Covering indices can be a huge performance win. An index is covering\n   when every column in the index matches some element. Let's again\n   compare some indices:\n  > CREATE INDEX index1 ON table(uniqueThreadId, id) WHERE recordType IS NOT 70;\n  > CREATE INDEX index2 ON table(uniqueThreadId, id, uniqueId) WHERE recordType IS NOT 70;\n  > CREATE INDEX index3 ON table(uniqueThreadId, id, recordType, uniqueId) WHERE recordType IS NOT 70;\n  (Why a difference between index2 and index3? See the next section)\n\n  When run on this query:\n  > SELECT uniqueId FROM table WHERE uniqueThreadId = 'abc123'\n  > AND id > 100 AND recordType IS NOT 70;\n\n  The first index:\n  > --SEARCH TABLE model_TSInteraction USING INDEX index1 (uniqueThreadId=? AND id>?)\n  The second index:\n  > --SEARCH TABLE model_TSInteraction USING INDEX index2 (uniqueThreadId=? AND id>?)\n  The third index:\n  > --SEARCH TABLE model_TSInteraction USING COVERING INDEX index3 (uniqueThreadId=? AND id>?)\n\n  You can see the difference in the actual query bytecode by running:\n  \"EXPLAIN [query]\" (not \"EXPLAIN QUERY PLAN\"). Notice that when run\n  against the first index, it needs to perform two reads. One against\n  the table, and another against the index. The only reason it's\n  fetching the model is to grab the uniqueId in operation 9.\n  > 0     Init           0     12    0                    0   Start at 12\n  > 1     OpenRead       0     10    0     67             0   root=10 iDb=0; model_TSInteraction\n  > 2     OpenRead       1     162160  0     k(3,,,)        0   root=162160 iDb=0; index1\n  > 3     String8        0     1     0     abc123         0   r[1]='abc123'\n  > 4     Integer        100   2     0                    0   r[2]=100\n  > 5     SeekGT         1     11    1     2              0   key=r[1..2]\n  > 6       IdxGT          1     11    1     1              0   key=r[1]\n  > 7       DeferredSeek   1     0     0                    0   Move 0 to 1.rowid if needed\n  > 8       Column         0     2     3                    0   r[3]=model_TSInteraction.uniqueId\n  > 9       ResultRow      3     1     0                    0   output=r[3]\n  > 10    Next           1     6     0                    0\n  > 11    Halt           0     0     0                    0\n  > 12    Transaction    0     0     198   0              1   usesStmtJournal=0\n  > 13    Goto           0     1     0                    0\n\n3. SQLite will not consider a partial index covering unless the columns\n   defining the index condition are also included in the index content.\n   No idea why, but this is why index2 above isn't considered covering\n   while index3 is.\n\n4. Index column ordering matters. Briefly, if a WHERE clause in a query\n   has any sort of inequality comparisons (everything but IS, IN and =),\n   then every subsequent column in an index cannot be used. (mostly)\n\n  For example:\n  > CREATE INDEX ON Table(a,b,c);\n  > SELECT * WHERE AND b > 100 AND c = \"hi\";\n\n  Column C isn't going to be usable on the index since we're performing\n  an inequality comparison on B. There are loads of exceptions SQLite\n  can try to work around this. You can learn more here:\n  https://www.sqlite.org/optoverview.html\n\n  How this applies to this change. Consider these two indices:\n  > CREATE INDEX index1 ON table(uniqueThreadId, id, recordType, uniqueId) WHERE recordType IS NOT 70;\n  > CREATE INDEX index2 ON table(uniqueThreadId, recordType, id, uniqueId) WHERE recordType IS NOT 70;\n  > SELECT uniqueId FROM table WHERE uniqueThreadId = 'abc123'\n  > AND id > 100 AND recordType IS NOT 70;\n\n  index1 is absolutely going to be the better choice here. Since index1\n  is sorted by id first, it's easy for SQLite to binary search to the\n  correct offset in the index and then just scan down the index.\n  (verifying that each recordType IS NOT 70 along the way, which will\n   always hold true because of the partial index condition).\n\n5. Index size matters. At this point, we've constructed this index:\n   > CREATE INDEX index1 ON table(uniqueThreadId, id, recordType, uniqueId) WHERE recordType IS NOT 70;\n\n  And SQLite is using it for queries like this. Great!\n  > SELECT uniqueId FROM model_TSInteraction\n  > WHERE uniqueThreadId = 'whatever' AND recordType IS NOT 70\n  > ORDER BY id LIMIT 2 OFFSET 0\n  > `--SEARCH TABLE model_TSInteraction USING COVERING INDEX index1 (uniqueThreadId=?)\n\n  Here's a simpler query that we need to run to. It is even less\n  specific than the one above so we should expect it to use our\n  index.\n  > SELECT COUNT(*) FROM model_TSInteraction\n  > WHERE uniqueThreadId = 'blah' AND recordType IS NOT 70;\n  > `--SEARCH TABLE model_TSInteraction USING COVERING INDEX index_model_TSInteraction_on_uniqueThreadId_and_hasEnded_and_recordType (uniqueThreadId=?)\n\n  As best I can tell, the reason SQLite is picking this existing index\n  is because each row in the index is smaller.\n  Each row in our index: [String, Int, Int, String]\n  Each row in the chosen index: [String, Bool, Int]\n\n  The query planner had to choose, was it better off picking the index\n  that's more specific but larger, or less specific but smaller. It\n  picked the latter.\n\n  To work around this we can add a *second* index, that's even smaller\n  that the index it's choosing.\n  > CREATE INDEX index2 ON table(uniqueThreadId, recordType) WHERE recordType IS NOT 70;\n\n  Now the query picks our new index to run the count.\n  --SEARCH TABLE model_TSInteraction USING COVERING INDEX index2 (uniqueThreadId=?)", "Merge branch 'mlin/PR/BetterLoadQueryIndexing' into release/5.19.0", "Update l10n strings.", "\"Bump build to 5.19.0.56.\" (Internal)", "Bump CFBundleVersion to 5030.", "Revert \"Merge remote-tracking branch 'private/mlin/PR/PashtoLanguageSupport' into release/5.19.0\"\n\nThis reverts commit 5c23dfa3412e6667ae1704818461b8995c3790f3, reversing\nchanges made to 31cf855901a4f7f3a766351898c91e0563b6440d.", "Ensure message actions footer updates for theme changes; fixed styling of its selection label.", "Don't restore keyboard after CVC message context menu if the menu item presented a VC.", "Ensure conversation picker selection UI reflects theme.", "Restore conversation picker selection state after navigation bar changes.", "Merge branch 'charlesmchen/minorFixes2021.08.30' into release/5.19.0", "Fix crash in conversation picker.", "Merge branch 'charlesmchen/conversationPickerSearchCrash' into release/5.19.0", "Update l10n strings.", "\"Feature flags for .beta.\"", "\"Bump build to 5.19.0.5031.\" (Beta)", "Update release notes.", "Update l10n strings.", "Fill in missing profile avatars.", "Merge branch 'charlesmchen/avatarReupload' into release/5.19.0", "Extend payments beta to more countries.", "Merge branch 'charlesmchen/paymentsBetaMoreCountries' into release/5.19.0", "Refine payments formatting.", "Refine payments formatting.", "Refine payments formatting.", "Refine payments formatting.", "Refine payments formatting.", "Refine payments formatting.", "Merge branch 'charlesmchen/paymentFormatting' into release/5.19.0", "Fix crash with early message manager", "Merge branch 'nt/little-fixes130' into release/5.19.0", "Fixes a handful of sender key issues\n\n- Some clients have registrationIds outside of the valid range. This\n  breaks sender key encryption. Now we filter for valid registrationIds\n  before adding a recipient to the sender key cohort.\n- Fixes an issue where sender key errors were incorrectly reporting\n  retryability\n- SKDMs sent on behalf of an isOnline message will not bother\n  establishing a session and instead fail immediately.", "Fix maxRegistrationId typo. Lint", "PR Feedback: Avoid write transaction", "Fix broken test", "PR Feedback v2\n\nRemoved the extra -loadSessionIfExists method. I was concerned that we\nmight need to perform SignalRecipient lookups and updates in certain\ncases. Nora assured me that it should be safe to always call the\nread-only OWSAccountIdFinder.accountId instead of\nOWSAccountIdFinder.ensureAccountId. If we have an entry in the session\nstore, it must have already an entry in the SignalRecipients database.\n\nIn other words, if we fail to fetch an accountId from the\nSignalRecipients table, then we know there's never going to be a session\nrecord in the session store.", "Removed unrelated log line update", "Merge branch 'mlin/PR/SenderKeyFixes' into release/5.19.0", "Update l10n strings.", "\"Feature flags for .production.\"", "\"Bump build to 5.19.0.5032.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.19.0.5033.\" (Beta)", "Update Cocoapods.", "\"Feature flags for .production.\"", "\"Bump build to 5.19.0.5034.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.19.0.5035.\" (Beta)", "Fixes a bug with initial prekey decryption", "Merge branch 'mlin/PR/FailedDecryptionOfFirstPrekey' into release/5.19.0", "Update release notes.", "\"Feature flags for .production.\"", "\"Bump build to 5.19.0.5036.\""]}, {"tag_start": "5.18.2.4", "tag_end": "5.18.3.0", "commits": ["\"Feature flags for .beta.\"", "\"Bump build to 5.18.2.5.\" (Beta)", "NSE Fixes.", "NSE Fixes.", "Merge branch 'charlesmchen/nseFixes' into release/5.18.2", "Update release notes.", "Update l10n strings.", "\"Feature flags for .production.\"", "\"Bump build to 5.18.2.6.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.18.2.7.\" (Beta)", "\"Feature flags for .production.\"", "\"Bump build to 5.18.3.0.\""]}, {"tag_start": "5.18.1.1", "tag_end": "5.18.2.4", "commits": ["\"Feature flags for .beta.\"", "\"Bump build to 5.18.1.2.\" (Beta)", "Fix video playback size for videos with a non-identity transform.", "Merge branch 'charlesmchen/transformedVideoSize' into release/5.18.2", "Fix loop in \"get started\" banners.", "\"Feature flags for .production.\"", "\"Bump build to 5.18.2.0.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.18.2.1.\" (Beta)", "Fix over-zealous assert in sticker manager.", "Fix over-zealous assert in sticker manager.", "Fix default zoom scale in media detail view during iOS multi-tasking.", "Merge branch 'charlesmchen/minorFixes.2021.08.16' into release/5.18.2", "\"Feature flags for .production.\"", "\"Bump build to 5.18.2.2.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.18.2.3.\" (Beta)", "Fix issue where gifs are sent as a compressed jpeg\n\nOur new compression path is compressing *all* images. We should only be\ncompressing non-animated images. Compressing a gif to a jpeg will mean\nwe lose animation data.\n\nThis wasn't caught in beta since the beta population is migrated into\nsending mp4 gifs. The new compression path doesn't touch mp4s.", "Merge branch 'mlin/PR/IOS-1744_SendingStillGifs' into release/5.18.2", "Ignore content size in the media detail view layout.", "Merge branch 'charlesmchen/mediaDetailVsContentSize' into release/5.18.2", "\"Feature flags for .production.\"", "\"Bump build to 5.18.2.4.\""]}, {"tag_start": "5.18.0.64", "tag_end": "5.18.1.1", "commits": ["\"Feature flags for .beta.\"", "\"Bump build to 5.18.0.65.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.18.1.0.\" (Internal)", "Enable context menus in prod", "Merge branch 'eb/contextMenuEnablement' into release/5.18.1", "Update release notes.", "Update l10n strings.", "\"Feature flags for .production.\"", "\"Bump build to 5.18.1.1.\""]}, {"tag_start": "5.18.0.47-beta", "tag_end": "5.18.0.64", "commits": ["\"Feature flags for .qa.\"", "\"Bump build to 5.18.0.48.\" (Internal)", "Improve logging around performBatchUpdates() in CVC.", "Revert \"Improve logging around performBatchUpdates() in CVC.\"\n\nThis reverts commit a0962b55faf1111c67a6df81cee38be014f76c36.", "Respond to CR.", "Merge branch 'charlesmchen/cvcBatchUpdatesCrashLogging' into release/5.18.0", "Tapping on any message presents the context menu", "Merge branch 'eb/contextMenuTaps' into release/5.18.0", "Remove over-zealous assert.", "Sender key is now enabled if...\n\nThe kill switch hasn't been activated and either:\n- You're running a build <= internal\n- You have the ios.senderKey flag", "Merge branch 'mlin/PR/EnableSenderKeyInternalUsersRunningBeta' into release/5.18.0", "\"Feature flags for .beta.\"", "\"Bump build to 5.18.0.49.\" (Beta)", "Fix name components formatting cache key.", "Merge branch 'charlesmchen/nameComponentStyle' into release/5.18.0", "Change the NSE display name.", "Improve startup logging.", "Rename SAE.", "Merge branch 'charlesmchen/nseDisplayName' into release/5.18.0", "Show sent timestamp in home view, not received timestamp.", "Merge branch 'charlesmchen/timestampDate' into release/5.18.0", "Fix emoji / CoreText crash.", "Fix emoji / CoreText crash.", "Fix emoji / CoreText crash.", "Fix emoji / CoreText crash.", "Fix emoji / CoreText crash.", "Fix emoji / CoreText crash.", "Fix emoji / CoreText crash.", "Fix emoji / CoreText crash.", "Fix emoji / CoreText crash.", "Fix emoji / CoreText crash.", "Fix emoji / CoreText crash.", "Fix emoji / CoreText crash.", "Merge branch 'charlesmchen/emojiCoreTextCrash' into release/5.18.0", "Update RingRTC to v2.10.8", "Update Cocoapods.", "Merge branch 'ringrtc/v2.10.8' into release/5.18.0", "Fix broken test.", "Fix context menu avatar animations, actions not showing up, keyboard behavior", "Merge branch 'eb/contextMenuInsetAvatar_5.18' into release/5.18.0", "Update l10n Strings.", "\"Bump build to 5.18.0.50.\" (Beta)", "Context menus need AX / Voiceover support", "\"Bump build to 5.18.0.51.\" (Beta)", "\"Bump build to 5.18.0.52.\" (Beta)", "\"Bump build to 5.18.0.53.\" (Beta)", "Fix name component formatting cache key.", "Context menu public beta feedback", "Merge branch 'eb/forumFeedback' into release/5.18.0", "Context menu layout incorrect in RTL", "Merge branch 'eb/contextMenuRTLSupport' into release/5.18.0", "\"Bump build to 5.18.0.54.\" (Beta)", "Fix issue around truncated text in media quality UI.", "Merge branch 'charlesmchen/mediaQualityVsLongText' into release/5.18.0", "Scrub all long hex values from debug logs.", "Merge branch 'charlesmchen/longHexValues' into release/5.18.0", "Fix issue around device linking before remote config is downloaded.", "Respond to CR.", "Merge branch 'charlesmchen/deviceLinkingVsAnnouncementOnlyGroups' into release/5.18.0", "Update release notes.", "Update l10n strings.", "Always use CVBodyTextLabel for CVC body text.", "Add TextContext.", "Add TextContext.", "Add TextContext.", "Revert \"Always use CVBodyTextLabel for CVC body text.\"\n\nThis reverts commit f027d2646d3d869f9f71fff213a26320aeb1f172.", "Add TextContext.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/cvtextDeadlock' into release/5.18.0", "Adjust sender key capabilities\n\n- Always on for internal installs\n- On for internal population running beta builds", "Merge branch 'mlin/PR/SenderKeyCapabilities' into release/5.18.0", "Fixes a crash in OWSReceiptManager\n\nDictionary(uniqueKeysWithValues:) will assert that the provided keys are\nunique and crash if a violation occurs. The existing code in\nOWSReceiptManager falsely assumes that the addresses being built are\nunique.\n\nThe keys in the key value store *are* unique, but as they're mapped into\naddresses, we may have learned of a high trust e164/UUID mapping since\nthey were inserted. As the identifiers are mapped into\nSignalServiceAddresses, the e164 and UUID are mapped to the same\nSignalServiceAddress.\n\nThe fix is to just wrap our address builder in a Set() so we only have\none copy for each address.", "Merge branch 'mlin/PR/IOS-1696_ReceiptManagerAddressCollision' into release/5.18.0", "\"Bump build to 5.18.0.55.\" (Beta)", "A collection of fixes for mp4 gifs\n\nA couple of bugs have cropped up with viewing of mp4 gifs. This hasn't\nbeen enabled internally, so I'm guessing some bugs have snuck through as\nother changes have been made in the vicinity. This addresses most of\nthem:\n- Better layout in the media detail viewer\n- More accurate descriptions\n- Fix for failed thumbnailing\n- Fix for keyboard tracking bug with reduce motion enabled", "Lint", "Merge branch 'mlin/PR/VariousMP4GifFixes' into release/5.18.0", "Update release notes.", "Update l10n strings.", "\"Feature flags for .production.\"", "\"Bump build to 5.18.0.56.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.18.0.57.\" (Beta)", "Fix layout in gallery detail view.", "Respond to CR.", "Merge branch 'charlesmchen/gifLayout' into release/5.18.0", "\"Feature flags for .production.\"", "\"Bump build to 5.18.0.58.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.18.0.59.\" (Beta)", "Can't tap message preview to dismiss context menu", "Merge branch 'eb/contextMenuDismissal' into release/5.18.0", "\"Feature flags for .production.\"", "\"Bump build to 5.18.0.60.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.18.0.61.\" (Beta)", "Fix layout in gallery detail view.", "Fix layout in gallery detail view.", "Merge branch 'charlesmchen/gifLayout4' into release/5.18.0", "\"Feature flags for .production.\"", "\"Bump build to 5.18.0.62.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.18.0.63.\" (Beta)", "Fix layout in gallery detail view.", "Merge branch 'charlesmchen/gifLayout5' into release/5.18.0", "Update l10n strings.", "\"Feature flags for .production.\"", "\"Bump build to 5.18.0.64.\""]}, {"tag_start": "5.17.0.48", "tag_end": "5.18.0.47-beta", "commits": ["\"Bump build to 5.18.0.0.\" (Internal)", "\"Bump build to 5.18.0.1.\" (nightly-07-21-2021)", "Context Menus: Implement context menu preview, avatar views", "Merge branch 'eb/contextMenuPreview'", "Improve prod logging.", "Merge branch 'charlesmchen/tidyLogs'", "Convert ConversationListView to HomeView.", "Convert ConversationListView to HomeView.", "Convert ConversationListView to HomeView.", "Convert ConversationListView to HomeView.", "Convert ConversationListView to HomeView.", "Convert ConversationListView to HomeView.", "Convert ConversationListView to HomeView.", "Convert ConversationListView to HomeView.", "Convert ConversationListView to HomeView.", "Convert ConversationListView to HomeView.", "Convert ConversationListView to HomeView.", "Convert ConversationListView to HomeView.", "Convert ConversationListView to HomeView.", "Convert ConversationListView to HomeView.", "Merge branch 'charlesmchen/homeView'", "Convert ConversationListView to HomeView.", "Merge branch 'charlesmchen/homeView2'", "Capture indices in HVRowChangeType.", "Rework home view loading.", "Apply HVLoadCoordinator; don't reload all content when view becomes visible.", "Apply HVLoadCoordinator; don't reload all content when view becomes visible.", "Apply HVLoadCoordinator; don't reload all content when view becomes visible.", "Merge branch 'charlesmchen/homeView3'", "Cache home view cell measurements/arrangements.", "Cache home view cell measurements/arrangements.", "Cache home view cell measurements/arrangements.", "Clean up formatting.", "Merge branch 'charlesmchen/homeView4'", "Rework blocking manager.", "Rework blocking manager.", "Rework blocking manager.", "Rework blocking manager.", "Rework blocking manager.", "Rework blocking manager.", "Rework blocking manager.", "Update Cocoapods.", "Merge branch 'charlesmchen/blockingManager2'", "Rework home view table reload.", "Merge branch 'charlesmchen/homeView6'", "Refine home view.", "Refine home view.", "Refine home view.", "Refine home view.", "Refine home view.", "Refine home view.", "Merge branch 'charlesmchen/homeView7'", "Refine how HV loads are landed.", "Fix conflict when updating group profile keys vs. local user not in group.", "Remove over-zealous asserts around empty group sync messages.", "Refine fake group models.", "Fix over-zealous assert in block user flow.", "Refine fake group models.", "Fix bug in home view actions.", "Fix blocking of left groups.", "Clean up ahead of PR.", "Merge branch 'charlesmchen/homeView8'", "Respond to CR feedback.", "Merge branch 'charlesmchen/homeView9'", "Refresh groups on launch.", "Respond to CR.", "Merge branch 'charlesmchen/refreshGroupsOnLaunch'", "Merge remote-tracking branch 'private/release/5.17.0'", "\"Bump build to 5.18.0.2.\" (Internal)", "Merge branch 'release/5.17.0'", "\"Bump build to 5.18.0.3.\" (Internal)", "Add protos for sender key messages", "Sender Key store\n\nThe exact API might change as the rest of the sender key works is\nfleshed out.", "Support for decrypting SenderKey messages\n\nThis depends on changes to SignalMetadataKit to handle decryption of\nsealed sender envelopes.", "Sender key capability", "Make SignalServiceAddress optional for message building\n\nSenderKey requires that building a message is agnostic from a single\nrecipient. This makes the recipient argument when building an outgoing\nmessage optional.\n\nCurrently this is used to determine if a profile key should be appended\nto the message. A different solution will be required for SenderKey\nmessages.", "Add OWSOutgoingSenderKeyDistributionMessage\n\nWhen preparing to send a SenderKey message, we'll need to send out an\nSKDM to participants. Although these can be tacked on to any message,\nwe'll need an outgoing message builder for these dedicated messages.", "PR Feedback and lint", "Sender key send", "PR Feedback", "SenderKey error handling", "PR Feedback", "Sender key rotation and expiration", "PR Feedback: Consolidate write transactions", "Bug fixing around key persistence and SKDM tracking", "PR Feedback: Add assert", "Sender key decryption failure handling\n\nMost of the work for message resend requests. Includes some rudimentary\nfailure UI.", "Bug fix around resend fulfillment", "PR Feedback: Tweaks to how interaction replacement operates", "PR Feedback: Remove leftover SDS definitions", "Remove leftover comment", "PR Feedback", "Message send log recording and resend responses", "Regenerate SQL, minor comment fixes", "Additional annotation of outgoing messages for MSL", "Additional logging. Payload expiration checks.", "PR Feedback and bug fixes\n\n- Our SQL schema generator doesn't like \"==\"\n- Various terrible compile time issues that I had missed\n- Migrated OWSOutgoingResendResponse from Swift to ObjC. Mantle doesn't\n  do great with coding Swift objects. This fixed the bug that was\n  preventing resend from working. Resend works correctly now!", "Re-lint in preparation of merge", "Merge branch 'mlin/feature/SenderKey'", "Update Pods", "Update Pods for SignalMetadataKit", "\"Bump build to 5.18.0.4.\" (Internal)", "Fix test compilation\n\nThe tests would fail to compile when importing public SignalServiceKit\nheaders. These public headers were not correctly specifying they're own\nimports in a way that external dependencies would recognize.", "\"Bump build to 5.18.0.5.\" (nightly-07-22-2021)", "Context Menus: Implement context menu reaction picker bar / accessory view support", "Merge branch 'eb/contextMenuReactionBar'", "Merge branch 'release/5.17.0'", "\"Feature flags for .qa.\"", "\"Bump build to 5.18.0.6.\" (Internal)", "Allow image quality selection", "\"Bump build to 5.18.0.7.\" (Internal)", "\"Bump build to 5.18.0.8.\" (nightly-07-23-2021)", "\"Bump build to 5.18.0.9.\" (Internal)", "\"Bump build to 5.18.0.10.\" (Internal)", "\"Bump build to 5.18.0.11.\" (Internal)", "Implement context menu's menu UI", "Merge branch 'eb/contextMenuMenu'", "Add SenderKey remote config flag", "Merge branch 'mlin/PR/SenderKeyRemoteConfig'", "Merge branch 'release/5.17.0'", "\"Bump build to 5.18.0.12.\" (Internal)", "Preserve image orientation when downsampling is not required", "Fix NSE crash", "Don't allow sending high quality outside of the main app", "Default sender key on for internal builds", "Fix push fallback message", "Merge branch 'nt/image-sending-fixes'", "\"Bump build to 5.18.0.13.\" (Internal)", "\"Bump build to 5.18.0.14.\" (nightly-07-24-2021)", "\"Bump build to 5.18.0.15.\" (Internal)", "\"Bump build to 5.18.0.16.\" (Internal)", "\"Bump build to 5.18.0.17.\" (Internal)", "\"Bump build to 5.18.0.18.\" (nightly-07-25-2021)", "\"Bump build to 5.18.0.19.\" (nightly-07-26-2021)", "Merge branch 'release/5.17.0'", "\"Bump build to 5.18.0.20.\" (Internal)", "\"Bump build to 5.18.0.21.\" (nightly-07-27-2021)", "Merge branch 'release/5.17.0'", "Support swipe gesture behavior in context menu action picker", "Review feedback for: Support swipe gesture behavior in context menu action picker", "Integrate existing message actions with context menu API", "Review feedback for Context Menus: Integrate existing message actions with context menu API", "Context Menus: Ensure correct layouts for small phones, split screen devices, landscape, iPads, etc.", "Merge branch 'eb/contextMenuLayout'", "Merge branch 'release/5.17.0'", "\"Bump build to 5.18.0.22.\" (Internal)", "\"Bump build to 5.18.0.23.\" (nightly-07-28-2021)", "\"Bump build to 5.18.0.24.\" (Internal)", "\"Feature flags for .beta.\"", "\"Bump build to 5.17.0.49.\"", "Merge branch 'release/5.17.0'", "\"Bump build to 5.18.0.25.\" (Internal)", "IOS-1618: Failed deserialization of sender key metadata\n\nSetting a nil value in SDSKeyValueStore encodes \"nil\" to data and stores\nthat in the database. When we fetch, we fail to deserialize since we're\nexpecting a key metadata struct.\n\nInstead, we should use removeValue(forKey:transaction:) to remove the value", "Merge branch 'mlin/PR/IOS-1618_SenderKeyDeserializationFailure'", "Revert \"Restore ZXing\"\n\nThis reverts commit 5677ad9cfeac14f705f547a3a1e60e17838f47ec.", "\"Bump build to 5.18.0.26.\" (nightly-07-29-2021)", "Re-fetch profile of potential members of announcement-only groups without the capability.", "Merge branch 'charlesmchen/announcementOnlyGroupEdgeCase'", "Refine home view initial loads.", "Refine home view initial loads.", "Refine home view initial loads.", "Refine home view initial loads.", "Refine home view initial loads. Fix home view selection glitch.", "Refine home view loading when returning from background.", "Merge branch 'charlesmchen/homeViewTweaks'", "\"Bump build to 5.18.0.27.\" (Internal)", "Enable announcement-only groups capability in production.", "Context Menus: Animate presentation / dismissal of context menu", "Merge branch 'eb/contextMenuAnimations'", "Improved handling of placeholder interactions\n\n- Deferred display now works for \"resendable\" messages\n- Replacement expiration now works\n- Error messages now show up correctly in conversation view", "Remove a couple comments\n\nSender key error messages are collapsing as expected. Nothing needs to\nchange here.", "Fix imports for linter", "PR Feedback", "Merge branch 'mlin/PR/SenderKeyFailureUI'", "Delivery issue sheet", "Merge branch 'mlin/PR/SenderKeyFailureSheet'", "IOS-1617: Crash when forwarding message with mention\n\nIn some of our forwarding controllers, we compute\nattachmentApprovalMentionableAddresses on the fly by opening a read\ntransaction and fetching the group membership. This leads to a\nre-enterant database transaction.\n\nInstead, on an update to the selected thread list, we'll populate our\ncandidate addresses. That way the cached candidate list can be accessed\nwithout a separate transaction.", "Merge branch 'mlin/PR/IOS-1617_MentionCrash'", "Add deprecated overload for storing optionals in keyValueStore\n\nTo store an optional your non-deprecated options are:\n- setCodable(optional:key:transaction) which will encode the nil value\n- Switching to unwrap the optional before calling either\n  setCodable(_:key:transaction) or removeValue(forKey:transaction:)", "Lint", "Merge branch 'mlin/PR/KeyValueStoreOptionalCoding'", "Trim the MessageSendLog\n\n- Recipients that return a delivery receipt will be removed from the MSL\n- The MSL will clear out stale payloads ~24 hours", "PR Feedback", "Merge branch 'mlin/PR/MessageSendLogTrimming'", "Remove overzealous assert", "SenderKey work in MessageSender moved to separate file", "Fix remaining TODOs in sender key send", "Better validation of UUID names in ProtocolAddress", "Update Pods", "Merge branch 'mlin/PR/SenderKey_SendTweaks'", "Add notification for reporting errors to internal users", "Lint", "Merge branch 'mlin/PR/InternalErrorAlerts'", "Update Pods", "Add tests to exercise the MessageSendLog", "Fix comment", "Merge branch 'mlin/PR/MessageSendLogTests'", "Record uniqueIds of messages that receipt messages refer to", "Bug fixing\n\n- Better handling of nullable properties\n- Better handling of receipt store decoding\n- Fixes a bug where timestamps weren't appended to receipt proto", "Lint and unrelated bug fix in MSL message map clearing", "PR Feedback", "Update Pods", "Merge branch 'mlin/PR/OutgoingReceiptUniqueIdAttribution'", "\"Bump build to 5.18.0.28.\" (Internal)", "Fix race in QR code scanning.", "Enable resumption of scanning.", "Merge branch 'charlesmchen/scanQRCodeRace'", "Avoid double-notifying home view cells.", "Refine handling of home view typing indicators.", "Refine handling of home view typing indicators.", "Respond to CR.", "Merge branch 'charlesmchen/homeViewTypingIndicators'", "Load avatars in reverse order.", "Merge branch 'charlesmchen/avatarLoadOrder'", "\"Bump build to 5.18.0.29.\" (Internal)", "\"Bump build to 5.18.0.30.\" (Internal)", "\"Bump build to 5.18.0.31.\" (Internal)", "\"Bump build to 5.18.0.32.\" (Internal)", "\"Bump build to 5.18.0.33.\" (Internal)", "\"Bump build to 5.18.0.34.\" (Internal)", "Fix a crash in `hasUserInitiatedInteraction`\n\nSQL syntax was broken. The IN operand was incorrect.\n\nBefore: \"recordType IN [9, 70]\"\nAfter:  \"recordType IN (9, 70)\"", "Merge branch 'mlin/PR/InteractionFinderBug'", "\"Bump build to 5.18.0.35.\" (Internal)", "\"Bump build to 5.18.0.36.\" (nightly-07-31-2021)", "\"Bump build to 5.18.0.37.\" (nightly-08-01-2021)", "\"Bump build to 5.18.0.38.\" (nightly-08-02-2021)", "Context Menus: Implement source view bounce animations, gesture cancellation behavior", "Merge branch 'eb/sourceBounceAnimations'", "Remove 'Engineers' group from TestFlight", "Context Menu Design Feedback", "Context Menus: Fix context menu crashes on stickers, system message presentation issues, keyboard dismissal", "Merge branch 'eb/contextMenuDesignFeedback'", "Context Menu programmatic dismissal support\nContext menu layout is incorrect on iPad, some landscape cases", "Merge branch 'eb/contextMenuBugfixes'", "\"Bump build to 5.18.0.39.\" (nightly-08-03-2021)", "Improve prod logging.", "Enable announcement-only groups capability in production.", "\"Feature flags for .production.\"", "\"Bump build to 5.17.1.0.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.17.1.1.\"", "Revert \"Enable announcement-only groups capability in production.\"\n\nThis reverts commit 83955b07edee5b2f90f29cd3ba976b76ec4d5058.", "\"Feature flags for .production.\"", "\"Bump build to 5.17.1.2.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.17.1.3.\"", "Context menu feedback / bugfixes", "Merge branch 'eb/contextMenuInternalBetaFeedback'", "\"Bump build to 5.18.0.40.\" (nightly-08-04-2021)", "Merge branch 'release/5.17.1'", "\"Bump build to 5.18.0.41.\" (Internal)", "\"Bump build to 5.18.0.42.\" (Internal)", "Add suport for signal.me phone number links", "Fix inversion of inbox error logic", "Delay certain megaphones after registration", "Fix conversation header avatar in landscape", "Limit the share extension to level one quality", "Merge branch 'nt/little-fixes126'", "Update to RingRTC v2.10.7", "Sync translations", "\"Bump build to 5.18.0.43.\" (Internal)", "Improve logging around NSE processing emoji reactions.", "Merge branch 'charlesmchen/nseVsEmojiReaction'", "Introduce HVCellContentToken.", "Introduce HVCellContentToken.", "Introduce HVCellContentToken.", "Introduce HVCellContentToken.", "Introduce HVCellContentToken.", "Merge branch 'charlesmchen/homeViewCellContentTokens'", "Reduce cost of home view cell reuse.", "Reduce cost of home view cell reuse.", "Don't reload TSThread to get draft for home view.", "Convert OWSFormat to Swift.", "Cache formatting of PersonNameComponents.", "Cache formatting of PersonNameComponents.", "Streamline HomeViewInfo.", "Reduce cost of home view cell reuse.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/homeViewCellReuse'", "Adjust error messaging of decryption failure errors", "Merge branch 'mlin/PR/SenderKey_ErrorMessageUITweaks'", "\"Bump build to 5.18.0.44.\" (Internal)", "\"Bump build to 5.18.0.45.\" (Internal)", "Fix QR code scanning", "Context menus sometimes present during CVC scroll", "Merge branch 'eb/contextMenuScrollPresentation'", "Fix over-zealous assert.", "Update feature flags in preparation for SenderKey beta\n\n- Capabilities should be enabled universally\n- No remote feature flag to enable\n- Two remote feature flags to disable SenderKey and MessageResend\n  respectively.", "Enable sending mp4 gifs in beta", "Lint", "Disable sender key in beta builds", "Merge branch 'mlin/PR/SenderKey_UpdateFeatureFlags'", "Include registrationId in SKDM delivery cache\n\nResolves an issue where we'd not send an SKDM to a user if a new device\nis linked and reuses an existing deviceId", "Merge branch 'mlin/PR/IOS-1631_SKDMSenderComparesRegId'", "Migrate schema to account for new PendingReceipt properties\n\nMost of this was done by Matthew. Thanks Matthew!", "Merge branch 'mlin/PR/FixPendingReceiptSchema'", "\"Bump build to 5.18.0.46.\" (nightly-08-05-2021)", "Context menus should support right click, mouse highlight states", "Merge branch 'eb/contextMenuMouseSupport'", "Add 'My Daily Life' sticker pack.", "Merge branch 'charlesmchen/newAnimatedStickerPack'", "Fix link preview hero sizing.", "Merge branch 'charlesmchen/linkPreviewHeroSize'", "Add logging around opening notifications.", "Merge branch 'charlesmchen/openNotification'", "Update l10n strings.", "\"Feature flags for .beta.\"", "\"Bump build to 5.18.0.47.\" (Beta)"]}, {"tag_start": "5.16.0.45", "tag_end": "5.17.0.48", "commits": ["\"Bump build to 5.17.0.0.\"", "Rework database checkpointing.", "Rework database checkpointing.", "Rework database checkpointing.", "Rework database checkpointing.", "Rework database checkpointing.", "Refine isCheckpointing flag.", "Merge branch 'charlesmchen/checkpointingv2'", "Use file coordinator to protect database creation.", "Merge branch 'charlesmchen/grdbVsFileCoordination'", "\"Bump build to 5.17.0.1.\" (Internal)", "\"Bump build to 5.17.0.2.\" (Internal)", "\"Bump build to 5.17.0.3.\" (Internal)", "\"Bump build to 5.17.0.4.\" (Internal)", "\"Bump build to 5.17.0.5.\" (Internal)", "\"Bump build to 5.17.0.6.\" (Internal)", "\"Bump build to 5.17.0.7.\" (Internal)", "\"Bump build to 5.17.0.8.\" (Internal)", "Merge branch 'release/5.16.0'", "\"Bump build to 5.17.0.9.\" (nightly-07-09-2021)", "Merge branch 'release/5.16.0'", "\"Bump build to 5.17.0.10.\" (Internal)", "Fix build warnings.", "Merge branch 'charlesmchen/buildWarnings2021.07.08'", "Improve blocking of v2 groups.", "Improve blocking of v2 groups.", "Update groups after unblocking them.", "Merge branch 'charlesmchen/groupBlocking'", "\"Bump build to 5.17.0.11.\" (Internal)", "\"Bump build to 5.17.0.12.\" (Internal)", "\"Bump build to 5.17.0.13.\" (Internal)", "\"Bump build to 5.17.0.14.\" (Internal)", "Announcement-only groups.", "Announcement-only groups.", "Announcement-only groups.", "Announcement-only groups.", "Announcement-only groups.", "Announcement-only groups.", "Announcement-only groups.", "Announcement-only groups.", "Announcement-only groups.", "Announcement-only groups.", "Announcement-only groups.", "Announcement-only groups.", "Announcement-only groups.", "Announcement-only groups.", "Announcement-only groups.", "Announcement-only groups.", "Announcement-only groups.", "Announcement-only groups.", "Announcement-only groups.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/announcementOnlyGroups'", "Fix merge.", "[Security] Bump addressable from 2.7.0 to 2.8.0\n\nBumps [addressable](https://github.com/sporkmonger/addressable) from 2.7.0 to 2.8.0. **This update includes a security fix.**\n- [Release notes](https://github.com/sporkmonger/addressable/releases)\n- [Changelog](https://github.com/sporkmonger/addressable/blob/main/CHANGELOG.md)\n- [Commits](https://github.com/sporkmonger/addressable/compare/addressable-2.7.0...addressable-2.8.0)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "Merge branch 'dependabot/bundler/addressable-2.8.0'", "\"Feature flags for .beta.\"", "\"Bump build to 5.16.0.46.\" (Beta)", "Merge branch 'release/5.16.0'", "\"Feature flags for .qa.\"", "\"Bump build to 5.17.0.15.\" (nightly-07-13-2021)", "Update release notes", "Fix broken test.", "\"Bump build to 5.17.0.16.\" (nightly-07-14-2021)", "\"Bump build to 5.17.0.17.\" (Internal)", "\"Bump build to 5.17.0.18.\" (Internal)", "\"Bump build to 5.17.0.19.\" (nightly-07-15-2021)", "\"Bump build to 5.17.0.20.\" (Internal)", "\"Bump build to 5.17.0.21.\" (Internal)", "Define context menu API", "Review feedback", "Merge branch 'eb/contextMenuAPI'", "\"Bump build to 5.17.0.22.\" (nightly-07-15-2021)", "Context menu host controller / blur view / presentation", "Merge branch 'eb/contextMenuControllerPresentation2'", "Restructure AvatarBuilder to support new avatar styles", "Avatar editor", "Tweak avatar editor keyboard interactions", "Merge branch 'nt/avatar-builder'", "\"Bump build to 5.17.0.23.\" (nightly-07-15-2021)", "Small Avatar Builder Fixes", "\"Bump build to 5.17.0.24.\" (Internal)", "\"Bump build to 5.17.0.25.\" (nightly-07-16-2021)", "\"Bump build to 5.17.0.26.\" (Internal)", "Fix assert in OWSURLSession.", "Merge branch 'charlesmchen/owsUrlSessionAssert'", "Cache lottie animations.", "Merge branch 'charlesmchen/cacheLottieAnimations'", "Improve safety of cache concurrency.", "Improve safety of cache concurrency.", "Merge branch 'charlesmchen/cacheConcurrency'", "Minor fixes.", "Merge branch 'charlesmchen/reduceLogChatter'", "\"Bump build to 5.17.0.27.\" (Internal)", "Finalized avatar builder colors", "Fix avatar builder theme changes", "Force portrait when launching the avatar builder", "Clear the selected avatar if you delete it", "Finalized default avatar set", "Use a larger font size for emoji avatar, limit to 3 characters", "Don't upload default avatars", "Fix full screen avatar view for note-to-self", "Render full screen avatars as circles", "Fix fuzziness in default avatar rendering", "Use black for selected color", "Render default avatar on group attribute edit view", "Auto select photo avatar", "Handle cleanup of orphaned avatar history", "Merge branch 'nt/avatar-builder-tweaks'", "\"Bump build to 5.17.0.28.\" (Internal)", "\"Bump build to 5.17.0.29.\" (nightly-07-17-2021)", "\"Bump build to 5.17.0.30.\" (nightly-07-18-2021)", "\"Bump build to 5.17.0.31.\" (nightly-07-19-2021)", "Sync translations", "\"Feature flags for .beta.\"", "\"Bump build to 5.17.0.32.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.17.0.33.\" (Internal)", "Update release notes for 5.17", "Don't attempt to apply early messages if we don't have a sender UUID", "\"Bump build to 5.16.1.0.\"", "Merge branch 'release/5.16.1'", "Exit NSE if the DB keys are not yet available", "\"Bump build to 5.16.1.1.\"", "Better handling of database readiness in NSE", "\"Bump build to 5.16.1.2.\"", "Merge branch 'release/5.16.1'", "Fix build", "\"Bump build to 5.16.1.3.\"", "Merge branch 'release/5.16.1'", "\"Bump build to 5.17.0.34.\" (nightly-07-20-2021)", "Disable forceAnnouncementOnlyGroups.", "\"Bump build to 5.17.0.35.\" (Internal)", "\"Bump build to 5.17.0.36.\" (Internal)", "Revert header import fix.", "Fix \"is announcement-only group\" enabling.", "Merge branch 'charlesmchen/tweakAnnouncementsOnly' into release/5.17.0", "\"Bump build to 5.17.0.37.\" (Internal)", "Copy contact phone number to clipboard.", "Update fastlane", "\"Feature flags for .beta.\"", "\"Bump build to 5.17.0.38.\" (Beta)", "Avatar Builder Megaphone & Onboarding Card", "Fix weird animation when overscrolling avatar builder", "Listen for the local profile updating.", "Fix weird cropping of avatars in dark theme on some devices", "Merge branch 'nt/avatar-builder-onboarding' into release/5.17.0", "Sync translations", "\"Bump build to 5.17.0.39.\" (Beta)", "Give up trying to calculate visible range for description text. This may be causing crashes on some older iOS versions / with some descriptions", "Sync translations", "\"Feature flags for .production.\"", "\"Bump build to 5.17.0.40.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.17.0.41.\" (Beta)", "Clear avatarBuilder megaphone if you already have an avatar", "\"Feature flags for .production.\"", "\"Bump build to 5.17.0.42.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.17.0.43.\" (Beta)", "Don't try and complete silently if we've already completed or time has expired", "\"Feature flags for .production.\"", "\"Bump build to 5.17.0.44.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.17.0.45.\" (Beta)", "Restore ZXing", "\"Feature flags for .production.\"", "\"Bump build to 5.17.0.46.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.17.0.47.\" (Beta)", "Refine announcement-only capability.", "Refine announcement-only capability.", "Refine announcement-only capability.", "Merge branch 'charlesmchen/announcementOnlyRemoteConfig' into release/5.17.0", "\"Feature flags for .production.\"", "\"Bump build to 5.17.0.48.\""]}, {"tag_start": "5.15.1.3", "tag_end": "5.16.0.45", "commits": ["\"Bump build to 5.16.0.0.\" (Internal)", "\"Bump build to 5.16.0.1.\" (Internal)", "Add an internal toggle to use sfu.test.voip.signal.org for group calls\n\nThis will help the calling team with testing the calling server.", "Merge branch 'jrose/sfu-test-url'", "Wake the app when network becomes available", "Merge branch 'release/5.15.0'", "\"Bump build to 5.16.0.2.\" (Internal)", "Move default audio state from soloAmbient to ambient\n\nAVPlayer will interrupt background audio whenever a video begins\nplaying. This is true even if the video playback is muted. By switching\nfrom soloAmbient to ambient, the system allows background playback to\ncontinue.\n\nThis is important for looping mp4 videos", "Merge branch 'mlin/PR/AmbientAudioSession'", "\"Bump build to 5.16.0.3.\" (nightly-06-25-2021)", "Remove old MobileCoin Signal MainNet enclave ids.", "Improve error copy around slow payment verification.", "Merge branch 'charlesmchen/slowPaymentVerification'", "\"Bump build to 5.16.0.4.\" (Internal)", "\"Bump build to 5.16.0.5.\" (Internal)", "\"Bump build to 5.16.0.6.\" (Internal)", "\"Bump build to 5.16.0.7.\" (Internal)", "\"Bump build to 5.16.0.8.\" (nightly-06-27-2021)", "\"Bump build to 5.16.0.9.\" (nightly-06-28-2021)", "\"Bump build to 5.16.0.10.\" (Internal)", "\"Bump build to 5.16.0.11.\" (Internal)", "\"Bump build to 5.16.0.12.\" (nightly-06-29-2021)", "\"Feature flags for .beta.\"", "\"Bump build to 5.15.1.4.\"", "Merge branch 'release/5.15.1'", "Extract WebRTC dependency from SignalMessaging to Signal app\n\nSignalMessaging was picking up WebRTC.framework even though that\ndependency wasn't declared, but it doesn't actually need it. Extract\nthose APIs to an extension in the Signal app target.", "Update to RingRTC v2.10.6\n\nIncludes the packaging change to support the M1 iOS simulator and\neventually Catalyst builds.", "Merge branch 'ringrtc/v2.10.6'", "Update to ZKGroup v0.7.3", "\"Bump build to 5.16.0.13.\" (nightly-06-29-2021)", "Multi-Select Animations", "\"Bump build to 5.16.0.14.\" (nightly-06-30-2021)", "Add message request flow to report spam", "Codegen", "Merge branch 'nt/report-spam-button'", "Reduce peak memory usage in system contact fetches, and sending/receiving contact syncs.", "Reduce peak memory usage in system contact fetches, and sending/receiving contact syncs.", "Reduce peak memory usage in system contact fetches, and sending/receiving contact syncs.", "Reduce peak memory usage in system contact fetches, and sending/receiving contact syncs.", "Ignore avatar in incoming contact syncs. Use batching when processing incoming/outgoing contact syncs.", "Ignore avatar in incoming contact syncs. Use batching when processing incoming/outgoing contact syncs.", "Remove contact avatar data from SignalAccount.", "Remove contact avatar data from SignalAccount.", "Remove contact avatar data from SignalAccount.", "Use batching when processing incoming/outgoing group syncs.", "Use batching when processing incoming/outgoing group syncs.", "Use batching when processing incoming/outgoing group syncs.", "Use batching when processing incoming/outgoing group syncs.", "Apply SDS codegen.", "Merge branch 'charlesmchen/signalAccountAndContactsMemoryUsage'", "Modify avatar builder to \"failover\" when avatars are invalid.", "Merge branch 'charlesmchen/failoverAvatars'", "Update Cocoapods.", "Disable ContactsViewHelper in NSE.", "Merge branch 'charlesmchen/nseVsContactsViewHelper'", "Apply LRUCache everywhere.", "Apply LRUCache everywhere.", "Apply LRUCache everywhere.", "Apply LRUCache everywhere.", "Apply LRUCache everywhere.", "Apply LRUCache everywhere.", "Apply LRUCache everywhere.", "Apply LRUCache everywhere.", "Fix handling of NSNull within LRUCache.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/lruCacheEverywhere'", "Don't use payments in NSE.", "Reduce network manager's pool sizes in NSE.", "Do not send or respond to v1 group info requests.", "Streamline blocked group list memory usage in NSE.", "Add comment to UD manager.", "Clean up sticker manager.", "Apply LRU cache to attachment downloads completion tracking.", "Apply LRU cache to group v2 updates throttling.", "Apply LRU cache to bulk profile fetch outcome tracking.", "Apply LRU cache to bulk uuid lookup outcome tracking.", "Set NSE cache sizes for ModelReadCache.", "Add comment to EarlyMessageManager.", "Update Cocoapods.", "Merge branch 'charlesmchen/nseTrimming'", "Fix broken tests.", "\"Bump build to 5.16.0.15.\" (Internal)", "Evacuate some LRUCaches when app enters the background.", "Respond to CR.", "Merge branch 'charlesmchen/lruCacheVsBackground'", "Don't keep notifications in memory", "Batch notification cancelation", "Merge branch 'nt/notification-cleanup'", "Reduce peak memory usage in NSE.", "Reduce peak memory usage in NSE.", "Reduce peak memory usage in NSE.", "Reduce peak memory usage in NSE.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/nseReducePeakMemory'", "Enable NSE internally", "\"Bump build to 5.16.0.16.\" (Internal)", "5.15.0 beta feedback: Messages delayed insert on send", "Merge branch 'eb/5.15_sendDelay'", "\"Bump build to 5.16.0.17.\" (nightly-07-01-2021)", "\"Bump build to 5.16.0.18.\" (nightly-07-02-2021)", "Fix rest message fetch", "\"Bump build to 5.16.0.19.\" (Internal)", "PR feedback for 5.15.0 beta feedback: Messages delayed insert on send", "Remove ZXing.", "Remove ZXing.", "Remove ZXing.", "Remove ZXing.", "Remove ZXing.", "Remove ZXing.", "Remove ZXing.", "Remove ZXing.", "Remove ZXing.", "Remove ZXing.", "Remove ZXing.", "Respond to CR feedback.", "Update Cocoapods.", "Merge branch 'charlesmchen/removeZXing'", "Merge branch 'eb/5.15_sendDelay_feedback'", "\"Bump build to 5.16.0.20.\" (Internal)", "Multi-select checkmarks do not animate in if keyboard was presented", "Make sure we wait to call the contentHandler until *after* we clear notifications", "Persist last received sync message date", "\"Bump build to 5.16.0.21.\" (Internal)", "Merge branch 'eb/multiSelectKeyboardAnimations'", "Remove uiRead().", "Remove uiRead().", "Remove uiRead().", "Remove uiRead().", "Remove uiRead().", "Remove uiRead().", "Remove uiRead().", "Remove uiRead().", "Remove uiRead().", "Remove uiRead().", "Remove uiRead().", "Remove uiRead().", "Remove uiRead().", "Remove uiRead().", "Refine names.", "Respond to CR.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/uiRead'", "\"Bump build to 5.16.0.22.\" (nightly-07-04-2021)", "\"Bump build to 5.16.0.23.\" (nightly-07-05-2021)", "\"Bump build to 5.16.0.24.\" (nightly-07-06-2021)", "Fix crash in ThreadUtil.", "Merge branch 'charlesmchen/threadUtilCrash'", "Persist early messages", "PR feedback", "Merge branch 'nt/persist-early-messages'", "Don't perform duplicate decryption of relayed call messages", "Sync translations", "\"Feature flags for .beta.\"", "Add support for beta tags", "\"Bump build to 5.16.0.25.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.16.0.26.\" (Internal)", "Update release notes", "Enable the NSE for beta users", "\"Feature flags for .beta.\"", "\"Bump build to 5.16.0.27.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.16.0.28.\" (Internal)", "\"Bump build to 5.16.0.29.\" (nightly-07-07-2021)", "Convert conversation list cells to use manual layout.", "Convert conversation list cells to use manual layout.", "Convert conversation list cells to use manual layout.", "Convert conversation list cells to use manual layout.", "Convert conversation list cells to use manual layout.", "Convert conversation list cells to use manual layout.", "Convert conversation list cells to use manual layout.", "Convert conversation list cells to use manual layout.", "Convert conversation list cells to use manual layout.", "Convert conversation list cells to use manual layout.", "Merge branch 'charlesmchen/conversationListCellSwift3'", "Clean up async completions.", "Make reachability thread-safe.", "Merge branch 'charlesmchen/asyncCompletions'", "Clean up async completions.", "Remove @objc from CVC where possible.", "Remove @objc from CVC where possible.", "Merge branch 'charlesmchen/cvcVsObjc'", "\"Bump build to 5.16.0.30.\" (Internal)", "Fix rebase breakage.", "\"Bump build to 5.16.0.31.\" (Internal)", "\"Bump build to 5.16.0.32.\" (Internal)", "\"Bump build to 5.16.0.33.\" (Internal)", "\"Bump build to 5.16.0.34.\" (Internal)", "\"Bump build to 5.16.0.35.\" (Internal)", "Fix leak in QR code scanning views.", "Fix leak in QR code scanning views.", "Respond to CR.", "Merge branch 'charlesmchen/qrScanningLeak'", "Fix missing unread indicator for threads with no unread messages.", "Merge branch 'charlesmchen/markAsUnreadIndicator'", "Try to fix snippet alignment in conversation list view cells.", "Try to fix snippet alignment in conversation list view cells.", "Try to fix snippet alignment in conversation list view cells.", "Merge branch 'charlesmchen/conversationListSnippetAlignment'", "Add push fallback text", "Sync translations", "\"Feature flags for .beta.\"", "\"Bump build to 5.16.0.36.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.16.0.37.\" (Internal)", "Improve multi select insert animation when keyboard is presented", "Merge branch 'eb/improvedMultiselect'", "Animations for inserting quoted replies", "Merge branch 'eb/quotedReplyAnimations'", "\"Bump build to 5.16.0.38.\" (nightly-07-08-2021)", "Improve logging around profile avatar filenames.", "Improve logging around profile avatar filenames.", "Merge branch 'charlesmchen/profileAvatarFileNameLogging'", "\"Bump build to 5.16.0.39.\" (Internal)", "\"Bump build to 5.16.0.40.\" (Internal)", "\"Bump build to 5.16.0.41.\" (Internal)", "\"Bump build to 5.16.0.42.\" (Internal)", "Fix crash in color view.", "Merge branch 'charlesmchen/colorViewCrash'", "Transcript banner backgrounds disappear when inserting quoted reply / presenting keyboard / sending a new message", "Merge branch 'eb/transcriptScrollGlitch' into release/5.16.0", "Migrate to GRDB 5.", "Fix deadlock crash in DatabaseChangeObserver.", "Update Cocoapods.", "Respond to CR.", "Merge branch 'charlesmchen/dbObservationCrash' into release/5.16.0", "Fix database change filtering.", "Include default notification sounds in the NSE", "Allow picking mp3 and m4r notification sounds", "Make custom notification sounds accessible to the NSE", "Fix acceptance of auto correct suggestions before sending", "Mark threads as read when archiving", "Include notification sounds in device transfer", "PR feedback", "Merge branch 'nt/little-fixes125' into release/5.16.0", "Sync translations", "\"Feature flags for .beta.\"", "\"Bump build to 5.16.0.43.\" (Beta)", "\"Feature flags for .qa.\"", "\"Bump build to 5.16.0.44.\" (Internal)", "Add remote config flag for the NSE", "Sync translations", "Improve logging around local profile avatar.", "Merge branch 'charlesmchen/localProfileAvatarLogging' into release/5.16.0", "\"Feature flags for .production.\"", "\"Bump build to 5.16.0.45.\""]}, {"tag_start": "5.15.0.60", "tag_end": "5.15.1.3", "commits": ["\"Feature flags for .beta.\"", "\"Bump build to 5.15.0.61.\"", "\"Bump build to 5.15.1.0.\" (Internal)", "Fix CVC scroll continuity on iOS 12.", "\"Bump build to 5.15.1.1.\" (Internal)", "Fix CVC scroll continuity on iOS 12.", "\"Bump build to 5.15.1.2.\" (Internal)", "Merge branch 'charlesmchen/scrollContinuityIOS12' into release/5.15.1", "Fix donation decimal handling", "Sync translations", "\"Feature flags for .production.\"", "\"Bump build to 5.15.1.3.\""]}, {"tag_start": "5.14.0.35", "tag_end": "5.15.0.60", "commits": ["\"Feature flags for .beta.\"", "\"Bump build to 5.14.0.36.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.14.0.37.\" (Internal)", "Don't set voip token on service if using NSE", "Use vanilla push for preauth challenge", "Handle call messages in the NSE", "Include localizations in NSE", "Make sure badge count is updated by NSE", "Only relay encrypted data to main app when receiving a call", "PR Feedback", "Merge branch 'nt/nse-finalization'", "\"Bump build to 5.15.0.1.\" (Internal)", "\"Bump build to 5.15.0.2.\" (Internal)", "\"Bump build to 5.15.0.3.\" (Internal)", "\"Bump build to 5.15.0.4.\" (Internal)", "\"Bump build to 5.15.0.5.\" (Internal)", "Update repo in preparation for SignalClient update", "Update to SignalClient 0.8.1", "Lint", "Merge branch 'mlin/PR/PrepForSignalClientUpdate'", "\"Bump build to 5.15.0.6.\" (Internal)", "Fix country code bucketing", "\"Bump build to 5.15.0.7.\" (Internal)", "\"Bump build to 5.15.0.8.\" (Internal)", "Fix build warnings.", "Fix build warnings.", "Fix build warnings around imports.", "Fix build warnings.", "Fix test imports.", "Fix broken and failing tests.", "Merge branch 'charlesmchen/buildWarnings'", "Port ConversationListCell to Swift.", "Refine avatar loading behavior in conversation list and search results views.", "Port ConversationListCell to Swift.", "Merge branch 'charlesmchen/conversationListCellSwift'", "Disable NSE", "\"Bump build to 5.15.0.9.\" (Internal)", "\"Bump build to 5.15.0.10.\" (Internal)", "\"Bump build to 5.15.0.11.\" (Internal)", "\"Bump build to 5.15.0.12.\" (Internal)", "\"Bump build to 5.15.0.13.\" (Internal)", "\"Bump build to 5.15.0.14.\" (Internal)", "\"Bump build to 5.15.0.15.\" (Internal)", "\"Bump build to 5.15.0.16.\" (Internal)", "\"Bump build to 5.15.0.17.\" (Internal)", "\"Bump build to 5.15.0.18.\" (Internal)", "\"Bump build to 5.15.0.19.\" (Internal)", "\"Bump build to 5.15.0.20.\" (Internal)", "\"Bump build to 5.15.0.21.\" (Internal)", "\"Bump build to 5.15.0.22.\" (Internal)", "\"Bump build to 5.15.0.23.\" (Internal)", "Merge CVC bubble views.", "Merge CVC bubble views.", "Merge CVC bubble views.", "Merge branch 'charlesmchen/mergeBubbleViews'", "\"Bump build to 5.15.0.24.\" (Internal)", "\"Bump build to 5.15.0.25.\" (Internal)", "Support multi-line tooltip in chat color view.", "Merge branch 'charlesmchen/chatColorTooltipLineWrap'", "Don't error when FF is already set", "Add nightly option to release lane", "Add nightly build tag variant", "Add nightly support to build script", "\"Bump build to 5.15.0.26.\" (nightly-06-14-2021)", "Merge branch 'nt/nightly'", "Photo too large to attach even though under 100MB", "Merge branch 'eb/largeImageSends'", "\"Bump build to 5.15.0.27.\" (nightly-06-15-2021)", "\"Bump build to 5.15.0.28.\" (nightly-06-16-2021)", "Update CI to macOS 11", "Allow setting xcode version in fastfile", "Fix NSE", "Avoid duplicate message fetch in NSE", "Merge branch 'nt/nse-fix'", "\"Bump build to 5.15.0.29.\" (nightly-06-17-2021)", "Elaborate the available actions when long-pressing link-ified items in cvc body text.", "Respond to CR.", "Merge branch 'charlesmchen/cvcLongPressBodyLinks'", "Fix off-by-one errors in media gallery cell layout.", "Merge branch 'charlesmchen/mediaGalleryLayoutOffByOne'", "Fix broken tests.", "Sync translations", "\"Feature flags for .beta.\"", "\"Bump build to 5.15.0.30.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.15.0.31.\" (Internal)", "Update SignalClient with M1 and Catalyst support", "Update workspace settings to use modern build system. Update Podfile to strip VALID_ARCHS flag from generated target xcconfig (deprecated in Xcode 12)", "Adopt OpenSSL-Universal 1.1.1k as dependency to Signal/SignalCoreKit/SignalServiceKit", "Review feedback", "Add post-install podfile step to fix Pods-Signal-frameworks.sh to ensure xcframework symlinks are not broken", "Add YYImage/libwebp to podfile", "Update to Signal built OpenSSL 1.1.1k with M1 and Catalyst support", "Merge branch 'feature/m1'", "\"Bump build to 5.15.0.32.\" (Internal)", "Update MC SDK to v1.1.0-pre2.", "Support multiple mrEnclave values for consensus.", "Update mrEnclave values for Signal Testnet.", "Update Cocoapods.", "Update Cocoapods.", "Update MC network configurations.", "Update Cocoapods.", "Merge branch 'charlesmchen/mobileCoinSDK-v1.1.0'", "Port CVC to Swift.", "Port CVC to Swift.", "Port CVC to Swift.", "Port CVC to Swift.", "Port CVC to Swift.", "Port CVC to Swift.", "Port CVC to Swift.", "Port CVC to Swift.", "Port CVC to Swift.", "Port CVC to Swift.", "Merge branch 'charlesmchen/cvcSwift'", "Port CVC to Swift.", "Port CVC to Swift.", "Port CVC to Swift.", "Port CVC to Swift.", "Port CVC to Swift.", "Port CVC to Swift.", "Port CVC to Swift.", "Port CVC to Swift.", "Port CVC to Swift.", "Port CVC to Swift.", "Port CVC to Swift.", "Fix typo.", "Merge branch 'charlesmchen/cvcSwift2'", "Fix footer rounding in CVC.", "Merge branch 'charlesmchen/cvcFooterRounding'", "\"Bump build to 5.15.0.33.\" (Internal)", "Rework user profile writes.", "Rework user profile writes.", "Rework user profile writes.", "Rework user profile writes.", "Rework user profile writes.", "Rework user profile writes.", "Rework user profile writes.", "Rework user profile writes.", "Rework user profile writes.", "Rework user profile writes.", "Rework user profile writes.", "Rework user profile writes.", "Rework user profile writes.", "Rework user profile writes.", "Rework user profile writes.", "Rework user profile writes.", "Rework user profile writes.", "Rework user profile writes.", "Respond to CR.", "Merge branch 'charlesmchen/userProfileWrites'", "Rework avatar building and caching.", "Cache profile avatar data in profile manager.", "Respond to CR.", "Respond to CR.", "Fix broken tests.", "Merge branch 'charlesmchen/avatarBuilderV2'", "\"Bump build to 5.15.0.34.\" (Internal)", "Add support for scanning new link device URL", "Send and Receive Slide In Animation", "Merge branch 'eb/animateInsertTransition'", "Sync translations", "\"Feature flags for .beta.\"", "RI script update", "\"Bump build to 5.15.0.35.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.15.0.36.\" (Internal)", "\"Bump build to 5.15.0.37.\" (nightly-06-19-2021)", "\"Bump build to 5.15.0.38.\" (nightly-06-20-2021)", "\"Bump build to 5.15.0.39.\" (nightly-06-21-2021)", "\"Bump build to 5.15.0.40.\" (Internal)", "\"Bump build to 5.15.0.41.\" (Internal)", "\"Bump build to 5.15.0.42.\" (Internal)", "\"Bump build to 5.15.0.43.\" (Internal)", "\"Bump build to 5.15.0.44.\" (Internal)", "\"Bump build to 5.15.0.45.\" (Internal)", "Fix assert.", "Fix bug in link preview draft measurement.", "Merge branch 'charlesmchen/fixes.2021.06.21'", "Remove profile manager caches.", "Merge branch 'charlesmchen/profileManagerCaches'", "Handle interactions with sticker pack and group invite links in CVC body texts.", "Handle interactions with sticker pack and group invite links in CVC body texts.", "Handle interactions with sticker pack and group invite links in CVC body texts.", "Merge branch 'charlesmchen/specialBodyLinks'", "Update gif proto\n\nThe GIF flag in the attachment flag proto was incremented to work around\nan android bug.", "Merge branch 'mlin/PR/GifProtoUpdate'", "Improve scroll continuity.", "Improve scroll continuity.", "Refine \"scroll to top\" behavior.", "Avoid \"negative contentOffset settling\" animations in CVC.", "Refine \"scroll to top\" behavior.", "Clean up ahead of PR.", "Refine comments, method names and scroll continuity behavior.", "Merge branch 'charlesmchen/scrollContinuity4.9'", "\"Bump build to 5.15.0.46.\" (Internal)", "Fix build warnings and release builds.", "Merge branch 'charlesmchen/buildWarningsAndReleaseBuilds'", "Fix local user mode of app settings button.", "Merge branch 'charlesmchen/appSettingsLocalUserMode'", "Fix stale reference in project.", "\"Bump build to 5.15.0.47.\" (Internal)", "\"Bump build to 5.15.0.48.\" (Internal)", "Fix \"load newer loop\" scroll continuity bug.", "Fix scroll continuity bugs.", "Merge branch 'charlesmchen/scrollContinuity5.0'", "\"Bump build to 5.15.0.49.\" (nightly-06-23-2021)", "Apply count limits to all NSCache, clean up caching.", "Apply count limits to all NSCache, clean up caching.", "Apply count limits to all NSCache, clean up caching.", "Merge branch 'charlesmchen/cacheLimits'", "\"Bump build to 5.15.0.50.\" (Internal)", "\"Bump build to 5.15.0.51.\" (Internal)", "Rework scroll continuity.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Merge branch 'charlesmchen/scrollContinuity5.3'", "Tidy up logging.", "Merge branch 'charlesmchen/internalLogging'", "Fix CVC call button enabling.", "Merge branch 'charlesmchen/callButtonEnabling'", "Improve typing indicator insert/remove/send animations, deletion animations", "Merge branch 'eb/typingIndicatorAnimationUpdates'", "\"Bump build to 5.15.0.52.\" (Internal)", "Fix CVC send animation.", "Sync translations", "\"Feature flags for .beta.\"", "\"Bump build to 5.15.0.53.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.15.0.54.\" (Internal)", "Conversation sometimes does not scroll when presenting the keyboard", "Merge branch 'eb/keyboardPresentationScroll'", "Crash in OpenSSL during device transfer", "Merge branch 'eugene/openSSLCrash'", "\"Bump build to 5.15.0.55.\" (nightly-06-24-2021)", "\"Bump build to 5.15.0.56.\" (nightly-06-24-2021)", "Don't download attachments outside of the main app", "Disable unnecessary job queues from running in extensions", "Restrict various AppReadiness blocks to main app only", "Restrict some things to running only in processes that have UI", "Update pods", "Enable the NSE for internal users", "PR Feedback", "Merge branch 'nt/nse-4'", "Sync translations", "\"Feature flags for .production.\"", "\"Bump build to 5.15.0.57.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.15.0.58.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.15.0.59.\" (Internal)", "\"Feature flags for .production.\"", "\"Bump build to 5.15.0.60.\""]}, {"tag_start": "5.13.0.33", "tag_end": "5.14.0.35", "commits": ["\"Feature flags for .beta.\"", "\"Bump build to 5.13.0.34.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.13.0.35.\" (Internal)", "\"Bump build to 5.13.0.36.\" (Internal)", "\"Bump build to 5.13.0.37.\" (Internal)", "\"Bump build to 5.14.0.0.\"", "Start work on chat colors.", "Start work on chat colors.", "Start work on chat colors.", "Start work on chat colors.", "Start work on chat colors.", "Start work on chat colors.", "Start work on chat colors.", "Start work on chat colors.", "Start work on chat colors.", "Start work on chat colors.", "Start work on chat colors.", "Start work on chat colors.", "Start work on chat colors.", "Start work on chat colors.", "Start work on chat colors.", "Start work on chat colors.", "Start work on chat colors.", "Start work on chat colors.", "Respond to CR.", "Add support for gradients to custom color picker.", "Add support for gradients to custom color editor.", "Add support for gradients to custom color editor.", "Add support for gradients to custom color editor.", "Respond to CR.", "Fix custom color editor design.", "Rework mock conversation view.", "Render chat colors in CVC cells.", "Render chat colors in CVC cells.", "Render chat colors in CVC cells.", "Render chat colors in CVC cells.", "Render chat colors in CVC cells.", "Render chat colors in CVC cells.", "Render chat colors in CVC cells.", "Chat colors: group sender name colors.", "Respond to CR.", "Chat colors: apply default chat colors.", "Chat colors: fix bug in chat color view's preview.", "Chat Colors, Part 7: Edit, duplicate delete custom colors and confirmation alerts.", "Chat Colors, Part 7: edit, duplicate delete custom colors and confirmation alerts.", "Replace ConversationColors with \"avatar colors\".", "Replace ConversationColors with \"avatar colors\".", "Replace ConversationColors with \"avatar colors\".", "Replace ConversationColors with \"avatar colors\".", "Replace ConversationColors with \"avatar colors\".", "Replace ConversationColors with \"avatar colors\".", "Replace ConversationColors with \"avatar colors\".", "Replace ConversationColors with \"avatar colors\".", "Replace ConversationColors with \"avatar colors\".", "Update appearance of outgoing mentions.", "Rename ChatColorValue to ChatColor.", "Apply chat colors to quoted replies.", "Update quoted reply backgrounds to reflect scroll position.", "Apply chat colors to footers.", "Respond to CR.", "Reconcile chat colors and wallpapers.", "Reconcile chat colors and wallpapers.", "Reconcile chat colors and wallpapers.", "Reconcile chat colors and wallpapers.", "Reconcile chat colors and wallpapers.", "Reconcile chat colors and wallpapers.", "Reconcile chat colors and wallpapers.", "Reconcile chat colors and wallpapers.", "Tweak quoted reply copy.", "Apply chat color asset.", "Fix thread record property mapping.", "Fix mock conversation layout issue. Rework table view reload.", "Save changes immediately in chat color view.", "Only show \"edit custom color\" icon if color is selected.", "Fix layout of preview in custom color view.", "Refine layout of chat color view.", "Fix mini preview of chat appearance.", "Fix layout glitch when re-using CVC cell components.", "Reduce usage of bubble view.", "Eliminate \"custom cell\" pattern in table views.", "Chat Colors, Part 18: Wallpaper/chat color contrast.", "Fix chat color stability.", "Modify chat color view to reflect global settings.", "Design fixes for chat color & wallpaper views.", "Design fixes for chat color & wallpaper views.", "Respond to CR.", "Cleanup rebase breakage.", "Merge branch 'charlesmchen/chatColors'", "\"Bump build to 5.14.0.1.\" (Internal)", "Update chat colors & wallpapers.", "Merge branch 'charlesmchen/chatColors25'", "Reset payments if necessary.", "Merge branch 'charlesmchen/paymentsReset'", "Allow user to reset device data when re-linking to a new primary with a different phone number or uuid.", "Refine re-registration/re-linking logic.", "Refine re-registration/re-linking logic.", "Refine re-registration/re-linking logic.", "Block UI while resetting app data.", "Refine re-registration.", "Respond to CR.", "Merge branch 'charlesmchen/paymentsReset2'", "Constrain size of conversation avatar view.", "Merge branch 'charlesmchen/avatarViewSize'", "Chat Colors, Part 22: Fix bugs.", "Fix member action sheets.", "Refine selection state in chat color view.", "Refine selection state in chat color view.", "Fix member action sheets.", "Merge branch 'charlesmchen/chatColors22'", "Improve handling of empty attachments.", "Merge branch 'charlesmchen/emptyAttachments'", "Load avatars async by default; verify that manual layout views are deallocated on the main thread.", "Merge branch 'charlesmchen/asyncAvatarsAndManualLayoutDeinit'", "\"Bump build to 5.14.0.2.\" (Internal)", "Fix \"missing ThreadAssociatedData\", again.", "Merge branch 'charlesmchen/missingThreadAssociatedData4'", "Improve logging around missing profiles.", "Merge branch 'charlesmchen/missingProfile'", "Small fixes.", "Clean up ahead of PR.", "Update Cocoapods.", "Respond to CR.", "Merge branch 'charlesmchen/smallFixes.2021.05.24.1'", "Update l10n strings.", "\"Feature flags for .beta.\"", "\"Bump build to 5.14.0.3.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.14.0.4.\" (Internal)", "Small fixes to chat colors.", "Merge branch 'charlesmchen/chatColorsFixes'", "Small fixes.", "Refine error handling.", "Respond to CR.", "Merge branch 'charlesmchen/fixes.2021.05.26'", "Update l10n strings.", "\"Feature flags for .beta.\"", "\"Bump build to 5.14.0.5.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.14.0.6.\" (Internal)", "\"Bump build to 5.14.0.7.\" (Internal)", "\"Bump build to 5.14.0.8.\" (Internal)", "Enable chat colors.", "\"Feature flags for .beta.\"", "\"Bump build to 5.14.0.9.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.14.0.10.\" (Internal)", "\"Bump build to 5.14.0.11.\" (Internal)", "\"Bump build to 5.14.0.12.\" (Internal)", "\"Bump build to 5.14.0.13.\" (Internal)", "\"Bump build to 5.14.0.14.\" (Internal)", "\"Bump build to 5.14.0.15.\" (Internal)", "\"Bump build to 5.14.0.16.\" (Internal)", "\"Bump build to 5.14.0.17.\" (Internal)", "\"Bump build to 5.14.0.18.\" (Internal)", "\"Bump build to 5.14.0.19.\" (Internal)", "\"Bump build to 5.14.0.20.\" (Internal)", "\"Bump build to 5.14.0.21.\" (Internal)", "\"Bump build to 5.14.0.22.\" (Internal)", "\"Bump build to 5.14.0.23.\" (Internal)", "Update to RingRTC v2.10.0", "Update to RingRTC v2.10.1", "Hook up inidividual call screen share events", "Merge branch 'ringrtc/v2.10.0'", "\"Bump build to 5.14.0.24.\" (Internal)", "\"Bump build to 5.14.0.25.\" (Internal)", "Refine payments kill switch behavior.", "Merge branch 'charlesmchen/paymentsKillSwitch'", "Screen share receive support", "\"Bump build to 5.14.0.26.\" (Internal)", "\"Bump build to 5.14.0.27.\" (Internal)", "\"Bump build to 5.14.0.28.\" (Internal)", "\"Bump build to 5.14.0.29.\" (Internal)", "Fix build performance for 12.5/Swift 5.4", "Update generated emoji", "Review feedback, swift-lint", "Merge branch 'eb/emojiGeneratorBuildFix'", "Add CVBodyTextLabel.", "Merge branch 'charlesmchen/bodyTextLabel3'", "Improve perf of custom color view.", "Improve perf of custom color view.", "Improve perf of custom color view.", "Improve perf of custom color view.", "Ensure scroll continuity when reloading table view controllers.", "Respond to CR.", "Merge branch 'charlesmchen/customColorViewPerf'", "Apply name colors v4.", "Merge branch 'charlesmchen/nameColorsV4'", "Add an \"appearance get started\" card.", "Add an \"chat colors\" megaphone.", "Fix lottie file.", "Respond to CR.", "Merge branch 'charlesmchen/chatColorMegaphoneEtc'", "Use custom views in chat color picker.", "Add tooltip to chat color picker.", "Streamline chat color view updates.", "Add tooltip to custom color view.", "Fix chat color view layout on iPad.", "Dismiss chat colors megaphone if users selects appearance button.", "Merge branch 'charlesmchen/chatColorMegaphoneEtc3'", "Fix chat color precedence.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/chatColorPrecedence'", "\"Bump build to 5.14.0.30.\" (Internal)", "Add accessibilityLabel to conversation settings buttons", "Fix custom color edit icon.", "Fix a couple test breakages\n\n- We're no longer serializing conversation colors\n- Our test keychain was not thread safe.", "Viewed receipts for all", "Universal disappearing messages for all", "Group description editing for all", "Sync translations", "\"Feature flags for .production.\"", "\"Bump build to 5.14.0.31.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.14.0.32.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.14.0.33.\" (Internal)", "\"Bump build to 5.14.0.34.\" (Internal)", "Fix tooltip margins.", "\"Feature flags for .production.\"", "\"Bump build to 5.14.0.35.\""]}, {"tag_start": "5.12.0.51", "tag_end": "5.13.0.33", "commits": ["Initial ApplePay donation support", "ApplePay donation support", "Add donation megaphone", "Wrap title", "PR Feedback", "Design feedback", "little fixes", "Merge branch 'nt/apple-pay-donation'", "\"Bump build to 5.13.0.0.\" (Internal)", "Move isArchived, isMarkedUnread, and mutedUntilDate off of TSThread", "\"Feature flags for .beta.\"", "\"Bump build to 5.12.0.52.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.12.0.53.\" (Internal)", "Merge branch 'release/5.12.0'", "Fix group cell member cell layout.", "Fix group cell member cell layout.", "Fix group cell member cell layout.", "Merge branch 'charlesmchen/groupCallMemberCellLayout' into release/5.12.0", "Simplify GroupCallMemberCell.", "Enable viewed receipts for beta", "\"Bump build to 5.13.0.1.\" (Internal)", "Sync translations", "\"Feature flags for .beta.\"", "\"Bump build to 5.13.0.2.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.13.0.3.\" (Internal)", "\"Bump build to 5.13.0.4.\" (Internal)", "\"Bump build to 5.13.0.5.\" (Internal)", "Reactive profile key sharing", "Merge branch 'nt/reactive-profile-sharing'", "Add description to Groups proto", "Add support for group descriptions", "Icorporate randall feedback", "Merge branch 'nt/group-description'", "Update l10n strings.", "Merge remote-tracking branch 'private/release/5.12.0'", "Improve asserts around \"layout off main thread\" crash.", "Merge branch 'charlesmchen/layoutOffMainThreadCrash'", "Add more asserts around thread safety.", "\"Feature flags for .beta.\"", "\"Bump build to 5.13.0.6.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.13.0.7.\" (Internal)", "Disable layer animations.", "Disable layer animations.", "Disable layer animations.", "Disable layer animations.", "Disable layer animations.", "Merge branch 'charlesmchen/disableLayerAnimations'", "\"Feature flags for .beta.\"", "\"Bump build to 5.13.0.8.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.13.0.9.\" (Internal)", "Tweak reverse_integration_check.py.", "Update release notes.", "Fix retain cycle around contact cells.", "Fix retain cycle around contact cells.", "Respond to CR.", "Merge branch 'charlesmchen/contactCellRetainCycle'", "\"Bump build to 5.13.0.10.\" (Internal)", "Update GIF attachment flag.", "Update GIF attachment flag.", "Merge branch 'charlesmchen/gifFlag'", "\"Bump build to 5.13.0.11.\" (Internal)", "\"Bump build to 5.13.0.12.\" (Internal)", "\"Bump build to 5.13.0.13.\" (Internal)", "\"Bump build to 5.13.0.14.\"", "\"Bump build to 5.13.0.15.\" (Internal)", "Fix leak in table view.", "Fix leak in recipient picker.", "Fix leak in recipient picker.", "Fix leak in privacy view.", "Merge branch 'charlesmchen/leaks'", "Fix assert around ThreadAssociatedData.", "Merge branch 'charlesmchen/assertThreadAssociatedData'", "\"Bump build to 5.13.0.16.\" (Internal)", "\"Bump build to 5.13.0.17.\" (Internal)", "Land CVC loads using .sharedUserInteractive.", "Rework queue priorities used in CVC loads.", "Merge branch 'charlesmchen/cvcLandLoadsUserInteractive'", "\"Bump build to 5.13.0.18.\" (Internal)", "\"Bump build to 5.13.0.19.\" (Internal)", "Remove icon fonts.", "Merge branch 'charlesmchen/remoteIconFonts'", "Fix \"missing ThreadAssociatedData\" assert.", "Merge branch 'charlesmchen/missingThreadAssociatedData'", "Fix \"missing ThreadAssociatedData\" assert.", "Maintain \"bottom\" scroll continuity during keyboard present/dismiss animations.", "Fix dismiss of invite flow.", "Merge branch 'charlesmchen/fixes-2021.05.20'", "\"Bump build to 5.13.0.20.\" (Internal)", "\"Feature flags for .beta.\"", "\"Bump build to 5.13.0.21.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.13.0.22.\" (Internal)", "\"Bump build to 5.13.0.23.\" (Internal)", "\"Bump build to 5.13.0.24.\" (Internal)", "\"Bump build to 5.13.0.25.\" (Internal)", "\"Bump build to 5.13.0.26.\" (Internal)", "Fix project.", "Fix linkification of phone numbers.", "Fix missing ThreadAssociatedData, again.", "Merge branch 'charlesmchen/missingThreadAssociatedData2'", "Fix muting vs. badge count.", "Merge branch 'charlesmchen/badgeVsMuted'", "\"Feature flags for .production.\"", "\"Bump build to 5.13.0.27.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.13.0.28.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.13.0.29.\" (Internal)", "Update l10n strings.", "\"Feature flags for .production.\"", "\"Bump build to 5.13.0.30.\"", "\"Feature flags for .beta.\"", "\"Bump build to 5.13.0.31.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.13.0.32.\" (Internal)", "Fix layout of wallpaper blur views during keyboard animations.", "Merge branch 'charlesmchen/blurVsKeyboardAnimations'", "\"Feature flags for .production.\"", "\"Bump build to 5.13.0.33.\""]}, {"tag_start": "5.11.0.26", "tag_end": "5.12.0.51", "commits": ["\"Bump build to 5.12.0.0.\" (Internal)", "Add default disappearing message timer", "Allow selecting custom disappearing message times", "Sync universal expire timer", "Tweak how we decide when to set the default timer", "Fix setting of default timer on first message", "put behind feature flag", "Clean up NewGroupConfirmViewController", "PR Feedback", "Merge branch 'nt/universal-disappearing-messages'", "IOS-1325: Stop fetching still gif preview images\n\nAlso, a whole bunch of improvements to looping video perf:\n- Schedule all sorts of AVKit loading off the main thread\n- Avoid rebuilding GIF picker cells if it can be avoided\n- Only play AVAssets once they're loaded and ready to go", "PR Feedback", "Fixed a bug causing video to stutter", "Merge branch 'mlin/PR/IOS-1325'", "Merge branch 'release/5.11.0'", "Rework CVC scroll continuity.", "Rework CVC scroll continuity.", "Rework CVC scroll continuity.", "Rework CVC scroll continuity.", "Merge branch 'charlesmchen/cvcScrollContinuity3'", "\"Bump build to 5.12.0.1.\" (Internal)", "Re-style audio message view", "Don't start playing after scrubbing", "Add support for viewed receipts", "Send viewed receipts for view once messages", "Send viewed receipts for audio messages", "Cleanup", "Allow scrubbing while another track is playing", "Autoplay subsequent audio messages", "Cleanup mark as viewed logic", "Block loads while cells are animating", "PR Feedback", "Merge branch 'nt/voice-notes'", "\"Bump build to 5.12.0.2.\" (Internal)", "\"Bump build to 5.12.0.3.\" (Internal)", "\"Bump build to 5.12.0.4.\" (Internal)", "\"Bump build to 5.12.0.5.\" (Internal)", "\"Bump build to 5.12.0.6.\" (Internal)", "Update schema", "\"Bump build to 5.12.0.7.\" (Internal)", "\"Bump build to 5.12.0.8.\" (Internal)", "\"Bump build to 5.12.0.9.\" (Internal)", "Use staging service", "\"Bump build to 5.12.0.10.\" (Internal)", "Revert \"Use staging service\"\n\nThis reverts commit d496ddabdcffb4af1945a52ce4919fb9109c7692.", "\"Bump build to 5.12.0.11.\" (Internal)", "Revise data detection.", "Merge branch 'charlesmchen/dataDetection3'", "\"Bump build to 5.12.0.12.\" (Internal)", "\"Bump build to 5.12.0.13.\" (Internal)", "\"Bump build to 5.12.0.14.\" (Internal)", "\"Feature flags for .qa.\"", "\"Bump build to 5.11.0.27.\"", "Fix release notes", "Merge branch 'release/5.11.0'", "\"Bump build to 5.12.0.15.\" (Internal)", "Fix release notes", "\"Feature flags for .beta.\"", "\"Bump build to 5.11.0.28.\"", "Merge branch 'release/5.11.0'", "\"Feature flags for .qa.\"", "\"Bump build to 5.11.1.0.\" (Internal)", "Improve handling of db corruption.", "Improve handling of db corruption.", "Improve handling of db corruption.", "Merge branch 'charlesmchen/corruptInteractions' into release/5.11.1", "\"Feature flags for .production.\"", "\"Bump build to 5.11.1.1.\"", "Merge branch 'release/5.11.1'", "\"Feature flags for .qa.\"", "\"Bump build to 5.12.0.16.\" (Internal)", "\"Feature flags for .beta.\"", "\"Bump build to 5.12.0.17.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.12.0.18.\" (Internal)", "Never retry sending read receipts to blocked users.", "Merge branch 'charlesmchen/readReceiptsVsBlocklist'", "Use UnfairLock in SignalServiceAddressCache.", "Merge branch 'charlesmchen/addressCacheLock'", "\"Bump build to 5.12.0.19.\" (Internal)", "Fix universal disappearing messages", "\"Bump build to 5.12.0.20.\" (Internal)", "Refine profile fetch concurrency.", "Use GCDQueueCluster to place upper bound on profile fetch concurrency.", "Merge branch 'charlesmchen/profileFetchConcurrency'", "Improve thumbnail quality.", "Improve thumbnail quality.", "Improve thumbnail quality.", "Merge branch 'charlesmchen/thumbnailQuality'", "\"Bump build to 5.12.0.21.\" (Internal)", "Convert contact cells to Swift, clean up configuration, reduce transaction count.", "Clean up how local user name is rendered in contact cells.", "Clean up contact cell.", "Reuse contact cells.", "Reuse contact cells.", "Load contact cell avatars async.", "Scale avatar thumbnails to render size.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Refine handling of max profile avatar size.", "Merge branch 'charlesmchen/composeViewPerf'", "\"Bump build to 5.12.0.22.\" (Internal)", "\"Bump build to 5.12.0.23.\" (Internal)", "Update tags_to_ignore.", "Preserve voice message drafts", "Re-style voice memo recording view", "Add voice memo draft UI", "Play voice message tones even when device is muted", "Fix standard sound enum", "Automatically mark voice messages to note-to-self as viewed", "Design feedback", "Little fixes", "Fix for RTL", "Show voice memo drafts on conversation list", "Clip audio waveforms", "Merge branch 'nt/voice-notes'", "Fix layout of contact cell accessories.", "Merge branch 'charlesmchen/contactCellViewAccessories'", "Generate strings", "Sync translations", "\"Feature flags for .beta.\"", "\"Bump build to 5.12.0.24.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.12.0.25.\"", "Disable link data detection.", "\"Bump build to 5.12.0.26.\" (Internal)", "Disable linkification of text.", "\"Bump build to 5.12.0.27.\" (Internal)", "Revert linkification changes.", "\"Bump build to 5.12.0.28.\" (Internal)", "\"Bump build to 5.12.0.29.\" (Internal)", "Cull stale interactions.", "Merge branch 'charlesmchen/cullStaleInteractions'", "\"Bump build to 5.12.0.30.\" (Internal)", "Fix group call button backgrounds.", "\"Bump build to 5.12.0.31.\" (Internal)", "Fixes broken tests related to the GroupMembers table\n\nThe TSGroupMember table is updated after every inserted interaction. It\nasserts that the sender of the interaction is in the group membership.\n\nBefore, our tests would construct groups with mock membership and then\nconstruct outgoing messages with the local address as the sender. This\nwould fail this new requirement.\n\nThe fix is to make sure that the local address is in the test group\nmembership if we'd like to \"send\" any messages.", "Merge branch 'mlin/PR/FixTests_GroupMembershipTable'", "\"Bump build to 5.12.0.32.\" (Internal)", "Move peekCallAndUpdateThread() work off main thread.", "Cache profile bio filtering.", "Clean up ahead of PR.", "Merge branch 'charlesmchen/cvcOpenPerf'", "Tweak CVC album media target quality to 40%.", "\"Bump build to 5.12.0.33.\" (Internal)", "Tweak CVC album media target quality to 60%.", "\"Bump build to 5.12.0.34.\" (Internal)", "Tweak CVC album media target quality to 80%.", "\"Bump build to 5.12.0.35.\" (Internal)", "\"Bump build to 5.12.0.36.\" (Internal)", "Spam challenge solving infrastructure\n\nMost of this is hidden behind a feature flag and untested. Still waiting\non server support to exercise these endpoints.\n\n- Builds out skeleton for tracking arbitrary spam challenges\n- Records a push challenge in response to a server push\n- Records a captcha challenge in response to a server precondition\n  rejection when fetching prekeys or sending messages\n\nPush challenges should be good to go (once tested). Captcha challenges\nstill require some work to pause sending and present the captcha to the\nuser. Server communication for captcha challenges is complete.", "PR Feedback", "Most of the remainder of the spam work:\n\n- Updates to the message send flow\n- Presents basic captcha UI when needed\n- Auto-resend when captcha is complete\n\nWhat's left:\n- Bits of UI to communicate the sending state to the user\n- Some cleanup of how we talk to the server\n- Localizations", "Spam UI work", "Localize strings, UI tweaks", "Clean up leftover testing code", "lint", "Update Pods", "More linting", "PR Feedback: Remove unused code", "Merge branch 'mlin/feature/SpamChallenges'", "Update 5.12 release notes", "Allow audio progress to update while scrolling", "Fix scrubbing of non-waveform audio messages", "Allow waveforms for longer messages.", "Fix audio scrubbing while not playing more broadly", "Don't allow dismissal while unsaved changes, immediately save DM timer", "Merge branch 'nt/voice-notes'", "Fix compilation", "Sync translations", "Fix tests", "Don't animate when we don't need to animate", "Fix crash in audio message view.", "\"Bump build to 5.12.0.37.\" (Internal)", "Rename server push challenge flag", "Sync translations", "\"Feature flags for .beta.\"", "\"Bump build to 5.12.0.38.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.12.0.39.\" (Internal)", "Remove custom objc name from SpamCaptchaViewController\n\nApparently Swift with auto-mangle the class name to remove any sort of\nnamespacing issues that objc prefixing is used to abate. This is causing\nwhen the build machine tries to link Signal.", "\"Feature flags for .beta.\"", "\"Bump build to 5.12.0.40.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.12.0.41.\" (Internal)", "Mark SpamCaptchaViewController as public", "\"Feature flags for .beta.\"", "\"Bump build to 5.12.0.42.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.12.0.43.\" (Internal)", "Declare more captcha things `public` and rename one more class\n\nI'm not sure why Xcode isn't flagging this locally. Apologies for the\ncommit spam.", "\"Feature flags for .beta.\"", "\"Bump build to 5.12.0.44.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.12.0.45.\" (Internal)", "Allow translations script look for linter in path\n\nMy code directory looks a bit different so it doesn't always exist at\nthis path.", "Merge branch 'mlin/PR/find_strings_linter'", "Fix bio appearance.", "Record a voice memo draft if interrupted while recording is not locked.", "Fix voice memo loading animation", "Fix crash when accepting group member", "Don't show duplicate contact results on home screen", "Merge branch 'nt/little-fixes123'", "\"Feature flags for .beta.\"", "\"Bump build to 5.12.0.46.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.12.0.47.\" (Internal)", "Add feature flag for data detection.", "Merge branch 'charlesmchen/dataDetectionFeatureFlag'", "Scroll continuity: keyboard animations vs. landing loads.", "Scroll continuity: keyboard animations vs. landing loads.", "Merge branch 'charlesmchen/scrollContinuity4.2'", "\"Bump build to 5.12.0.48.\" (Internal)", "IOS-1382: Improper initializer delegation for SafetyNumberCell", "Fix coloring of SafetyNumberCells\n\nThe background color is set by the superclass. Setting it before calling\nout to the superclass won't take effect.", "Fix accessory views in safety number cells.", "Clean up contact cell view.", "Merge branch 'mlin/PR/IOS-1382'", "\"Bump build to 5.12.0.49.\" (Internal)", "Only avoid load landing and keyboard animation conflicts after first appearance.", "Merge branch 'charlesmchen/keyboardVsLoadVsPresentation'", "\"Bump build to 5.12.0.50.\" (Internal)", "Sync translations", "\"Feature flags for .production.\"", "\"Bump build to 5.12.0.51.\""]}, {"tag_start": "5.10.0.49", "tag_end": "5.11.0.26", "commits": ["Apply manual stack view to Conversation View components.", "Apply manual stack view to Conversation View components.", "Apply manual stack view to Conversation View components.", "Apply manual stack view to Conversation View components.", "Refine manual stack layout.", "Improve logging around network failures.", "Refine manual stack layout; apply manual layout to audio component.", "Refine manual stack layout; apply manual layout to audio component.", "Apply manual layout to bottom buttons component.", "Apply manual layout to contact share component.", "Apply manual layout to footer component.", "Apply manual layout to view-once component.", "Apply manual layout to typing indicators component.", "Apply manual layout to thread details component. Simplify manual stack usage.", "Apply manual layout to unread indicator component.", "Apply manual layout to sender name component.", "Apply manual layout to quoted reply component.", "Apply manual layout to link preview component.", "Apply manual layout to generic attachment component.", "Apply manual layout.", "Apply manual layout to body media component and rich subviews.", "Apply manual layout to attachment progress views.", "Apply manual layout to attachment progress views.", "Apply manual layout.", "Apply manual layout.", "Apply manual layout.", "Apply manual layout.", "Apply manual layout to message component.", "Apply manual layout to message component.", "Apply manual layout to message component.", "Apply manual layout to message component.", "Apply manual layout to message component.", "Apply manual layout to message component.", "Apply manual layout to message component.", "Fix layout of date headers.", "Changes for measuring manual stack view performance.", "Fix perf hotspot in CVRenderItem.", "Avoid redundant cvc relayout.", "Improve perf around bubble shape view.", "Improve perf around bubble shape view.", "Improve perf around bubble shape view.", "Respond to CR.", "Apply manual layout to system message component.", "Apply manual layout to system message component.", "Apply manual layout to blur views.", "Apply manual layout to system message component.", "Fix edge cases around wrapping iOS auto layout in manual layout.", "Fix edge cases around wrapping iOS auto layout in manual layout.", "Merge branch 'charlesmchen/manualStackView10'", "Apply manual layout to quoted reply component.", "Rework swipe-to-reply animations in message component.", "Fix edge cases in manual layout.", "Fix edge cases in manual layout.", "Merge branch 'charlesmchen/manualStackView11'", "Update Cocoapods.", "Update Cocoapods.", "Merge remote-tracking branch 'private/release/5.10.0'", "\"Bump build to 5.11.0.0.\"", "Conversation internal settings view.", "Respond to CR.", "Merge branch 'charlesmchen/threadInternalView'", "Apply manual layout to message timer view.", "Merge branch 'charlesmchen/manualStackView13'", "\"Bump build to 5.11.0.1.\" (Internal)", "Fix assert in FTS.", "Merge branch 'charlesmchen/ftsAssert'", "Suppress iOS layout constraints.", "Merge branch 'charlesmchen/manualLayout14'", "\"Bump build to 5.11.0.2.\" (Internal)", "\"Bump build to 5.11.0.3.\" (Internal)", "Apply manual layout to more views.", "Merge branch 'charlesmchen/manualLayout17'", "Use transparent containers where possible.", "Merge branch 'charlesmchen/cvcPerfTweaks'", "Always load media attachment thumbnails async.", "Use medium thumbnails in image galleries.", "Update Cocoapods.", "Respond to CR.", "Merge branch 'charlesmchen/manualLayout15'", "Merge branch 'release/5.10.0'", "\"Feature flags for .qa.\"", "\"Bump build to 5.11.0.4.\" (Internal)", "Merge branch 'release/5.10.0'", "\"Bump build to 5.11.0.5.\" (Internal)", "Apply manual layout to reactions component.", "Merge branch 'charlesmchen/manualLayoutReactions'", "\"Bump build to 5.11.0.6.\" (Internal)", "IOS-1303: Incorrect corner radius in circular link preview views\n\nFixes a regression from some of the corner masking optimizations added\nin 01a4ee4c.", "Merge branch 'mlin/PR/IOS-1303'", "IOS-1302: Voiceover reads \u201c2m\u201d as \u201ctwo  meters\u201d\n\nImprovements to how voiceover reads out relative timestamps.\n\nAlso, shortens the recipient name when reading 1:1 messages. Reading the\nfull name every time the user swipes to another message can clutter\nvoiceover.", "Merge branch 'mlin/PR/IOS-1302'", "\"Feature flags for .beta.\"", "\"Bump build to 5.10.0.50.\"", "Merge branch 'release/5.10.0'", "Improve search results by limiting to collections", "Re-style conversation search results screen", "Allow searching for one character on compose screen", "PR Feedback", "Merge branch 'nt/search'", "\"Bump build to 5.11.0.7.\" (Internal)", "MP4 looping media support\n\n- Fetch mp4s from Giphy for showing previews\n- Fetch mp4s from Giphy for sending (behind featuree flag)\n- A new flag on attachments to tag a video as \"looping media\"\n- Videos tagged with this flag will be shown on repeat", "PR Feedback", "Update CocoaPods", "Merge branch 'mlin/PR/MP4Gifs'", "Apply ConversationAvatarView.", "Respond to CR.", "Merge branch 'charlesmchen/blurUnknownContactAvatars'", "Blur avatars for unknown users and groups.", "Blur avatars for unknown users and groups.", "Blur avatars for unknown users and groups.", "Blur avatars for unknown users and groups.", "Respond to CR.", "Merge branch 'charlesmchen/blurUnknownContactAvatars2'", "Add \"unknown thread warnings.\"", "Add \"unknown thread warnings.\"", "Add \"unknown thread warnings.\"", "Respond to CR.", "Merge branch 'charlesmchen/unknownThreadWarning'", "Rework wallpaper blur.", "Rework wallpaper blur.", "Rework wallpaper blur.", "Rework wallpaper blur.", "Rework wallpaper blur.", "Rework wallpaper blur.", "Respond to CR.", "Merge branch 'charlesmchen/cvcBlurV2'", "Fix manual layout glitches.", "Merge branch 'charlesmchen/manualLayoutFixes'", "Manual layout: contact shares.", "Merge branch 'charlesmchen/manualLayoutContactShare'", "Manual layout: Typing indicators.", "Merge branch 'charlesmchen/manualLayoutTypingIndicator'", "Manual layout: quoted replies.", "Manual layout: quoted replies.", "Merge branch 'charlesmchen/manualLayoutQuotedReply'", "Manual layout: Link Previews.", "Manual layout: Link Previews.", "Manual layout: Link Previews.", "Manual layout: Link Previews.", "Manual layout: Link Previews.", "Merge branch 'charlesmchen/manualLayoutLinkPreviews'", "\"Bump build to 5.11.0.8.\" (Internal)", "Update log chatter feature flags.", "Fix media presentation animations.", "Merge branch 'charlesmchen/fixMediaPresentAnimations'", "Rework data detection in body text component.", "Rework data detection in body text component.", "Merge branch 'charlesmchen/dataDetection'", "\"Bump build to 5.11.0.9.\" (Internal)", "\"Bump build to 5.11.0.10.\" (Internal)", "Add background container.", "Add background container.", "Merge branch 'charlesmchen/backgroundContainer'", "Fix mock conversation in preview views.", "Dim if necessary in wallpaper previews.", "Fix blur button in wallpaper preview view.", "Fix layout of quoted replies with \"remote source\" warnings.", "Fix layout glitches in quoted replies.", "Fix glitch in swipe-to-reply animation.", "Fix broken test.", "Merge branch 'charlesmchen/fixes'", "Fix search crash", "Sync translations", "\"Feature flags for .beta.\"", "\"Bump build to 5.11.0.11.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.11.0.12.\" (Internal)", "Fix search crash", "Sync translations", "\"Feature flags for .beta.\"", "\"Bump build to 5.11.0.13.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.11.0.14.\" (Internal)", "Disable warnings", "\"Bump build to 5.11.0.15.\" (Internal)", "Don't blur default group avatars.", "Fix cancel button in link previews, fix missing \"loading\" indicator for link previews.", "Handle edge cases around using LinkPreviewView within iOS auto layout.", "Fix link preview corner rounding is compose view.", "Fix edge cases around system message reuse.", "Fix edge cases around system message reuse.", "\"Bump build to 5.11.0.16.\" (Internal)", "\"Bump build to 5.11.0.16.\" (Internal)", "Merge branch 'charlesmchen/fixes2'", "\"Feature flags for .beta.\"", "\"Bump build to 5.11.0.17.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.11.0.18.\" (Internal)", "Update to RingRTC v2.9.6", "Possibly fix media gallery crash.", "PR Feedback", "Merge branch 'charlesmchen/mediaGalleryCrash'", "Update release notes", "Sync translations", "\"Feature flags for .beta.\"", "\"Bump build to 5.11.0.19.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.11.0.20.\" (Internal)", "Fix mailto links; improve data detection link handling.", "Add background to system messages during message actions.", "Always truncate tail in link preview view.", "Fix blur backgrounds in wallpaper previews; fix blur backgrounds for sold backgrounds.", "Fix blur backgrounds in wallpaper previews.", "Fix blur backgrounds in wallpaper previews.", "Fix thread details avatar in \"note to self\" thread.", "Merge branch 'charlesmchen/dataDetection2'", "Don't dismiss \"low trust warning\" interactions when user taps to reveal blurred avatars.", "Don't dismiss \"low trust warning\" interactions when user taps to reveal blurred avatars.", "Merge branch 'charlesmchen/lowTrustWarnings'", "Animate changes to wallpaper blur mask.", "Animate changes to wallpaper blur mask.", "Merge branch 'charlesmchen/blurMaskAnimations'", "\"Bump build to 5.11.0.21.\" (Internal)", "\"Bump build to 5.11.0.22.\" (Internal)", "Stabilize ordering of emoji reactions.", "Respond to CR.", "Merge branch 'charlesmchen/emojiReactionOrder'", "Rework cvc wallpaper blur again.", "Rework cvc wallpaper blur again.", "Rework cvc wallpaper blur again.", "Rework cvc wallpaper blur again.", "Rework cvc wallpaper blur again.", "Rework cvc wallpaper blur again.", "Rework cvc wallpaper blur again.", "Merge branch 'charlesmchen/blurV3'", "\"Bump build to 5.11.0.23.\" (Internal)", "Refine low trust warnings.", "Refine low trust warnings.", "Merge branch 'charlesmchen/lowTrustRefinements'", "Respond to CR.", "\"Bump build to 5.11.0.24.\" (Internal)", "Improve perf around link preview images.", "Load images for link previews async.", "Cache imagePixelSize.", "Merge branch 'charlesmchen/linkPreviewImagePerf' into release/5.11.0", "Remove remaining constraints in cvc cells.", "Merge branch 'charlesmchen/manualLayoutRemoveConstraints' into release/5.11.0", "\"Bump build to 5.11.0.25.\" (Internal)", "Fix ManualStackView for RTL", "Change media thumbnail size.", "Merge branch 'charlesmchen/thumbnailQualityShortTerm' into release/5.11.0", "Fix date header backgrounds in wallpaper previews.", "Fix system message button margins.", "Merge branch 'charlesmchen/fixes2021.4.30' into release/5.11.0", "Fix iOS 12 calling crash", "Sync translations", "Fix layout glitch in quoted replies.", "Add checks around layout glitches.", "Add checks around layout glitches.", "Merge branch 'charlesmchen/quotedReplyLayoutGlitch' into release/5.11.0", "Fix swipe-to-reply transform", "\"Feature flags for .production.\"", "\"Bump build to 5.11.0.26.\""]}, {"tag_start": "5.9.0.49", "tag_end": "5.10.0.49", "commits": ["Streaming encryption and decryption of attachments", "Perf improvements for CVC rendering\n\nFixes some low-hanging expensive renders in CVC. Namely:\n- There are a few places where shadow paths can be trivially calculated.\n  Explicitly setting the shadow path saves an offscreen pass.\n- Adopts CALayer corner masking where feasible (e.g. layers with\n  consistent corner radii).", "Merge branch 'mlin/PR/RenderOptimizations'", "Call UIApplicationMain() outside of autoreleasepool\n\nSince UIApplicationMain() never returns, it'll prevent its containing\nautoreleasepool from draining. This could in leaked objects that are\nnever released.\n\nThis isn't terribly necessary, since we don't have any leaked\nautoreleased objects from our pre-UIAppMain setup. But if that ever\nchanges, this will prevent us from inadvertently leaking memory.", "Merge branch 'mlin/PR/UIAppMainPoolFix'", "Initial conversation settings re-arranngement", "Add all media section to chat settings", "Add TSGroupMember table to allow performant querying of group membership", "Fix pending group request icons", "Add groups in common to chat settings", "Only show 'see all' for group member list when at least 2 more rows to show", "Add chat settings top buttons", "Disable call buttons when a call is in progress", "PR Feedback", "Merge branch 'nt/conversation-settings-overhaul'", "Fix sticker tests", "Merge branch 'release/5.9.0'", "\"Feature flags for .qa.\"", "\"Bump build to 5.9.0.44.\" (Internal)", "\"Bump build to 5.10.0.0.\" (Internal)", "\"Bump build to 5.10.0.1.\" (Internal)", "\"Bump build to 5.10.0.2.\" (Internal)", "Don't index most models for the local user.", "Merge branch 'charlesmchen/indexLocalUser'", "Update l10n strings.", "Update l10n strings.", "\"Feature flags for .beta.\"", "\"Bump build to 5.10.0.3.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.10.0.4.\" (Internal)", "Merge branch 'release/5.9.0'", "\"Bump build to 5.10.0.5.\" (Internal)", "\"Bump build to 5.10.0.6.\" (Internal)", "Show error when you try and share too many photos", "Fix attachment progress for parallel uploads", "Fix presentation of conversation search", "Fix collation color", "Animate show all group members", "Animate see all groups in common", "Improve presentation perf of Add to Group VC", "Fix 'see all' animations", "Merge branch 'nt/little-fixes118'", "\"Bump build to 5.10.0.7.\" (Internal)", "\"Bump build to 5.10.0.8.\" (Internal)", "Use new build system", "add release lane to fastfile", "Merge branch 'nt/build-machine'", "\"Bump build to 5.10.0.9.\" (Internal)", "\"Bump build to 5.10.0.10.\" (Internal)", "\"Bump build to 5.10.0.11.\" (Internal)", "\"Bump build to 5.10.0.12.\" (Internal)", "\"Bump build to 5.10.0.13.\" (Internal)", "\"Bump build to 5.10.0.14.\" (Internal)", "\"Bump build to 5.10.0.15.\" (Internal)", "\"Bump build to 5.10.0.16.\" (Internal)", "\"Bump build to 5.10.0.17.\" (Internal)", "\"Bump build to 5.10.0.18.\" (Internal)", "Merge branch 'release/5.9.0'", "Update l10n strings.", "Sync translations", "Lock around 'upload to testflight' operation", "Small design tweaks to 'all media' section", "Small tweaks to chat settings header", "Add title to unmute action sheet", "Sync translations", "\"Feature flags for .beta.\"", "\"Bump build to 5.10.0.19.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.10.0.20.\" (Internal)", "Specify ipa path for ASC upload", "\"Feature flags for .beta.\"", "\"Bump build to 5.10.0.21.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.10.0.22.\" (Internal)", "Update SignalCoreKit", "\"Feature flags for .beta.\"", "\"Bump build to 5.10.0.23.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.10.0.24.\" (Internal)", "Remove blocking view", "\"Feature flags for .beta.\"", "\"Bump build to 5.10.0.25.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.10.0.26.\" (Internal)", "Fix build", "\"Feature flags for .beta.\"", "\"Bump build to 5.10.0.27.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.10.0.28.\" (Internal)", "Fix private pods setup", "\"Feature flags for .beta.\"", "\"Bump build to 5.10.0.29.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.10.0.30.\" (Internal)", "\"Bump build to 5.10.0.35.\" (Internal)", "\"Bump build to 5.10.0.36.\" (Internal)", "\"Bump build to 5.10.0.37.\" (Internal)", "\"Bump build to 5.10.0.38.\" (Internal)", "Rebuild Cocoapods.", "Update changelog for 5.10", "Revert \"Rebuild Cocoapods.\"\n\nThis reverts commit f06a21d28c26d4f6802959df783881d8230653a4.", "Revert Pod changes.", "\"Bump build to 5.10.0.39.\" (Internal)", "Revert Pod changes.", "\"Bump build to 5.10.0.40.\" (Internal)", "\"Bump build to 5.10.0.41.\" (Internal)", "\"Bump build to 5.10.0.42.\" (Internal)", "Don't build for armv7", "Ignore more tags in RI", "\"Bump build to 5.10.0.43.\" (Internal)", "Payments: design tweaks.", "Merge branch 'charlesmchen/payments146' into release/5.10.0", "\"Bump build to 5.10.0.44.\" (Internal)", "\"Bump build to 5.10.0.45.\" (Internal)", "Make ConversationHeaderBuilder reusable", "Consolidate interactive sheet logic", "Redesigned member action sheet", "Re-style group attributes view", "Fix search bar insets", "Add open settings accessibility label", "Disable new build system", "Merge branch 'nt/member-action-redesign' into release/5.10.0", "Sync translations", "\"Feature flags for .beta.\"", "\"Bump build to 5.10.0.46.\"", "Design feedback for member action sheet", "Sync translations", "\"Bump build to 5.10.0.47.\"", "Add color behind handle", "Sync translations", "\"Bump build to 5.10.0.48.\"", "Flag corrupt databases as such.", "Fix app settings theme change", "Sync translations", "Manage app store metadata with transifex", "\"Feature flags for .production.\"", "\"Bump build to 5.10.0.49.\""]}, {"tag_start": "2.2", "tag_end": "5.9.0.49", "commits": ["Merge branch 'mkirk/yap-circular-dependency'", "Use records for grdb cursors.", "Use GRDB records for anyInsert() & anyUpdate(). Remove anySave(). Add handling of GRDB ids.", "Generated changes for last commit.", "Clean up ahead of PR.", "Respond to CR.", "Respond to CR (code generated changes).", "Respond to CR.", "Respond to CR.", "Streamline SDS extensions.", "Streamline SDS extensions (code generated changes).", "Fix rebase breakage.", "Update Cocoapods.", "Merge branch 'charlesmchen/leverageRecords2_'", "fix message sending", "Merge branch 'mkirk/fix-message-send'", "Remove test stickers.", "Merge branch 'charlesmchen/removeTestStickers' into release/2.40.0", "Rework input toolbar layout.", "remove compiler warning: 'public' modifier is redundant for instance method declared in a public extension", "apply typed protocol contexts", "Merge branch 'mkirk/context-check'", "mark enum as closed", "handle non-closed error enum\n\n(there's no way to have a closed error enum AFAICT)", "remove conversion which never fails", "use modern Hashable function", "avoid \"missing module\" warning", "avoid deprecated method", "remove redundant signature", "method for testing only exists in iOS10+", "fixup availability warnings", "fix compiler warning: never mutated", "remove `try` from methods which no longer throw", "mark var as unused", "fix compiler warning: redundant declation was not synthesizing variables", "fix compiler warning - these type casts cannot fail", "Merge branch 'mkirk/compiler-warnings-1'", "notification threading", "fix compiler warning", "Merge branch 'mkirk/notification-threading'", "Add VolumeButtons class", "Cleanup animations on camera record button to better indicate state to the user", "Hook into volume button handling for camera controls", "Fix a bug with capture feedback when using volume buttons", "Add GRDBKeyValueStoreMigrator.", "Add GRDBKeyValueStoreMigrator.", "Migrate more key value stores.", "Respond to CR.", "Merge branch 'charlesmchen/keyValueMigrations'", "Fix group thread update.", "Merge branch 'charlesmchen/fixGroupThreadUpdate'", "Only \"update with\".", "Merge branch 'charlesmchen/onlyUpdateWith'", "Convert ExperienceUpgrade to Obj-C.", "Update experience finder usage to use any transactions.", "Merge branch 'charlesmchen/sdsVsExperienceUpgrade'", "Respond to CR.", "Merge branch 'charlesmchen/reworkInputToolbarLayout' into release/2.40.0", "Sticker design tweaks.", "Sticker design tweaks.", "Move \"recent stickers\" button into sticker pack list.", "Add selected state to sticker keyboard.", "Respond to CR.", "Merge branch 'charlesmchen/stickerDesignTweaks' into release/2.40.0", "PR Feedback", "Proceed when capture succeeds", "Merge branch 'mkirk/not-an-error-error' into release/2.40.0", "More sticker design tweaks.", "More sticker design tweaks.", "Respond to CR.", "Merge branch 'charlesmchen/stickerDesignTweaks2' into release/2.40.0", "Use PNG instead of JPEG for sticker pack link preview thumbnails, to preserve transparency.", "Use PNG instead of JPEG for sticker pack link preview thumbnails, to preserve transparency.", "Respond to CR.", "Merge branch 'charlesmchen/stickerPackLinkPreviewThumbnails' into release/2.40.0", "Merge branch 'nt/volume-button-shutter-controls'", "less verbose logging since we now call this very rapidly", "Merge branch 'mkirk/less-logging' into release/2.40.0", "Update color palette.", "Merge branch 'charlesmchen/updateColorPalette' into release/2.40.0", "\"Bump build to 2.40.0.12.\"", "Scroll to default position when opening a conversation in compose mode.", "Merge branch 'nt/scroll-fix'", "Move ExperienceUpgrade to SSK, create ExperienceUpgrade table.", "Update Cocoapods.", "Merge branch 'charlesmchen/experienceUpgradeCreateTable'", "Ensure webp thumbnails use cache.", "Ensure webp thumbnails use cache.", "Merge branch 'charlesmchen/webpVsThumbnails' into release/2.40.0", "Tweak background of sticker pack view.", "Merge remote-tracking branch 'private/release/2.40.0'", "Merge branch 'charlesmchen/stickerPackViewBackground' into release/2.40.0", "Avoid deadlock when sending sync messages.", "Merge branch 'charlesmchen/syncMessageDeadlock' into release/2.40.0", "Fix sticker sync issues.", "Merge branch 'charlesmchen/stickerSyncFixes' into release/2.40.0", "Merge remote-tracking branch 'private/release/2.40.0'", "Revert \"Protocol stores use strongly typed signatures\"\n\nThis reverts commit 6ac993301988e33f88152d3fdba384626338a46f.", "Revert \"Deprecate untyped protocol store methods\"\n\nThis reverts commit 17da5bb0fecd0a85daeb3dcece4406d404f4c20f.", "Merge remote-tracking branch 'private/release/2.40.0'", "Fix test breakage.", "Fix crash with old empty threads creationDate is nullable\n\ncreationDate didn't always exist - we added it and did not backfill it. We\ncould backfill with a made up date, e.g. [NSDate\ndateWithTimeIntervalSince1970:0], but I'm wary of putting surprising bogus data\nin the db. Instead I've using an old date during sorting where it's not\nsurprising.", "regen code", "Merge branch 'mkirk/fix-crash-with-old-threads' into release/2.40.0", "Fix layout animations in conversation input toolbar.", "Fix layout animations in conversation input toolbar.", "Fix layout animations in conversation input toolbar.", "Merge branch 'charlesmchen/inputToolbarLayoutAnimations' into release/2.40.0", "\"Bump build to 2.40.0.13.\"", "remove unused upgrade mode", "fix spurious \"you will lose changes\" alert", "Merge branch 'mkirk/spurious-dirty'", "Skip invite actionsheet when only once choice\n\nIf the user's device only supports one of the invite flow choices,\njust skip to that choice.", "extract dismiss action", "fix retain cycle", "Merge branch 'mkirk/skip-unnecessary-actionsheet'", "Expire the app 90 days after compilation.", "PR Feedback", "Merge branch 'nt/app-expiration'", "Simple send sans Yap", "Merge branch 'mkirk/sending'", "Tweak sticker keyboard height.", "Fix sticker keyboard edges cases around first responder.", "Respond to CR.", "Merge branch 'charlesmchen/stickerUIFixes' into release/2.40.0", "Add protocol version to proto schema.", "Reject messages of unknown protocol version.", "Add OWSUnknownProtocolVersionMessage.", "Handle unknown enum values.", "Reject messages of unknown protocol version.", "Reject messages of unknown protocol version.", "Render \"unknown protocol version\" error messages.", "Render \"unknown protocol version\" error messages.", "Render \"unknown protocol version\" error messages.", "Update to reflect design changes.", "Update Cocapods.", "Merge branch 'charlesmchen/protoSchemaUnknown2' into release/2.40.0", "Merge remote-tracking branch 'private/release/2.40.0'", "Update Cocoapods.", "Remove @required from proto enums.", "Remove @required from proto enums.", "Add \"required\" getter for optional enums.", "Add \"required\" getter for optional enums.", "Add \"required\" getter for optional enums.", "Add \"required\" getter for optional enums.", "Respond to CR.", "Merge branch 'charlesmchen/unknownProtoEnums'", "Remove \"ephemeral media\" model changes.", "Update Cocoapods.", "Merge branch 'charlesmchen/perMessageTimerModels'", "Remove temporary changes in SDS code generation.", "log on dismiss", "Merge branch 'mkirk/log-on-dismiss' into release/2.40.0", "Sticker Keyboard paging.", "PR Feedback", "Merge branch 'nt/sticker-paging'", "increment extension version if unavailable", "Merge branch 'mkirk/ensure-db-extensions' into release/2.40.0", "Clean up ahead of PR.", "Respond to CR.", "Merge branch 'charlesmchen/protoSchemaUnknown2_b' into release/2.40.0", "\"Bump build to 2.40.0.14.\"", "Revise preview text for sticker messages.", "Allow repicking from giphy approval", "Don't show \"Add More\" for gif picker", "show \"Back\" text on button", "dont pop keyboard when returning", "don't mask behind search bar", "Don't allow selection of undownloaded images", "Merge branch 'mkirk/giphy-back'", "Merge branch 'charlesmchen/stickerPreviewText' into release/2.40.0", "Fix dark theme selection in sticker keyboard pack list.", "Merge branch 'charlesmchen/stickerKeyboardSelectionVsDarkTheme' into release/2.40.0", "Never show the empty sticker keyboard.", "Respond to CR.", "Merge branch 'charlesmchen/noEmptyStickerKeyboard' into release/2.40.0", "proper type annotations for mantle model", "Merge branch 'mkirk/mtl-annotations'", "update pods", "Fix test breakage.", "Fix test breakage.", "Merge branch 'charlesmchen/fixTestBreakage'", "Fix sticker preview so it's not masked by your thumb", "Merge branch 'nt/sticker-tweaks'", "Fix quoted sticker thumbnails.", "Merge branch 'charlesmchen/quotedStickerThumbnails' into release/2.40.0", "Cautious database view verification on launch.", "Don't preheat database views twice.", "Merge branch 'charlesmchen/cautiousDatabaseViewVerification' into release/2.40.0", "\"Bump build to 2.40.0.15.\"", "Fix receive contact messages.", "Merge branch 'charlesmchen/fixReceiveContactMessages'", "add anyReload method to codegen scripts", "run sds_generate", "Merge branch 'mkirk/any-reload'", "convert factories to AnyWrite", "MessageSenderJobQueueTest uses AnyTransactions", "CR: constantize mimetype", "Merge branch 'mkirk/fixup-tests-7'", "add missing import to test", "Lazy download known sticker packs.", "Lazy download known sticker packs.", "Lazy download known sticker packs.", "Lazy download known sticker packs.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/lazyDownloadKnownStickerPacks' into release/2.40.0", "Cull orphan sticker packs.", "Merge branch 'charlesmchen/cullOrphanStickerPacks' into release/2.40.0", "Notify input toolbar when stickers become enabled.", "Merge branch 'charlesmchen/stickerEnabledNotification' into release/2.40.0", "update codegen: don't call block twice on same insance", "run sds_codegen", "Merge branch 'mkirk/double-update-with'", "Migrate all models.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/migrateMoreModels'", "Respond to CR.", "\"Bump build to 2.40.0.16.\"", "Update l10n strings.", "Fix build warnings.", "Add per-message expiration to models (code generated changes).\n\nAdd per-message expiration to models.\n\nDRY up incoming message creation.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/perMessageTimerModels2'", "Merge remote-tracking branch 'private/release/2.40.0'", "Simplify error handling", "show trending gifs by default", "don't clobber search results with trending", "Merge branch 'mkirk/default-giphy'", "Bump required protocol version for one-off disappearing messages.", "Don't index \"one-off disappearing messages\".", "Don't show attachments from \"one-off disappearing messages in media gallery.\"", "Merge branch 'charlesmchen/perMessageTimerModels3'", "Slightly bump up the border width of the input tool bar to improve anti-aliasing.", "Merge branch 'charlesmchen/fixBuildWarnings' into release/2.40.0", "Proceed when capture succeeds", "remove some excessive logging", "fix lost audio on longer videos", "Merge branch 'mkirk/capture-audio' into release/2.39.2", "\"Bump build to 2.39.2.0.\"", "Merge tag '2.39.2.0' into release/2.40.0", "Also cleanup borders on link previews in dark mode", "Merge branch 'nt/input-bar-antialiasing'", "Handle webp link previews", "GRDB handles message send errors", "Merge branch 'mkirk/grdb-message-send-errors'", "Merge branch 'nt/webp-link-preview-fix'", "Check image validity for all link previews", "Minor fixes.", "Merge branch 'charlesmchen/smallFixes' into release/2.40.0", "Investigate NPE in InteractionFinder.", "Investigate NPE in InteractionFinder.", "Investigate NPE in InteractionFinder.", "Update Cocoapods.", "Merge branch 'charlesmchen/investigateNPE' into release/2.40.0", "\"Bump build to 2.40.0.17.\"", "Fix typo.", "\"Bump build to 2.40.0.18.\"", "Update group create/edit flow to better indicate you can add a photo", "Merge branch 'nt/group-photo-add'", "Allow scrubbing audio messages", "Only allow the message cell's panGesture to operate horizontally.", "PR Feedback", "Only scrub audio player when the pan gesture ends", "Don't activate the volume controls while the camera is not active", "Merge branch 'nt/volume-fix' into release/2.40.0", "Merge branch 'nt/voice-memos'", "Skip invalid records in corrupt database views.", "Update Cocoapods.", "\"Bump build to 2.40.0.19.\"", "Merge branch 'charlesmchen/corruptDBViews' into release/2.40.0", "Update l10n strings.", "Disable sticker pack sharing.", "Tweak sticker share feature flag check.", "Merge branch 'nt/hide-sticker-share' into release/2.40.0", "\"Bump build to 2.40.0.20.\"", "fix overzealous assert", "Merge branch 'mkirk/fix-assert'", "Remove old UIPicker code", "higher quality images for \"documents\"", "Merge branch 'mkirk/higher-quality-doc-images'", "Merge tag '2.40.0.20'", "Add per-message expiration to models (code generated changes).\n\nAdd per-message expiration to models.\n\nDRY up incoming message creation.", "Rework the \"is this a disappear message\" accessors.", "Elaborate per-message expiration.", "Elaborate per-message expiration.", "Elaborate per-message expiration.", "Elaborate per-message expiration.", "Hide contents of messages with per-message expiration in home view, etc.", "Elaborate per-message expiration.", "Fix rebase breakage.", "Update Cocoapods.", "Merge branch 'charlesmchen/perMessageTimerModels5'", "Filter sticker pack strings for display.", "Filter sticker pack strings for display.", "Merge branch 'charlesmchen/filterStickerStrings' into release/2.40.0", "\"Bump build to 2.40.0.21.\"", "Merge remote-tracking branch 'private/release/2.40.0'", "Swipe to reply", "PR Feedback", "Add ImpactHapticFeedback helper", "Fix message cell constraints for iOS 9", "Fix a missing clamp on audio scrubber", "Merge branch 'nt/swipe-to-reply'", "animate \"cancel\" present/dismiss", "Pop keyboard and enable Cancel button when returning to homeview while searching", "prevent archiving threads behind search results", "Merge branch 'mkirk/search-controller-safe-area'", "Add RTL support to swipe to reply.", "Fix audio scrubbing for RTL", "Fix input bar placeholder for RTL languages.", "Simplified RTL handling for swipe-to-reply.", "Merge branch 'nt/swipe-to-reply'", "Accept autocorrect suggestion before sending\n\nPreviously, when we type a message in `ConversationViewController`, and then click \"Send\" when there is a pending autocorrect suggestion in the keyboard, the autocorrect suggestion is ignored. This results in messages being sent with typos. This commit accepts the autocorrect suggestion before the message is sent, emulating the behaviour in Apple Messages and Facebook Messenger.\n\nFixes #2875.\n\nSigned-off-by: Jonathan Chan <jonchanyc@outlook.com>", "\"Support\" link after repeated verification requests", "Merge branch 'mkirk/signup-support'", "Add App Store trademark credit line", "Update README.md", "Update Twitter, Github, & Travis usernames to signalapp\n\nAlso update copyright to 2018", "Fix 3844 by telling AVAudioPlayer that we REALLY, seriously intend to play this file", "Update AttachmentSchemaVersion to delete cached audio attachment durations.", "Ensure that cachedAudioDuration is only erased by main thread when upgrading attachment schema", "Remove unnecessary debug assert\n\nSee https://github.com/signalapp/Signal-iOS/issues/4108 for more info and explanation", "Creating a new Signal account using the development app\n\nI followed the instructions from `BUILDING.md` and turned off the Push Notifications. I successfully compiled the application from the latest source code and installed it on my iPhone. I was not able to setup a test account using the installed app. According to [this post](https://whispersystems.discoursehosting.net/t/trouble-using-signal-for-ios-installed-through-xcode-on-one-phone-with-signal-installed-through-app-store-on-another-phone/705/17) when the Push Notifications are turned off some steps from the setup account procedure are not executed and account creation fails. I turned the Push Notifications back on and was able to finish setting up the account. I believe the proposed note will be useful for future contributors.", "Remove some readme badges because they're inaccurate", "PR Feedback", "Revert some of the bigger README changes for now, until we can do a deeper review", "Merge branch 'nt/public-pr-cleanup'", "Fix gesture interactions for interactive pop (swipe to go back)", "Merge branch 'nt/swipe-to-go-back'", "Add PDF view.", "Add PDF view.", "Add PDF view.", "Add PDF view.", "Design tweaks for PDFViewController", "Merge branch 'nt/pdf-view'", "Split db extension registration into two phases.", "Merge branch 'charlesmchen/dbExtensionRegistrationPhases' into release/2.40.0", "Update Yapdatabase Pod.", "\"Bump build to 2.40.0.22.\"", "Ignore typing indicators when updating lastVisibleSortId", "PR Feedback", "Merge branch 'nt/typing-mark-as-read'", "Surface when you discover a friend has registered", "Merge branch 'mkirk/new-user-notification'", "move localization scripts to Scripts", "Merge branch 'mkirk/move-scripts'", "Handle unknown protocol version in sync transcripts.", "Add views to render messages with per-message expiration in conversation view.", "Add views to render messages with per-message expiration in conversation view.", "Add views to render messages with per-message expiration in conversation view.", "Add views to render messages with per-message expiration in conversation view.", "Respond to CR.", "Merge branch 'charlesmchen/perMessageTimerViews_'", "Don't change sticker packs when orientation is changing.", "Merge branch 'nt/sticker-rotation'", "Don't allow \"reply\" messages with per-message expiration.", "Add full-screen view to render messages with per-message expiration in conversation view.", "Add full-screen view to render messages with per-message expiration in conversation view.", "Add full-screen view to render messages with per-message expiration in conversation view.", "Respond to CR.", "Merge branch 'charlesmchen/perMessageTimerViews2'", "Include sender state for per-message expiration messages in group threads.", "Merge branch 'charlesmchen/perMessageTimerSenders'", "Updated swipe-to-reply animation", "Reduce touch region for audio scrubbing", "PR Feedback", "Bounce a little", "Merge branch 'nt/swipe-to-reply'", "Accept autocorrect suggestions in all the textViews that can be dismissed without the keyboard", "PR Feedback", "Merge branch 'nt/autocorrect-all-the-things'", "new user notifications are inaudible", "Merge branch 'mkirk/silent-notification'", "test v. optional proto enums", "Merge branch 'mkirk/fixup-tests-8'", "Respond to CR.", "\"Bump build to 2.41.0.0.\"", "Merge branch 'charlesmchen/unknownProtocolVersionVsSyncTranscripts' into release/2.40.0", "\"Bump build to 2.40.0.23.\"", "Merge tag '2.40.0.23'", "Fix merge breakage.", "Update proto schema for per-message expiration sync messages.", "Send per-message expiration sync messages.", "Update proto schema for per-message expiration sync messages.", "Receive per-message expiration sync messages.", "Receive per-message expiration sync messages.", "Update Cocoapods.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/perMessageTimerSync'", "Sketch out the \"tombstone\" state of messages with per-message expiration.", "Respond to CR.", "Merge branch 'charlesmchen/perMessageTimerTombstone'", "Create Debug UI messages in batches.", "Merge branch 'charlesmchen/debugMessageBatches' into release/2.40.0", "Fix breakage in tests around db extension registration.", "Merge branch 'charlesmchen/dbExtensionPhasesVsTests'", "Auto-expiration of messages with per-message expiration.", "Auto-expiration of messages with per-message expiration.", "Auto-expiration of messages with per-message expiration.", "Restore lost changes.", "Add PerMessageExpirationTest.", "Respond to CR.", "Update cocoapods.", "Merge branch 'charlesmchen/perMessageExpirationChecks'", "Don't let users view outgoing messages with per-message expiration.", "Don't let users view outgoing messages with per-message expiration.", "Don't let users view outgoing messages with per-message expiration.", "Respond to CR.", "Merge branch 'charlesmchen/perMessageExpirationVsOutgoing'", "Refine expiration logic.", "Fix bug in per-message expiration.", "Merge branch 'charlesmchen/perMessageExpirationVsOutgoing2'", "Theme cursor colors", "Put a background behind sticker suggestions to differentiate from incoming messages", "Merge branch 'nt/little-things'", "\"Bump build to 2.40.0.24.\"", "Don't show new-user notification for first time contact syncs", "Merge branch 'mkirk/fixup-new-user-notification'", "Fix an issue when swiping on failed messages", "Merge branch 'nt/swipe-to-reply'", "Fix an ocassional crash when interacting with ConversationView", "Merge branch 'nt/quick-fix'", "Clean up attachment filenames when removing renderable content.", "Merge branch 'charlesmchen/perMessageExpirationVsFilenames'", "Migrate preferences to use key-value store.", "Merge branch 'charlesmchen/migratePreferences'", "Remove camera button from album picker.", "Don't let users add more attachments in camera flow.", "Rework camera flow for one-off disappearing messages.", "Remove sendingMediaWithOversizeText feature flag.", "Fix edge cases in attachment approval toolbar layout.", "Fix edge cases in attachment approval toolbar layout.", "Rework camera flow for one-off disappearing messages.", "Respond to CR.", "Fix rebase breakage.", "Merge branch 'charlesmchen/perMessageExpirationAttachmentFlow'", "remove unused code", "rename for clarity", "Request preauth push challenge during registration", "Merge branch 'mkirk/push-challenge'", "Be more robust to corrupt db views in production.", "Be more robust to corrupt db views in production.", "Log stack trace on missing db extension.", "Update Cocoapods.", "Merge branch 'charlesmchen/moreCorruptViews' into release/2.40.0", "\"Bump build to 2.40.0.25.\"", "Enable strict loading of db extensions.", "\"Bump build to 2.40.0.26.\"", "handle captcha response", "Merge branch 'mkirk/handle-captcha'", "Add feature flag around per-message expiration.", "Respond to CR.", "Merge branch 'charlesmchen/perMessageExpirationFeatureFlag'", "Merge remote-tracking branch 'private/release/2.40.0'", "Add support for camel case conversion from upper and lower snake case", "KBS Protos", "Consolidate Remote Attestation logic", "PR Feedback", "Merge branch 'nt/registration-lock-v2'", "Migrate more key-value stores.", "Migrate more key-value stores.", "Respond to CR.", "Merge branch 'charlesmchen/moreKeyValueStores'", "Migrate more key-value stores.", "Migrate more key-value stores.", "Migrate more key-value stores.", "Add anyCount() method to SDS extensions.", "Migrate more key-value stores.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/moreKeyValueStores2'", "Fix loss of precision compiler warnings", "explicitly ignore new action", "adapt to new nullability annotation", "Merge branch 'mkirk/fix-warnings'", "Apply design revisions for per-message expiration.", "Apply design revisions for per-message expiration.", "Apply design revisions for per-message expiration.", "Apply design revisions for per-message expiration.", "Apply design revisions for per-message expiration.", "\"Bump build to 2.41.0.1.\"", "Merge branch 'charlesmchen/perMessageExpirationDesignRevisions'", "Update copy.", "Properly layout conversation title view on iOS 13", "Don't cut off the top of iOS 13's new contacts view", "Temporary work around for video calls on iOS 13", "Update TODOs to make them easier to find later", "Allow calls to be started from the Contacts app on iOS 13", "Merge branch 'nt/ios-13'", "Update WebRTC to M75", "Merge branch 'mkirk/webrtc-m75'", "KeyBackupService", "allow enabling / disabling reg lock v2 + verifying pin", "Backup keys after a restore to reset KBS tries", "A bit of KBS cleanup", "enclaveId -> enclaveName, verify mrenclave", "PR Feedback", "Further PR feedback", "Allow registration with v2 lock", "Registration lock v2 migration", "Turn of registration lock v2 for now, the KBS server isn't quite ready", "PR Feedback", "PR Feedback", "Update pods", "Merge branch 'nt/registration-lock-v2-2'", "fixup tests", "Merge branch 'mkirk/fixup-tests-9'", "SignalServiceAddress", "example gradual application of SignalServiceAddress", "Merge branch 'mkirk/address'", "Fix a potential issue when disabling reg lock", "Fix accidental WebRTC rollback", "Merge branch 'nt/reg-lock-fix'", "Rename anyVisitAll() to anyEnumerate(); use stop.", "Respond to CR.", "Merge branch 'charlesmchen/anyEnumerate'", "Migrate backup key store.", "Merge branch 'charlesmchen/migrateBackupKeyStore2'", "Relax checks around corrupt db views.", "Merge branch 'charlesmchen/corruptYdbViews' into release/2.40.0", "\"Bump build to 2.40.0.27.\"", "Merge remote-tracking branch 'private/release/2.40.0'", "\"Bump build to 2.40.1.0.\"", "Revert \"Enable strict loading of db extensions.\"\n\nThis reverts commit 559522df9eb5b5b7f6150a54c0fbfc3447025a50.", "\"Bump build to 2.40.1.1.\"", "Apply strict ydb extension flag to ydb enumeration.", "Merge branch 'charlesmchen/strictYdbEnumeration' into release/2.40.1", "Add onlyModernNotificationClearance feature flag.", "Add onlyModernNotificationClearance feature flag.", "Merge branch 'charlesmchen/onlyModernNotificationClearance' into release/2.40.1", "See isBetaBuild flag.", "\"Bump build to 2.40.1.2.\"", "fix avatar downloads", "rebuild WebRTC M75 w/ iOS9 support", "update WebRTC commit in plist", "Eagerly clean up group avatar updates.", "Merge branch 'mkirk/fix-avatar-downloads' into release/2.40.1", "Revert \"See isBetaBuild flag.\"\n\nThis reverts commit f93f8ff959704d915cd2ad59a098d00c60633c91.", "\"Bump build to 2.40.1.3.\"", "Set isBetaBuild flag.", "\"Bump build to 2.40.1.4.\"", "Merge remote-tracking branch 'private/release/2.40.1'", "Avoid GRDB insertion errors.", "Merge branch 'charlesmchen/grdbInsertion'", "Fix GRDB watchdog crash on SnapshotObserver updates\n\nOur snapshot observers manage state, which must happen on our observer (serial) DispatchQueue.\nSome of our snapshot observers read from the database - reading from the db must be done on the db DispatchQueue.\n\nEven though the behavior is correct - we have the common issue of nested\nDispatchQueues, wherein while on the inner one, we can no longer verify we are\nstill on the outer one.\n\nSo instead, we implement snapshot data mgmt using objc_sync rather than a DispatchQueue.", "Make isOnUIDatabaseObserverSerialQueue access thread-safe.", "Merge branch 'mkirk/watchdog-vs-ui-updates'", "rename source -> sourceE164 in proto", "adapt to rename source -> sourceE164", "add sourceUuid to protos", "Integration test for message processing.\n\nTests from `receivedEnvelopeData`, which is called by e.g. the websocket or the\nmessageFetcherJob through the message processing pipeline until the UIDatabase\nis notified with the new message and thread.\n\nIncludes some test helpers to initialize sessions and encrypt/decrypt messages.", "TSAccountManager holds uuid and red test for UUID work", "Merge branch 'mkirk/stub-uuid-receive'", "fixup Pods", "Only escape % signs in notifications on iOS 9\n\niOS 10+ uses UNUserNotifications, which doesn't require escaping\n\nFixes: #4195", "CR: clarify comment", "Merge branch 'mkirk/issue-4195'\n\nFixes: #4195\nCloses: #4212", "Update Cocoapods.", "Add will/did...save/remove methods to models.", "Respond to CR.", "Merge branch 'charlesmchen/willDidSaveRemove'", "Convert attachments to be any-only.", "Convert attachments to be any-only - code generated changes.", "Respond to CR.", "First of many fixes for attachment sending.", "Merge branch 'charlesmchen/noYdbAttachments'", "\"Bump build to 2.41.0.2.\"", "Add support for phone number + UUID to SignalAccount", "SignalAccount sds-codegen", "Add UUID support to Contacts Manager", "Add some temporary helpers for generating an address from a phone number", "Update callsites to use new contacts manager address interface", "Fix test", "SignalServiceAddress can hold UUID and phone number", "AnySignalAccountFinder", "PR Feedback", "PR Feedback", "Merge branch 'nt-contact-manager-uuids'", "Add BaseModel.", "Migrate OWSDisappearingMessagesConfiguration to any.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/noSmallModels_'", "Convert sticker models to any models.", "Merge branch 'charlesmchen/moreAnyModels'", "Convert message sending to use any transactions.", "Convert message sending to use any transactions (code generated changes).", "Add \"anyCanBeSaved\" flag.", "Respond to CR.", "Merge branch 'charlesmchen/anySends2'", "Fix issues in grdb migration work.", "Respond to CR.", "Merge branch 'charlesmchen/fixStorageIssues'", "Convert SignalAccount to extend BaseModel.", "Convert OWSLinkedDeviceReadReceipt to extend BaseModel.", "Convert TSRecipientReadReceipt to extend BaseModel.", "Respond to CR.", "Merge branch 'charlesmchen/noSmallModels2'", "Convert ExperienceUpgrade to extend BaseModel.", "Convert OWSUnknownDBObject to extend BaseModel.", "Convert OWSRecipientIdentity to extend BaseModel.", "Respond to CR.", "Merge branch 'charlesmchen/noSmallModels3'", "Fix anyCanBeSaved property.", "no need to ignore computed property which no longer exists", "Merge branch 'mkirk/ignore-new-property'", "This method is no longer available. Since we clear our db between tests, it's no longer necessary.", "Merge branch 'mkirk/fixup-tests-10'", "fix UUID getter on TSAccountManager", "Merge branch 'mkirk/fix-account-manager-uuid'", "fixup address comparison with nil uuid", "Merge branch 'mkirk/fix-local-compare'", "fix debug registration against prod", "Merge branch 'mkirk/fix-debug-registration'", "codegen", "Convert Recipient and SessionStore to SignalServiceAddress", "Merge branch 'mkirk/uuid-message-processing'", "work around other work around", "fix overzealous assert in tests", "Merge branch 'mkirk/fixup-tests-12'", "mark as deprecated", "Merge branch 'mkirk/deprecate-ows_auto'", "fixup tests", "upate pods", "Interact with cloudfront directly for iOS 13", "Pin to cloudfront leaf", "Merge branch 'nt/ios-13-ssl' into release/2.40.2", "ssl errors are not retryable", "Merge branch 'mkirk/fail-fast-ssl' into release/2.40.2", "Fix sealed sender indicators toggle on iOS 13", "Merge branch 'nt/ios-13-2' into release/2.40.2", "Properly layout conversation title view on iOS 13", "Don't cut off the top of iOS 13's new contacts view", "Temporary work around for video calls on iOS 13", "Update TODOs to make them easier to find later", "Allow calls to be started from the Contacts app on iOS 13", "Merge branch 'nt/ios-13-3' into release/2.40.2", "Migrate TSContactThread to support UUIDs", "Add shared YAP extension for SignalServiceAddress lookup", "PR Feedback", "Merge branch 'nt/uuid'", "codegen new IncomingMessage properties", "Incoming message has authorAddress", "Merge branch 'mkirk/uuid-message-processing-2-pr'", "\"Bump build to 2.40.2.0.\"", "Add accessibility ids to sticker pack view.", "Add accessibility ids to sticker keyboard.", "Add accessibility ids to call view.", "Add accessibility ids to conversation view cells.", "Add accessibility ids to conversation view cells.", "Add accessibility ids to conversation view cells.", "Fix assert in conversation view item.", "Merge branch 'charlesmchen/accessibilityIds062019'", "Revert \"Merge branch 'mkirk/stub-uuid-receive'\"\n\nThis reverts commit 4ba65bc7eaf681c117213a2d99b5aec22ded93d8, reversing\nchanges made to 70d97e11c56ff2a4d78a286afa5f3697274a961b.", "Merge remote-tracking branch 'private/release/2.40.2' into release/2.41.0", "Add accessibility ids to sticker pack view.", "Add accessibility ids to sticker keyboard.", "Add accessibility ids to call view.", "Add accessibility ids to conversation view cells.", "Add accessibility ids to conversation view cells.", "Add accessibility ids to conversation view cells.", "Fix assert in conversation view item.", "Merge branch 'nancy_rebase' into release/2.41.0", "Disable YDB for release branch.", "Fix build breakage.", "\"Bump build to 2.41.0.3.\"", "fix debug registration against prod", "Enable sending disappearing photos in non-production builds.", "\"Bump build to 2.41.0.4.\"", "Create UUID message in DebugUI, rendering in homeview\n\nContactAvatarBuilder works with SignalServiceAddress\n\nCurrently this only functions with the GRDB adapter. There are other asserts\ntriggered in yap extensions.", "Merge branch 'mkirk/debug-uuid'", "convert OWSDevice to BaseModel", "convert SSKJobRecord to BaseModel", "Convert OWSBackupFragment to BaseModel", "add flag to run RI check off master", "add to tags to ignore", "Merge branch 'mkirk/ri_check' into release/2.41.0", "\"Bump build to 2.41.0.5.\"", "Let users quote-reply to messages with per-message expiration, but without renderable content.", "Let users quote-reply to messages with per-message expiration, but without renderable content.", "Merge branch 'charlesmchen/quoteOneOfDms' into release/2.41.0", "Omit all renderable content from sync transcripts for one-off DMs.", "Merge branch 'charlesmchen/oneOffDMsVsTranscripts' into release/2.41.0", "\"Bump build to 2.41.0.6.\"", "Merge branch 'mkirk/convert-models'", "Migrate profiles to support UUIDs", "OWSProfileManager generated changes", "Migrate UDManager to support UUIDs", "Update protos for blocked sync message", "Add UUID support to block manager", "PR Feedback", "Fix tests", "Fix some typos", "Merge branch 'nt/uuid-2'", "Attachment restore uses AnyTransaction", "Merge branch 'mkirk/fixup-attachment-restore'", "fix overzealous assert", "Merge branch 'mkirk/fixup-profile-manager'", "Update protos", "Add UUID support to read receipts", "Allow viewing UUID thread", "PR Feedback", "Merge branch 'nt/uuid-3'", "Fix localAddress for unregistered case", "Fix TSIncomingMessage schema handling", "Merge branch 'nt/uuid-fix'", "sds_generate understands int64_t", "codegen", "grdb compat for touching interactions and threads", "Merge branch 'mkirk/any-touch'", "move more logic into accountManager", "store uuid during registration", "Merge branch 'mkirk/uuid-registration'", "fixup account manager tests", "fixup broken attachments test", "fixup account manager test", "Merge branch 'mkirk/fixup-tests-13'", "Convert message receiver to any.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/anyDecryption'", "Proto updates", "Implement NSCoding for SignalServiceAddress", "SDS Codegen", "Migrate AccountIdFinder to use SignalRecipient uniqueId", "Migrate IdentityManager and associated models to support UUIDs", "PR Feedback", "Merge branch 'nt/uuid-4'", "update debug log links", "take advantage of existing write transactions to ensure accountId is set.", "fixup ud manager coalescing", "Merge branch 'mkirk/uuid-fixups'", "legacy users record their uuid", "only ensure uuid if user has completed registration", "Merge branch 'mkirk/uuid-migrate'", "Revert \"Merge branch 'nt/ios-13-ssl' into release/2.40.2\"\n\nThis reverts commit 81c8bcb48d6a566038182e4586d6adef802bd735, reversing\nchanges made to 0f1924cdb4cbdfcb34cd724e7b71b4e9d5a3f099.", "check blocked recipients earlier and redundantly", "Merge branch 'mkirk/blocked-ud' into release/2.40.3", "\"Bump build to 2.40.3.0.\"", "Revert \"Revert \"Merge branch 'nt/ios-13-ssl' into release/2.40.2\"\"\n\nThis reverts commit 4cda654fd08e47be12db62fdea52c4c57af25217.", "\"Bump build to 2.40.4.0.\"", "Only still images can have per-message expiration.", "Allow multi-send from camera; allow per-message expiration from camera roll.", "Don't dismiss per-message expiration view if per-message expiration occurs; don't show progress.", "fix thread sorting", "Merge branch 'mkirk/fix-grdb-sorting'", "Let senders tap on outgoing messages with per-message expiration (until countdown completes).  Countdown starts when message is sent (not sending, failed).", "Clean up ahead of PR.", "Finish up UUID safety number support", "Always use UUIDs for modern safety numbers, bump fingerprint version.", "Fix tests", "PR Feedback", "Merge branch 'nt/uuid-5'", "Update protos for group UUID membership", "Add UUID support to groups", "Maintain a SignalServiceAddress cache to allow for isEqual implementation", "Fix Receive UUID message debug to not populate phone number", "PR Feedback", "Update SignalServiceAddress hashing scheme to be reliably backed even as addresses become more complete.", "PR Feedback", "Merge branch 'nt/uuid-6'", "Update some misc stuff to use SignalServiceAddress", "Generate proto address accessors", "protos", "Update quoted messages, per message expiration, and sync transcripts", "Sync attachment completion.", "Merge remote-tracking branch 'origin/charlesmchen/attachmentSync' into release/2.40.3", "\"Bump build to 2.40.3.1.\"", "Merge tag '2.40.3.1' into release/2.40.4", "\"Bump build to 2.40.4.1.\"", "SDS codegen", "PR Feedback", "Merge branch 'nt/uuid-7'", "codegen", "DeliveryStateMap vs. Address", "Merge branch 'mkirk/delivery-state-map'", "Add missing implementations, add error flag", "Merge branch 'mkirk/missing-implementations'", "Address support for calling", "Merge branch 'nt/uuid'", "fix profile whitelist", "Merge branch 'mkirk/fix-profile-whitelist'", "Fix wrong type, add compiler error flag", "Merge branch 'mkirk/wrong-types'", "MessageSend vs. SignalServiceAddress", "unify TODO convention", "use centralized serviceIdentifier logic for API", "show uuid in debug builds", "Merge branch 'mkirk/uuid-message-send'", "Auth requests using UUID", "Enable UUID only contacts for debug builds pointed at staging", "Merge branch 'origin/nt/uuid'", "Use anyCanBeSaved.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/anyCanBeSaved'", "Merge branch 'charlesmchen/perMessageExpirationChanges' into release/2.41.0", "Enable per-message expiration.", "\"Bump build to 2.41.0.7.\"", "Revert \"Enable per-message expiration.\"\n\nThis reverts commit 37db0230b81b9abbc0e391140949123ff8605b9d.", "\"Bump build to 2.41.0.8.\"", "Convert OWSMessageContentJob to BaseModel.", "Merge branch 'charlesmchen/messageContentJob'", "Replace a bunch of usages of localNumber with localAddress", "Auth WebSocket with UUID", "Typing indicators SignalServiceAddress", "No more transitional_phoneNumber", "No more transitional_signalServiceAddress", "SDS Codegen", "Merge branch 'nt/uuid'", "Some last bits of UUID tweaks", "Merge branch 'nt/uuid'", "Consistent capitalization", "Merge branch 'mkirk/fix-typo' into release/2.40.3", "\"Bump build to 2.40.3.2.\"", "Merge tag '2.40.3.2' into release/2.40.4", "\"Bump build to 2.40.4.2.\"", "Merge tag '2.40.4.2' into release/2.41.0", "more frequest iOS9 reminders", "Merge branch 'mkirk/ios9-reminder' into release/2.41.0", "\"Bump build to 2.41.0.9.\"", "Convert migrations to use BaseModel.", "Convert migrations to use BaseModel.", "Convert migrations to not be models.", "Convert migrations to not be models.", "Convert migrations to not be models.", "Convert migrations to not be models.", "Convert migrations to not be models.", "Convert migrations to not be models.", "Update to reflect rebase.", "Respond to CR.", "Small cleanup.", "Merge branch 'charlesmchen/anyMigrations2'", "Don't require local UUID until we're ready.", "Merge branch 'charlesmchen/dontRequireLocalUUID'", "Convert user profiles to use BaseModel.", "Conver user profiles to use BaseModel.", "Respond to CR.", "Merge branch 'charlesmchen/anyUserProfiles'", "If proto doesn't have uuid or e164 address should be nil", "Merge branch 'nt/fix'", "Convert threads to BaseModel.", "Convert threads to BaseModel.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/anyThreads'", "Purify threads of YDB usage.", "Fix tests.", "Respond to CR.", "Merge branch 'charlesmchen/anyThreads2'", "Add typed 'any update with...' methods.", "Add typed 'any update with...' methods.", "Don't generate SDS extensions for migrations.", "Add typed 'any update with...' methods.", "Add typed 'any update with...' methods.", "Add typed 'any update with...' methods.", "Add typed 'any update with...' methods.", "Merge branch 'charlesmchen/anyUpdateTyped'", "Fix tests", "Merge branch 'nt/test-fixes'", "adapt to lossless certs", "Merge branch 'mkirk/smk-cert' into release/2.41.0", "Reduce duration of per-message expiration.", "Merge branch 'charlesmchen/reducePerMessageExpirationDuration' into release/2.41.0", "sync translations", "\"Bump build to 2.41.0.10.\"", "PIN Creation during registration / via interstitial", "Use SafariVC for internal links", "PR Feedback", "Incorporate better scaling splash images", "Add PIN section to privacy settings", "New pin reminder dialog", "Merge branch 'nt/pins'", "Revert \"Revert \"Merge branch 'mkirk/stub-uuid-receive'\"\"\nThis reverts commit f143c693b34a604c9a2796d3022c413702fd030c.", "Merge branch 'release/2.41.0-with-uuid-address-unreverted' into mkirk/ri-2.41.0", "fix up RI", "Revert \"Revert \"Revert \"Merge branch 'nt/ios-13-ssl' into release/2.40.2\"\"\"\n\nThis reverts commit 9f41bf098953ccff0a05c3ecd23dff3378e262d2.", "update pods", "Merge branch 'mkirk/ri-2.41.0'", "ProtoWrappers generation optionally skips address helpers", "SMK vs. UUID", "Merge branch 'mkirk/smk-uuid'", "Fix spurious scheduling watchdog assert in async reads & writes.", "Merge branch 'charlesmchen/asyncTransactionsVsAutoreleasePools'", "SDS Codegen", "Fix a bug with OWSUserProfile nullability", "Merge branch 'nt/uuid-profile-fix'", "Fix: selecting last message from tileView doesn't focus\n\nThe mostRecentAttachment is a separate and redundant instance with whats in the\nmedia gallery item cache.\n\nAlternatively, we could double down on the one-instance-per-value paradigm by\ncreating a way to manually add existing instances to the cache, but the value\nsemantics proposed here seemed more natural.\n\nI wish we could have just made RailViewItem: Equatable, but alas \"protocol can\nonly be used as a generic constraint because it has Self or associated type\nrequirements\"", "Merge branch 'mkirk/fixup-selecting-last-item'", "Ensure all users have a pin", "Update registration lock UI during registration", "Some small design tweaks to PIN registration flow", "PR Feedback", "Merge branch 'nt/pins'", "Fix sync transcripts for disappearing photos.", "Fix sync transcripts for disappearing photos.", "Merge branch 'charlesmchen/syncTranscriptVsDisappearingPhotos'", "Convert interactions to BaseModel. Add typed 'any update with...' methods.", "Respond to CR.", "Merge branch 'charlesmchen/anyInteractions'", "Show that a user is in system contacts in the conversation settings", "Show that a user is in contacts in conversation title.", "Merge branch 'nt/profile-tweaks'", "Convert interactions to BaseModel; Update calls to use any transactions.", "Respond to CR.", "Merge branch 'charlesmchen/anyInteractions3'", "Add transactable base class for database storage and queue.", "update pods", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/anyTransactable'", "Skip storedUuid until we always have a local UUID.", "Respond to CR.", "Merge branch 'charlesmchen/skipStoredUuid'", "Possible UUID fixes.", "Respond to CR.", "Update to reflect rebase.", "Add logging around account manager's 'stored' methods.", "Merge branch 'charlesmchen/uuidFixes'", "Disable 'sticker send' feature flag.", "Make 'sticker send' feature flag 'debug only'.", "Merge branch 'charlesmchen/disableStickerSend' into release/2.41.0", "Protect enqueue message sends from orphan data cleaner.", "Merge branch 'charlesmchen/orphanDataCleanerVsMessageSenderJobQueue_'", "Convert interactions to BaseModel; persist outgoing message state.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Fix typo.", "Merge branch 'charlesmchen/anyInteractions2_'", "Convert interactions to BaseModel.", "Convert interactions to BaseModel (generated changes).", "Respond to CR.", "Merge branch 'charlesmchen/anyInteractions4'", "Make TSInteraction.thread non-nil.", "Clean up.", "Make TSInteraction.thread non-nil.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/nullableThread_'", "Ensure for pin operations we always use arabic numerals", "Merge branch 'nt/fix-pin-verification'", "Fix rebase breakage.", "Fix overzealous assert.", "Remove rtlSafeAppend", "Merge branch 'nt/rtl-safe-append'", "Align message text using the dominant language direction.", "Cache naturalTextAlignment", "Merge branch 'nt/message-text-alignment'", "Honor shouldBeSaved flag in anyRemove.", "Respond to CR.", "Merge branch 'charlesmchen/anyRemoveVsCanBeSaved'", "Don't crash when panning on view once message", "Assert that getOrCreateLocalThreadWithSneakyTransaction is off the main thread.", "Merge branch 'charlesmchen/getOrCreateLocalThreadWithSneakyTransaction'", "To make things easier on the builder, rather than juggling multiple flags\nbetween builds, lets label our feature flags semantically and just have one\nflag that the builder toggles.", "update flag name for clarity", "respond to CR", "send permessage expiration should not be in beta yet", "Merge branch 'mkirk/clearer-featuresets'", "Merge branch 'nt/view-once-pan-crash' into release/2.41.0", "Rework GRDBDatabaseQueue.", "Respond to CR.", "Merge branch 'charlesmchen/reworkGRDBDatabaseQueue'", "fix album layout in landscape", "Merge branch 'mkirk/fix-landscape-albums' into release/2.41.0", "Fix modal attachment approval.", "Update preview text for 'view once photos' again.", "Simplify the preview text logic for 'view once photos.'", "Simplify the preview text logic for 'view once photos.'", "Simplify the preview text logic for 'view once photos.'", "remove isModalState, isAddMoreVisible block instead of copying around state", "simplify", "add back camera mode button", "Merge branch 'mkirk/mediaSendFlowFixes' into release/2.41.0", "update string linter path", "sync translations", "\"Bump build to 2.41.0.11.\"", "Fix 'image editor vs. per-message expiration' bug.", "Merge branch 'charlesmchen/imageEditorVsPerMessageExpiration' into release/2.41.0", "Fix 'home view doesn't reorder to reflect view-once photos' issue.", "Merge branch 'charlesmchen/homeViewVsViewOncePhotos' into release/2.41.0", "Fix hasRenderableContent to handle sticker messages", "Merge branch 'nt/sticker-receive-fix' into release/2.41.0", "Fix a bug when clicking between sticker packs where the wrong pack would render", "Merge branch 'nt/sticker-paging-fix' into release/2.41.0", "\"Bump build to 2.41.0.12.\"", "Merge tag '2.41.0.12'", "Fix icon for 'sending' state of outgoing 'view once photos'.", "Remove YDB connections.", "Remove YDB connections.", "Remove YDB connections.", "Remove YDB connections.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Merge branch 'charlesmchen/removeYDBConnections1'", "Fix tests.", "toggle flag", "\"Bump build to 2.41.0.13.\"", "use safe enumeration", "Merge branch 'mkirk/safe-enumeration' into release/2.41.0", "sync translations", "\"Bump build to 2.41.0.14.\"", "Don't sync verification states before registration.", "Merge branch 'charlesmchen/syncVerificationVsRegistration'", "Merge tag '2.41.0.14'", "Ensure thread finder only deals with visible threads.", "Ensure thread finder only deals with visible threads.", "Respond to CR.", "Merge branch 'charlesmchen/wrongfulNoteToSelf'", "Rework message sender to assume thread is non-nil.", "Rework message sender to assume thread is non-nil.", "Rework message sender to assume thread is non-nil.", "Rework message sender to assume thread is non-nil.", "Rework message sender to assume thread is non-nil.", "update notification copy", "Merge branch 'charlesmchen/syncVsMessageSender'", "Fix assert around socket disconnects.", "Merge branch 'charlesmchen/socketDisconnectErrors'", "Add missing table for OWSDevice.", "Merge branch 'charlesmchen/missingDeviceTable'", "Remove YDB connections.", "Remove YDB connections.", "Remove YDB connections.", "Remove YDB connections.", "Remove YDB connections.", "Remove YDB connections.", "Respond to CR.", "Merge branch 'charlesmchen/removeYDBConnections2'", "dev method", "FIX: dismissed VC shouldnt determine status bar style", "Smooth Media Gallery Animations", "disable broken animation on iOS11", "Merge branch 'mkirk/media-animations'", "Merge branch 'mkirk/update-notification-copy' into release/2.41.0", "Remove YDB connections.", "Remove YDB connections.", "Respond to CR.", "Merge branch 'charlesmchen/removeYDBConnections3'", "Storage Service API", "Migrate to reg lock v2 in new pin flow", "PR Feedback", "Merge branch 'nt/storage-service'", "Change proto builder setters to accept optional input", "Limit optional proto setters to ObjC only", "Merge branch 'nt/proto-fix'", "Fix edge cases around key-value store.", "Merge branch 'charlesmchen/removeYDBConnections6'", "Remove analytics stubs.", "Remove analytics stubs.", "Remove YDB connections.", "Remove YDB connections.", "Remove YDB connections.", "Remove YDB connections.", "Remove YDB connections.", "Remove YDB connections.", "Remove YDB connections.", "Remove YDB connections.", "Remove YDB connections.", "Remove YDB connections.", "Update Cocoapods.", "Merge branch 'charlesmchen/removeYDBConnections4'", "Remove YDB connections.", "Remove YDB connections.", "Remove YDB connections.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/removeYDBConnections5'", "respect isAnimated", "Swift errors vs. isRetryable", "Merge branch 'mkirk/fixup-operation-retry'", "no change in functionality, test cleanup, replace deprecated method usage", "OWSContactQuery record and codegen", "as threatened", "modern CDS vs. UUID", "Merge branch 'mkirk/uuid-cds'", "update staging CDS enclaveName", "copy update", "sync translations", "\"Bump build to 2.41.0.15.\"", "Merge tag '2.41.0.15'", "remove unused kvstore", "Merge branch 'mkirk/remove-store'", "Revise disappearing photos view.", "Merge branch 'charlesmchen/disappearingPhotosViewChanges' into release/2.41.0", "sync translations", "\"Bump build to 2.41.0.16.\"", "Use hash to de-duplicate contact syncs.", "Use hash to de-duplicate contact syncs.", "Respond to CR.", "Merge branch 'charlesmchen/syncContactsHash'", "Fix build breakage around nil Randomness.", "Update Cocoapods.", "Merge branch 'charlesmchen/randomnessVsNil'", "Fix tests broken by any/grdb-related changes.", "Fix tests broken by any/grdb-related changes.", "Merge branch 'charlesmchen/testsVsGrdb'", "Rework YDB-to-GRDB migration.", "Add tests around YDB-to-GRDB migration.", "Add tests around YDB-to-GRDB migration.", "Add tests around YDB-to-GRDB migration.", "Add tests around YDB-to-GRDB migration.", "Add tests around YDB-to-GRDB migration.", "Add tests around YDB-to-GRDB migration.", "Add tests around YDB-to-GRDB migration.", "Add tests around YDB-to-GRDB migration.", "Respond to CR.", "Merge branch 'charlesmchen/ydbToGrdbMigrationTests'", "Remove usage of primary storage.", "Remove usage of primary storage.", "Remove usage of primary storage.", "Remove usage of primary storage.", "Remove usage of primary storage.", "Remove usage of primary storage.", "Respond to CR.", "Merge branch 'charlesmchen/removePrimaryStorage1'", "Remove usage of primary storage.", "Merge branch 'charlesmchen/removePrimaryStorage2'", "Remove usage of primary storage.", "Remove usage of primary storage.", "Remove usage of primary storage.", "Merge branch 'charlesmchen/removePrimaryStorage3'", "Remove Contacts Offer", "Remove profile banners", "Add the thread to the profile whitelist anytime we send a message.", "Profile name renders at same level as system contact name", "Show the message request dialog on conversations", "Don't mark messages as read until message request is accepted.", "PR Feedback", "Merge branch 'nt/message-request'", "Fix proto parsing test nullability.", "Merge branch 'charlesmchen/fixProtoParsingTestNullability'", "Remove usage of primary storage.", "Remove usage of primary storage.", "Remove usage of primary storage.", "Remove usage of primary storage.", "Remove usage of primary storage.", "Respond to CR.", "Merge branch 'charlesmchen/removePrimaryStorage4'", "Fix broken layout in 'no stickers' case.", "Merge branch 'charlesmchen/noStickersLayout' into release/2.41.0", "sync translations", "\"Bump build to 2.41.0.17.\"", "Make uniqueId non-nil.", "Make uniqueId non-nil (generated changes).", "Fix rebase breakage.", "Merge branch 'charlesmchen/uniqueIdVsNil'", "Fix recent breakage.", "Merge branch 'charlesmchen/miscFixes'", "Revert \"Revert \"Revert \"Merge branch 'nt/ios-13-ssl' into release/2.40.2\"\"\"\n\nThis reverts commit 9f41bf098953ccff0a05c3ecd23dff3378e262d2.", "prod build", "\"Bump build to 2.41.0.18.\"", "Revert \"Revert \"Revert \"Revert \"Merge branch 'nt/ios-13-ssl' into release/2.40.2\"\"\"\"\n\nThis reverts commit d2e7b2942ec2dfac41dd63b900ee21a4b582a411.", "Revert \"prod build\"\n\nThis reverts commit 77dcf5ffb6e31e1a14fc7ca5e3c93f28d48f749c.", "Merge tag '2.41.0.18'", "\"Bump build to 2.41.0.19.\"", "Merge tag '2.41.0.19'", "Show special case UI for threads with existing outbound messages", "Add Thread details interaction", "Merge branch 'nt/message-request'", "Fix uniqueId nullability conflict", "Update Thread Details when the DB record changes.", "Don't force profiles for existing conversations until phone number privacy rolls out", "Restore profile options in conversation settings until phone number privacy rolls out", "Make sticker pack proto parsing robust to nil emoji strings.", "PR Feedback", "Merge branch 'nt/message-request'", "Update ContactRecord proto to reflect real data", "Add BidrectionalDictionary", "Add StorageServiceOperation", "Add StorageServiceManager", "Trigger social graph update on blocklist changes", "Trigger storage service update when registered recipient changes", "Trigger storage service update when identity changes", "Add AnyBidirectionalDictionary", "Sync or restore manifest after registered and ready", "Backup the profile whitelist state", "Fix OWSAES256Key equatable", "PR Feedback", "Create a new manifest when our encryption keys change", "Merge branch 'charlesmchen/stickerProtoParsingVsNilEmojiString' into release/2.41.0", "Rework \"view once\" messages.", "Rework \"view once\" messages (generated changes).", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/viewOnceOpenRevisited' into release/2.41.0", "\"Bump build to 2.41.0.20.\"", "Give up after 3 consecutive failed conflict resolutions.", "Update SignalCoreKit", "Merge branch 'nt/social-graph'", "Respond to CR; clarify \"view once\" download status color.", "Sync l10n copy.", "review feature flag usage", "Merge branch 'mkirk/uuid-flag'", "no auth headers for preauth", "Merge branch 'mirk/preauth-auth'", "use raw bytes", "Merge branch 'mkirk/uuid-fingerprint'", "Camera First flow", "new send buttons", "Merge branch 'mkirk/camera-first'", "Remove usage of primary storage.", "Add GRDB support for full text search.", "Add GRDB support for full text search (generated changes).", "Fix rebase breakage.", "Merge branch 'charlesmchen/anyFullTextSearch_'", "Set feature flags for production build.", "Disable 'nt/ios-13-ssl'.\n\nThis reverts commit 2a9402d7d71dbe88dbfc63eb29655ac35a37585b.", "Update Cocoapods.", "\"Bump build to 2.41.0.21.\"", "Enable 'nt/ios-13-ssl'.\n\nThis reverts commit b27a3bad965002b4437694d0237c402a4be71d72.", "Set feature flags for beta build.", "\"Bump build to 2.41.0.22.\"", "\"Bump build to 2.41.0.23.\"", "Merge remote-tracking branch 'private/release/2.41.0'", "Fix small sticker button scaling", "Fix long packs getting clipped by install button", "Fix install button placement on non-notch devices", "Merge branch 'nt/little-sticker-fixes'", "Match StickerKeyboard to system keyboard size, set scaffolding for other custom keyboards.", "Merge branch 'nt/attachment-keyboard'", "Updated input toolbar styling", "Merge branch 'nt/attachment-keyboard-2'", "Update Cocoapods.", "\"Bump build to 2.41.0.24.\"", "Fix RI breakage.", "Revert fix from RI.", "\"Bump build to 2.41.0.25.\"", "\"Bump build to 2.41.0.26.\"", "Remove more usage of primary storage.", "Update Cocoapods; fix rebase breakage.", "Merge branch 'charlesmchen/removeYdb2'", "Improvements and fixes for \"any FTS\".", "Improvements and fixes for \"any FTS\" (generated changes).", "Improvements and fixes for \"any FTS\".", "Revert \"Revert fix from RI.\"\n\nThis reverts commit 5e5044d9ec4d66e43f6f8499a83f7b34b8b8a2b7.", "Revert \"Revert \"Revert fix from RI.\"\"\n\nThis reverts commit d48ca5f956986c82255a4b10a43949eb0cefc685.", "Respond to CR.", "Merge branch 'charlesmchen/anyFullTextSearch2_'", "Allow multiple sticker downloads.", "Merge branch 'charlesmchen/stickerDownloadConcurrency'", "Allow attachment keyboard to send photos", "Add attachment type picker", "Merge branch 'nt/attachment-keyboard-3'", "Merge remote-tracking branch 'private/release/2.41.0'", "\"Bump build to 2.42.0.0.\"", "Update feature flags for QAS.", "\"Bump build to 2.42.0.1.\"", "Fix production build breakage.", "\"Bump build to 2.42.0.2.\"", "Ensure DEBUG is defined in all targets.", "Merge branch 'charlesmchen/swiftDebug'", "Tweak RI.", "Add accessibility labels to conversation messages.", "Add accessibility labels to conversation messages.", "Add accessibility labels indicating conversation message status.", "Respond to CR.", "Merge branch 'charlesmchen/accessibilityLabels'", "use modern icon", "fix warnings", "Merge branch 'mkirk/fix-warnings-1'", "\"Bump build to 2.41.1.0.\"", "Restore & move camera button.", "Enable batch select mode by default (for now).", "Hide the 'View once photo' indicator.", "Clean up ahead of PR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/mediaSendFlowTweaks_'", "Consolidate key-value store registration.", "Merge branch 'charlesmchen/shuffleKeyValueStores'", "Fix missed call notification\n\nNotification userInfo must support NSSecureCoding", "Merge branch 'mkirk/notifications-fix'", "Fix missing: \"you declined call\" record for CallKit adapter\n\nAnd fixes the corresponding debug assert that uncovered this bug.", "Merge branch 'mkirk/fix-missing-declined-call-record'", "cant synthesize atomic property with custom setter", "Merge branch 'mkirk/warning-followup'", "Fix crash when presenting media.\n\nThreadDetailView has a cell, but wasn't accounted for in the conversation\nmapping, so our index calculations were off-by-one.", "Merge branch 'mkirk/fix-index-vs-thread-details'", "Allow location sharing", "Don't ask for photo permissions until the attachment keyboard is presented.", "Some small design tweaks.", "PR feedback", "Merge branch 'nt/location-share'", "Show live camera preview in attachment keyboard", "PR Feedback", "Merge branch 'nt/live-camera'", "Fix sticker keyboard paging", "Merge branch 'nt/sticker-keyboard-fix'", "Only auto-share profile with empty threads.", "Merge branch 'nt/profile-share-fix'", "Ensure user is not blocked before showing attachment keyboard.", "Merge branch 'nt/attachment-keyboard-tweaks'", "enable new pin flow for qa and fix a bug", "Merge branch 'nt/feature-flag-tweaks'", "update WebRTC to M76", "Merge branch 'mkirk/webrtc-m76'", "Fix proto formatting.", "Merge branch 'charlesmchen/fixProtoFormatting'", "Avoid incorrectly removing avatarFilePath during init", "Merge branch 'mkirk/fix-redundant-avatar-downloads'", "Excluse Debug UI from release builds.", "Merge branch 'charlesmchen/debugUIVsRelease'", "Add accessibility ids to the attachment keyboard.", "Merge branch 'charlesmchen/attachmentKeyboardAccessibilityIds'", "Fix attachment send button.", "\"Bump build to 2.42.0.3.\"", "Fix some attachment keyboard layout issues", "Merge branch 'nt/attachment-keyboard-fixes' into release/2.42.0", "fix deadlock in mediarail", "Merge branch 'mkirk/fix-media-rail-deadlock' into release/2.42.0", "\"Bump build to 2.42.0.4.\"", "Consolidate OutgoingMessage preparation", "CR: rename for clarity", "bench datasource writes and slow db writes", "rename portion of DataSource -> Protocol", "convert DataSource to protocol, double down on URLs vs filepaths", "faster \"write\" for consumable data sources", "Merge branch 'mkirk/outbound-messages'", "update pods", "Merge tag '2.41.1.0'", "Rework generic change observation.", "Rework generic change observation (generated changes).", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/databaseStorageObservation2'", "Apply generic change observation.", "Merge branch 'charlesmchen/databaseStorageObservation4'", "Populate onboarding phone number in DEBUG builds.", "Merge branch 'charlesmchen/onboardingDebugValues_'", "Handle sticker pack manifest download failures.", "Respond to CR.", "Merge branch 'charlesmchen/stickerPackManifestDownloadFailures_' into release/2.42.0", "Update l10n strings.", "Update l10n strings.", "auto-genstrings handles \"=\" in our translations", "Merge branch 'mkirk/fix-awk' into release/2.42.0", "Merge branch 'release/2.42.0'", "fix fallback lazy writes for consumable data sources", "Fix spurious typing indicators\n\nIn objc there's no difference between:\n\nfoo.threadWithSneakyTransaction vs [foo threadWithSneakyTransaction]\n\nHowever, when bridged to Swift, foo.threadWithSneakyTransaction() executes the\nmethod, whereas foo.threadWithSneakyTransaction returned only the\nimplementation. Which, for typing indicators, resulted in never adding the\ngroup (because we conditionally cast the method's implementation (not it's\noutput) to a TSGrouphThread, which always fails. Note there was a compiler\nwarning for this.)", "Merge branch 'mkirk/fix-thread-getter' into release/2.42.0", "Merge branch 'mkirk/fix-fallback-write'", "Disable GRDB in release branch.", "Populate onboarding phone number in DEBUG builds.", "Fix bug in 'remove ydb' work.", "Merge branch 'charlesmchen/removeYdbFix' into release/2.42.0", "Introduce storage coordinator.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "fixup compiler warnings", "Merge branch 'mkirk/fixup-compiler-warnings' into release/2.42.0", "\"Bump build to 2.42.0.5.\"", "Fix test breakage.", "Fix test breakage.", "Merge branch 'charlesmchen/storageCoordinator1'", "save from camera first", "use \"ask\" helper when saving media\n\nThis required moving the ask helpers to SignalMessaging", "Merge branch 'mkirk/save-media'", "Merge tag '2.42.0.5'", "update pods", "Remove YDB & primary storage usage.", "Remove YDB & primary storage usage.", "Remove YDB & primary storage usage.", "Remove YDB & primary storage usage.", "Remove YDB & primary storage usage.", "Remove YDB & primary storage usage.", "Remove YDB & primary storage usage.", "Merge branch 'charlesmchen/removeYdb3'", "pre-write sync message data on background thread outside of write transaction", "Merge branch 'mkirk/data-source-value'", "fix pointer", "Disable 'nt/ios-13-ssl'.\n\nThis reverts commit 2a9402d7d71dbe88dbfc63eb29655ac35a37585b.", "Update Cocoapods.", "Fix an issue where registration lock PINs were truncated to 16 characters.", "Merge branch 'nt/registration-lock-fix_' into release/2.41.1", "Revert \"Set feature flags for beta build.\"\n\nThis reverts commit 0ad0fbcf60865be5fae1cf005e3316a37cfa9770.", "Revert \"Enable 'nt/ios-13-ssl'.\"\n\nThis reverts commit e68b9dec107730e5b761492df91eeb879fee385a.", "Update Cocoapods.", "\"Bump build to 2.41.1.1.\"", "Remove asyncUIRead().", "Merge branch 'charlesmchen/removeAsyncUIRead' into release/2.42.0", "Simplify 2FA PIN verification.", "Merge branch 'charlesmchen/simplify2FAPinVerification' into release/2.41.1", "\"Bump build to 2.41.1.2.\"", "Add username creation flow.", "SDS Codegen", "PR Feedback", "Merge branch 'nt/usernames'", "Fix an optional unwrapping issue", "Handle \"loading\" and \"load failed\" cases in sticker pack view.", "Merge branch 'charlesmchen/stickerPackViewLoadingAndFailure' into release/2.42.0", "speed up media presentation animations", "Merge branch 'mkirk/faster-animations' into release/2.42.0", "Swift interop: strongly typed array\n\nNSMutableArray's don't bridge to typed array in swift", "Swift interop: throwable method for DRY composable error handling", "codegen", "broadcast media operation\n\nOnly upload once when sending to multiple via the camera first flow", "CR: Type annotate objc arrays", "CR: shared queue for uploads", "CR: fixup nil/error handling", "Merge branch 'mkirk/message-broadcast'", "Fix spurious assert in orphan data cleaner.", "Merge branch 'charlesmchen/orphanDataCleanerAssert' into release/2.42.0", "Address deadlocks in profile manager.", "Address deadlocks in profile manager.", "Clean up ahead of PR.", "Reduce usage of OWSUserProfile header.", "Respond to CR.", "Username as a fallback option in display name", "Allow username lookup in compose view.", "URL encode username before generating profile URL", "PR Feedback", "Fix pods", "Re-add find by phone number", "Merge branch 'nt/usernames-2'", "Respond to CR.", "Merge branch 'charlesmchen/profileDeadlocks3' into release/2.42.0", "\"Bump build to 2.42.0.6.\"", "\"Bump build to 2.42.0.7.\"", "Don't show thread details in note to self", "fixup grdb finder", "Merge branch 'mkirk/fix-grdb-finder'", "Merge branch 'nt/thread-details' into release/2.42.0", "Merge remote-tracking branch 'origin/release/2.41.1' into release/2.42.0", "Add UUID to provisioning proto", "Include UUID while provisioning", "Merge branch 'nt/uuid-provisioning'", "Test for model migration.", "Test for model migration.", "Test for model migration.", "Test for model migration.", "Test for model migration.", "Fix OWSDeviceProvisionerTest.", "Merge branch 'charlesmchen/modelMigrationTest'", "Further simply YDB usage.", "Further simply YDB usage.", "Merge branch 'charlesmchen/simplifyYDBUsage'", "Fix exception in \"remove all\" logic.", "Merge branch 'charlesmchen/removeAllException' into release/2.42.0", "Merge remote-tracking branch 'private/release/2.42.0'", "storage comparative perf tests", "Merge branch 'mkirk/perf-tests'", "fix mark as unregistered\n\nbecause the update block gets called twice, it's not safe to pass in\na mutating reference to the method receiver.", "Merge branch 'mkirk/fix-mark-as-unregistered' into release/2.42.0", "re-use existing transaction", "remove no-longer necessary hacks", "re-use existing transaction when building contact picker items", "use ui read on main thread, dont prebuild username map", "CR: partial revert of 821053486 to lazily generate avatars", "Merge branch 'mkirk/consolidate-transactions'", "zLayer bug has apparently been fixed long ago\n\nlimit hack from known working versions", "Merge branch 'mkirk/limit-header-view-hack'", "fix some compiler warnings", "fix build", "Merge branch 'mkirk/fix-build'", "\"Add More\" from recents selection", "Allow canceling when picking a photo from recents.", "reset senderUsername when replacing a viewItem", "Merge branch 'nt/attachment-keyboard-add-more' into release/2.42.0", "Don't fetch all collections when just looking up the default.", "#4236: trust the collection view dataSource to update cell selection state", "#4236: Synchronize collectionView selection state in willDisplay", "Merge branch 'nt/photo-library-performance' into release/2.42.0", "Don't show \"message request\" for de-registered system contacts\n\nFixes:\nAlice installs Signal\nBob sees \"Alice is on Signal\" notification\n(everything is as expected until this point)\n\nAlice uninstalls Signal\nBob sees message request in Alice's conversation", "Merge branch 'mkirk/message-request-inactive-user' into release/2.42.0", "fix errant deletion of non-orphaned profile avatars", "mark profiles missing avatar files for redownload", "Merge branch 'mkirk/fix-missing-profiles' into release/2.42.0", "Merge branch 'mkirk/fixup-sender-username'", "Fix initial presentation of attachment keyboard", "Merge branch 'nt/attachment-keyboard-fix' into release/2.42.0", "Always align input toolbar left-to-right", "Add sticker button compensation to conversation text input", "Merge branch 'nt/rtl-papercut' into release/2.42.0", "synthesize ivar", "Merge branch 'mkirk/fixup-sender-username'", "sync translations", "\"Bump build to 2.42.0.8.\"", "Merge tag '2.42.0.8'", "fixup 2.42.0.8 RI", "fixup tests", "fixup tests", "update pods", "update libPhoneNumber, fix +383 validation", "Merge branch 'mkirk/kosovo-registration' into release/2.42.0", "disable comparison in prod", "Merge branch 'mkirk/disable-cds-comparison' into release/2.42.0", "sync translations", "\"Bump build to 2.42.0.9.\"", "Fix more tests.", "Fix broken tests.", "Fix broken tests.", "Respond to CR.", "Fix more broken tests.", "Merge branch 'charlesmchen/fixMoreTests' into release/2.42.0", "Remove OWSMessageDecryptJob table from GRDB.", "Merge branch 'charlesmchen/removeMessageDecryptJobTable'", "Only register YDB extensions if we're using YDB.", "Merge branch 'charlesmchen/registerYdbExtensionsNecessary'", "Rework isDatabasePasswordAccessible.", "Merge branch 'charlesmchen/isDatabasePasswordAccessible'", "Merge remote-tracking branch 'private/release/2.42.0'", "less likely to show review\n\nPotentially showing the review request immediately after the user has sent a\nmessage, may be too soon. Also, it involves some storage machinery.\n\nInstead, we use the dumber \"has shown home view controller n times\", and have a\nhigh n. This also has the benefit of requiring no persistent storage.", "Merge branch 'mkirk/later-review'", "fix validation error UI", "Merge branch 'mkirk/fix-validation-ui'", "Audible Debug Assertions in dev-qa builds", "Merge branch 'mkirk/error-alerts'", "Queues shouldn't start work until *did* become ready\n\nhitting a crash while resending-messages, which involves saving messages which\nexplodes if the db observers haven't been setup yet, which happens in `willBecomeReady`.", "Merge branch 'mkirk/queue-starts'", "cache conversation color names\n\nRepeatedly fetching threads is a perf hit when rendering interactions.", "CR: moved cached color getter to contacts manager", "CR: make cache clearing private", "Merge branch 'mkirk/cache-color-name'", "not a singleton, instantiated in migration", "Merge branch 'mkirk/fixup-spurious-singletoncheck'", "fixup profile manager ri", "Merge branch 'mkirk/fixup-profile-manager-ri'", "Fix more tests.", "Merge branch 'charlesmchen/fixYetMoreTests'", "Force users with potentially truncated reglock pins to create a new one", "Merge branch 'nt/pin-migration'", "Allow audio messages to play in the background.", "Merge branch 'nt/background-audio-playback'", "Fix duplicated thread name", "Remove YDB usage.", "Remove YDB usage.", "Remove YDB usage.", "Remove YDB usage.", "Remove YDB usage.", "Respond to CR.", "Merge branch 'charlesmchen/removeYdb4'", "Merge branch 'nt/display-name-fix' into release/2.42.0", "Rework NewContactThreadViewController to be reusable", "Allow adding usernames to block list", "Allow creating groups with usernames", "Allow adding usernames to existing groups.", "Cleanup some unused classes", "Update pods", "Label current group members in the edit group flow", "PR Feedback", "Merge branch 'nt/usernames-4'", "ignore NSOrderedSet types", "perf: hardcode column offsets\n\nSDS Performance Test changes:\n\ninsertion: 8% faster\nfetch: 27% faster\nenumeration 50% faster", "regen", "serialize even codable structs\n\nIn theory GRDB can take care of encode/decode of Codables, however the\nhardcoded init(row:) entails using only things which can be\nDatabaseValueConvertible, which not all Codables are.\n\nThe only field which fell afoul of this was the CGSize struct on TSAttachmentPointer.", "Merge branch 'mkirk/archive-structs'", "Reduce audible logging.", "Merge branch 'charlesmchen/reduceAudibleLogging'", "perf: Avoid repeated re-fetching of interactions\n\nPreviously:\n- ConversationMapping determines which uniqueIds are in the conversation window\n- ConversationViewModel fetched (and frequently refetched) interactions from those ids\n\nNow:\n- ConversationMapping determines which interactions are in the conversation window\n- ConversationViewModel grabs the already fetched interactions from the conversation mapping", "reload ThreadDetails ViewItem whenever its present", "fix thread filtering", "cache thread on viewItem", "Merge branch 'mkirk/enumerate-interactions'", "fix release build", "further fix release build", "Fix stale transaction in conversation view.", "Merge branch 'charlesmchen/staleConvoTransaction' into release/2.42.0", "Merge remote-tracking branch 'private/release/2.42.0'", "Rework OWSDisappearingMessagesFinder to support GRDB.", "Rework OWSDisappearingMessagesFinder to support GRDB. (Generated changes)", "Respond to CR.", "\"Bump build to 2.42.0.10.\"", "Merge branch 'charlesmchen/removeYdb5'", "Simplify TSYapDatabaseObject; Prepare to remove BaseModel.", "Merge branch 'charlesmchen/removeYdb8'", "Fix rebase breakage.", "fixup build", "fix release build", "115 must be persisted in GRDB storage", "Merge branch 'mkirk/persist-grdb'", "Fix broken tests.", "Re-enable disabled sections of db perf tests.", "Remove YDB usage.", "Merge branch 'charlesmchen/removeYdb7'", "Decompose SDSDatabaseStorage.", "Update Cocoapods.", "Merge branch 'charlesmchen/decomposeDatabaseStorage'", "Use separate keyspec for GRDB.", "Use separate keyspec for GRDB.", "Fix rebase breakage.", "Merge branch 'charlesmchen/grdbKeySpec'", "Fix deadlock with thread.name\n\nFor contact threads, thread.name opened a sneaky transaction, which would\nsometimes cause a deadlock.\n\nThis commit moves the name method to the contact manager and offers an explicit\ntransaction flavor. There is still a sneaky transaction flavor used in some\nplaces where it's deemed dangerous to plumb through a transaction without\nfurther scrutiny.", "Merge branch 'mkirk/deadlock-in-thread-name' into release/2.42.0", "\"Bump build to 2.42.0.11.\"", "Remove YDB usage.", "Remove YDB usage.", "Remove YDB usage.", "Remove YDB usage.", "Remove YDB usage (generated changes).", "Remove YDB usage.", "Respond to CR; add a unit test around the \"special messages\" finder method.", "Update Cococapods.", "Merge branch 'charlesmchen/removeYdb6'", "Handle 'no contacts' case properly.", "Handle 'no contacts' case properly.", "Merge branch 'charlesmchen/noContacts'", "Don't load YDB unless necessary.\n\nDon't load YDB unless necessary.\n\nDon't load YDB unless necessary.\n\nDon't load YDB unless necessary.", "Don't load YDB unless necessary.", "Fix rebase breakage.", "Fix rebase breakage.", "Fix rebase breakage.", "Fix rebase breakage.", "Fix rebase breakage.", "Clean up ahead of PR.", "Respond to CR.", "Merge branch 'charlesmchen/dontLoadYdb1'", "Modify contact avatar builder to handle \"no address\" case.", "Merge branch 'charlesmchen/contactAvatarWithoutAddress' into release/2.42.0", "Fix crash in NSLinguisticTagger.", "Update Cocoapods.", "Merge branch 'charlesmchen/linguisticTaggerCrash' into release/2.42.0", "Address sticky keyboards on iOS 12.", "Address sticky keyboards on iOS 12.", "Merge branch 'charlesmchen/stickyKeyboard' into release/2.42.0", "Fix crash from contact share without avatar.", "Merge branch 'charlesmchen/systemContactWithoutAvatar' into release/2.42.0", "Remove redundant camera button.", "Merge branch 'charlesmchen/removeRedundantCameraButton' into release/2.42.0", "Flush pending contact syncs.", "Merge branch 'charlesmchen/syncContactsMore' into release/2.42.0", "Address sticky keyboards on iOS 12.", "Merge branch 'charlesmchen/stickyKeyboard2' into release/2.42.0", "Fix 'empty inbox v. local address.' issue.", "Merge branch 'charlesmchen/emptyInboxVsLocalAddress' into release/2.42.0", "Expire messages even if they haven't finished downloading.", "Merge branch 'charlesmchen/expireUndownloadedMessages' into release/2.42.0", "Set feature flags for beta.", "Update l10n strings.", "\"Bump build to 2.42.0.12.\"", "Update SignalMetadataKit pod.", "Update CocoaLumberjack pod.", "Fix tests broken by \"group name\" changes.", "Merge branch 'charlesmchen/groupNameVsTests' into release/2.42.0", "Fix build warnings; add comment.", "\"Bump build to 2.42.0.13.\"", "Avoid deadlocks in ts account manager around uuid key.", "Avoid deadlock in TSAccountManager.", "Revert \"Avoid deadlock in TSAccountManager.\"\n\nThis reverts commit 3441c930804b428d142a51a8b34b2ce6daecee6f.", "Avoid deadlock in TSAccountManager.", "Merge branch 'charlesmchen/tsAccountManagerDeadlocks' into release/2.42.0", "\"Bump build to 2.42.0.14.\"", "Merge remote-tracking branch 'private/release/2.42.0'", "update cocoapods", "demote some error logging to warn for things which we know can happen", "Merge branch 'mkirk/error-logging'", "Remove unused outgoingMessage.attachmentFilenameMap\n\nWe stopped using this property long ago in:\n\ncommit d3cda951ef7d8e67ef752f90b81ec6a9d8f58d70\nAuthor: Michael Kirk <michael@signal.org>\nDate:   Mon May 7 17:22:07 2018 -0400\n\n    Fix/Simplify outgoing attachment proto building", "codegen", "Merge branch 'mkirk/remove-filename-map'", "archivedAsOfSortId is a sortId", "Merge branch 'mkirk/fix-number-type'", "Commit to PR.", "Respond to PR.", "Fix issues with pure-GRDB mode.", "Fix issues with pure-GRDB mode.", "Fix issues with pure-GRDB mode.", "Merge branch 'charlesmchen/dontLoadYdb2'", "Remove YDB header usage.", "Remove YDB header usage.", "Remove YDB header usage.", "Remove YDB header usage.", "Merge branch 'charlesmchen/removeYdb10'", "Reduce write transactions used to 'mark as read'.", "Respond to CR.", "Merge branch 'charlesmchen/reduceMarkAsReadWrites'", "Run perf tests with real-world optimizations", "Merge branch 'mkirk/perf-tests-release'", "Put message request view behind a feature flag", "Restore contact offer", "Merge branch 'nt/profile-feature-flags' into release/2.42.0", "Restore old ~profile display", "Merge branch 'nt/profile-changes' into release/2.42.0", "Fix missing import", "\"Bump build to 2.42.0.15.\"", "Fix SignalTest target\n\nSo we can respect the value in headers too", "Merge branch 'mkirk/fix-test-target'", "\"Bump build to 2.43.0.0.\"", "Fix crash when blocking user's with UUIDs", "Merge branch 'nt/block-list-fix' into release/2.42.0", "\"Bump build to 2.42.0.16.\"", "Merge branch 'release/2.42.0'", "cleanup StatementArguments for generated code", "regen", "adapt to new StatementArgument API", "Merge branch 'mkirk/statement-arguments-cleanup'", "Fix peek interactions with keyboard measurement.", "Fix location picker header on iOS 13.1", "Show gif / video badge in attachment keyboard", "Avoid deadlocks in TSAccountManager.", "Avoid deadlock in TSAccountManager.", "Avoid deadlock in TSAccountManager.", "Avoid deadlock in TSAccountManager.", "Avoid deadlock in TSAccountManager.", "Avoid deadlock in TSAccountManager.", "Avoid deadlock in TSAccountManager.", "Avoid deadlock in TSAccountManager.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/tsAccountManagerDeadlocks2'", "Review GRDB TODOs.", "Review GRDB TODOs.", "Review GRDB TODOs.", "Merge branch 'charlesmchen/removeYdb11'", "Merge branch 'nt/fixups' into release/2.42.0", "Add tests for GRDB finders.", "Add tests for GRDB finders.", "Add tests for GRDB finders.", "Add tests for GRDB finders.", "Add tests for GRDB finders.", "Add tests for GRDB finders.", "Add tests for GRDB finders.", "Merge branch 'charlesmchen/grdbFinderTests'", "Revert camera button changes in \"camera roll\" view.", "Merge branch 'charlesmchen/revertCameraButton' into release/2.42.0", "fix iPhoneX layout\n\nWithout the .zero intrinsic content size, we don't get autolayout sizing for the input accessory view\n\nDoing so revealed that I never properly set the margins for the footer.", "Merge branch 'mkirk/fix-iphonex-layout'", "Merge remote-tracking branch 'private/release/2.42.0'", "Fix attachment keyboard display after permission dialog", "Merge branch 'nt/fixups' into release/2.42.0", "Update l10n strings.", "\"Bump build to 2.42.0.17.\"", "Merge remote-tracking branch 'private/release/2.42.0'", "take advantage of index ordering for interactions\n\nIt doesn't make sense to \"filter by interactionId\" then order by \"threadId\"\nsince there will never be more than one threadId per interactionId", "add missing uniqueid indices", "It doesn't make sense to have unique column as first column in a composite\nindex, since the second item will have at most 1 entry.\n\nIt might make sense to just index timestamp, but we already have a composite\nindex which does this.", "better index paging - in a gallery well be enumerating attachments for the same thread", "durable job queue indices", "Merge branch 'mkirk/processing-perf'", "fixup missing import", "remove unused var - we now get the avatar later, as the cell loads", "populate non-recent contacts when search bar is empty", "respect user name sorting preferences", "dev setup, do not commit", "Merge branch 'mkirk/contacts-missing'", "Revert \"dev setup, do not commit\"\n\nThis reverts commit d053f64e8c798ef57dc402157bac97af51bddabd.", "Ensure the desired keyboard state is updated after interactive dismissal", "Update flags for QAS build.", "\"Bump build to 2.43.0.1.\"", "Merge branch 'nt/fixups' into release/2.42.0", "Ensure the desired keyboard state is updated after interactive dismissal", "Preserve scroll position when presenting message actions.", "Preserve the content offset when the keyboard size changes (for example, when dismissing a quoted reply)", "Allow tapping collection view to dismiss the keyboard.", "Merge branch 'nt/scrolling-fixes'", "Cleanup some YAP stuff added during RI", "Merge branch 'nt/little-fixes'", "Fix avatar contact name when  is disabled", "Merge branch 'nt/avatar-fixes' into release/2.42.0", "Fix crash for users with reduced transparency, fix presentation bug while call is active.\n\nElaborate comment.", "Merge branch 'mkirk/fix-crash-in-media-present' into release/2.42.0", "sync translations", "\"Bump build to 2.42.0.18.\"", "Use the whole contact name", "Merge remote-tracking branch 'private/nt/fix-profile-thing' into release/2.42.0", "\"Bump build to 2.42.0.19.\"", "Simplify disappearing messages configuration.", "Respond to CR.", "Merge branch 'charlesmchen/simplifyDisappearingMessagesConfiguration' into release/2.43.0", "Validate table names.", "Respond to CR.", "Merge branch 'charlesmchen/validTablenames' into release/2.43.0", "Set feature flags for production build.", "Update l10n strings.", "\"Bump build to 2.42.0.20.\"", "fix test protocol helper", "perf test for message processing", "Sending perf test - baseline", "missing indices for faster message sending", "plumb transaction through dataMessageBuilder\n\n6% improvement on group scenario", "plumb thread through dataMessage builder", "finish baselines for iphone", "upate pods", "Merge branch 'mkirk/sending-perf'", "forgiving snapshot creation when testing", "update GRDB", "get back on mainline GRDB", "update baselines", "update pods", "Merge branch 'mkirk/update-grdb'", "Add uniqueId indices for all records", "new baselines", "Merge branch 'mkirk/index-audit'", "code clarity: DatabaseStorage orchestrates touches.\n\nThis isn't a change in behavior - we consolidated touch handling on the\nDatabaseStorage, so the touch methods on the individual observers should no\nlonger be called themselves, except by DatabaseStorage.", "code clarity - no change in behavior", "`touches` take effect even in a no-op deferred transaction.\n\nUIDatabaseObserver orchestrates notifying views when a transaction commits.\nWe back UIDatabaseObserver with a DatabaseRegionObserver\n\nDatabaseRegionObservers are not notified if the transaction contains no changes:\n\n    https://github.com/groue/GRDB.swift/blob/af0ac15/GRDB/Core/DatabaseRegionObservation.swift#L119\n\nHowever the more general TransactionObservers *are* notified even if the\ntransaction contains no changes. Nicely, GRDB does some work to ensure this is\ntrue even in the event of a deferred transaction. See this comment on `databaseDidCommitEmptyDeferredTransaction`\n\nhttps://github.com/groue/GRDB.swift/blob/da459386a03f8ad2a98bee0ad7f9842cb71e03e6/GRDB/Core/TransactionObserver.swift#L444", "Increase YDB connection pool size.", "\"Bump build to 2.42.1.0.\"", "Fix empty progress bar", "Merge branch 'mkirk/fix-sae-progress' into release/2.42.1", "\"Bump build to 2.42.1.1.\"", "Merge branch 'mkirk/touch-checks'", "Merge tag '2.42.1.1' into release/2.43.0", "sync translations", "\"Bump build to 2.43.0.2.\"", "Partial revert of cb7d66ef2 to restore development flags", "Merge branch 'mkirk/fix-dev-feature-flags'", "Merge tag '2.43.0.2'", "Fix can't leave error log view", "downgrade logging which doesn't represent errors", "Only log when setting. Otherwise this is logged _a lot_", "disable audible error logging for QA until its less noisy", "CR: do not repeat format string", "Merge branch 'mkirk/logging-zeal' into release/2.43.0", "Checking for passphrase happens before dependencies are wired, so we can't depend on Environment.", "Merge branch 'mkirk/fix-check-for-passhrase' into release/2.43.0", "bump build", "sync translations", "\"Bump build to 2.43.0.3.\"", "Address crash when rebuilding FTS index.", "Merge branch 'charlesmchen/rebuildFTSCrash' into release/2.42.2", "\"Bump build to 2.42.2.0.\"", "Merge tag '2.42.2.0' into release/2.43.0", "Merge remote-tracking branch 'private/release/2.43.0'", "Update Cocoapods.", "Clean up YDB.", "Merge branch 'charlesmchen/cleanUpYdb'", "Avoid async model side effects during migration.", "Merge branch 'charlesmchen/asyncModelSideEffects'", "update webrtc to m77", "Merge branch 'mkirk/webrtc-m77' into release/2.42.3", "\"Bump build to 2.42.3.0.\"", "Fix crash related to queued sync messages.", "Fix crash related to queued sync messages.", "Merge branch 'charlesmchen/queuedSyncMessages' into release/2.42.4", "Fix receipt delivery", "Merge branch 'nt/receipt-bug' into release/2.42.4", "soft delete contact threads", "remove deleted contact threads from search results", "Merge remote-tracking branch 'private/mkirk/soft-delete' into release/2.42.4", "\"Bump build to 2.42.4.0.\"", "Merge tag '2.42.4.0'", "Merge tag '2.42.4.0' into release/2.43.0", "Merge branch 'release/2.43.0'", "adapt to method rename", "\"Bump build to 2.43.0.4.\"", "Update l10n strings.", "Enable camera-first capture flow.", "\"Bump build to 2.43.0.5.\"", "Merge branch 'mkirk/fix-shared-storage'", "grdb gallery only shows attachments for the given conversation", "Merge branch 'mkirk/media-gallery'", "We cannot access databaseStorage from the environment before the environment is\nsetup.\n\nIn general, it's not safe to access Environment in an initializer unless it's\nwithin an AppReadiness block.", "Merge branch 'mkirk/fix-sds-observation-in-sae' into release/2.43.0", "adapt to method rename", "\"Bump build to 2.43.0.6.\"", "audible error logging is configurable, disabled by default", "truncate logs, display logs in order", "ActivityView for log content", "Merge branch 'mkirk/configurable-error-logging'", "update ruby deps", "Merge branch 'mkirk/update-ruby-deps'", "use identifiable subject for registration support email", "Merge branch 'mkirk/support-subject'", "Merge tag '2.43.0.6'", "Fix bug in orphan data cleaner.", "Merge branch 'charlesmchen/orphanDataCleanerVsBroadcastMediaJobs'", "Fix bug in orphan data cleaner.", "Rework message configuration. Simplify change detection, ensure continuity for deleted threads.", "Respond to CR.", "Merge branch 'charlesmchen/messageConfig__' into release/2.43.0", "\"Bump build to 2.43.0.7.\"", "Fix check_diff_for_keywords in scripts\n\nFixes the `objc_keywords` list in `check_diff_for_keywords`.\r\n\r\nThis list stores strings and Python automagically concatenates strings if there is no comma between them.\r\n\r\nAs a result the first two items of the list: `OWSAbstractMethod\\(` and `OWSAssert\\(` were wrongly conacatenated into `\"OWSAbstractMethod\\(OWSAssert\\(\"`.\r\n\r\nThis has been found with LGTM https://lgtm.com/projects/g/signalapp/Signal-iOS/snapshot/0ddaedbfad3ea18fd14416009dcd01351a536290/files/Scripts/precommit.py#x84c147336239d4b6:1", "Merge commit 'disconnect3d:patch-1'", "Fix tests.", "Respond to CR.", "Merge branch 'charlesmchen/fixTests' into release/2.43.0", "Remove redundant perf test", "Fix test that previously had static text", "Merge branch 'mkirk/test-fixups'", "GRDB: Fix disappearing messages vs. long text or media details\n\nThe generic observer delete was broken for GRDB, because we can't fetch the\nuniqueId's of rowIds if the corresponding row was deleted. So instead, we\nsplit the logic: Yap uses uniqueIds, GRDB uses row ids.", "CR: rename id->rowId for clarity", "Merge branch 'mkirk/generic-deletes'", "avoid warning while running `pod install`", "Merge branch 'mkirk/cocoapods-warning'", "remove unused travis file", "Merge branch 'mkirk/remove-travis'", "Batched and unbatched enumerations.", "Batched and unbatched enumerations (generated changes).", "Add Batching class.", "Fix batching exit.", "Remove autorelease pools in the ydb-to-grdb migrators.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Rework Batching to use stop parameter.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/batchedEnumerations_'", "Revert \"Respond to CR.\"\n\nThis reverts commit 11abcb7b9c1491742578fc2862fa5ba6d19f70d3.", "YDB-to-GRDB migration stress testing.", "Respond to CR.", "Merge branch 'charlesmchen/migrationStress2'", "Initial support for building with Xcode 11 + iOS 13 SDK", "Support iOS 13 style modal presentation where appropriate.", "Ensure ui styling is correct regardless of system theme", "Add appearance menu with system theme option", "Fix share sheet for iOS 13", "Allow things to keep building in Xcode 10 for now", "Better support dark mode in share extension", "Handle theme change in more views", "Restyled appearance settings", "Use the interactive dismissal for experience upgrades on iOS 13", "PR Feedback", "Merge branch 'nt/xcode-11'", "do another round of hashing before sending pin to KBS", "Merge branch 'nt/kbs-tweak'", "Merge remote-tracking branch 'private/release/2.43.0'\n\n# Conflicts:\n#\tSignalServiceKit/src/Util/FeatureFlags.swift\n#\tSignalServiceKit/tests/Storage/SDSDatabaseStorageObservationTest.swift", "Add accessibility identifiers to menu actions.", "Merge branch 'charlesmchen/accessibilityIds08132019' into release/2.43.0", "Fix bug around db change observers and the key-value store table.", "Merge branch 'charlesmchen/observersVsKVTable'", "Fix build warnings.", "Merge branch 'charlesmchen/fixWarnings' into release/2.43.0", "Unique ids are unique.", "Unique ids are unique (generated changes).", "\"Bump build to 2.43.0.8.\"", "Make uniqueId UNIQUE constraint strict.", "Merge branch 'charlesmchen/uniqueIdsAreUnique'", "\"Bump build to 2.43.0.9.\"", "fix test compile", "Merge branch 'mkirk/fix-tests-3'", "Fix downloaded image doesn't appear immediately\n\nThe message was copied onto the download job before it was signed it's sortId.", "CR: extract method, remove scheduling unnecessary DM pass", "Merge branch 'mkirk/fix-attachment-download-render-delay'", "Consistent button height.", "Merge branch 'charlesmchen/consistentButtonHeight' into release/2.43.0", "Clean up migrations.", "Merge branch 'charlesmchen/cleanupMigrations2'", "Add TestModel.", "Add TestModel.", "Add TestModel.", "Update Cocoapods.", "Merge branch 'charlesmchen/testModel'", "Fix numeric/date edge cases in GRDB serialization.", "Fix numeric/date edge cases in GRDB serialization (generated changes).", "Fix numeric/date edge cases in GRDB serialization.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Update to reflect rebase.", "Respond to CR.", "Respond to CR.", "Update to reflect rebase.", "Merge branch 'charlesmchen/testModel2'", "Avoid invalid values.", "Avoid invalid values.", "Avoid invalid values.", "Avoid invalid values.", "Avoid invalid values.", "Add SDS.fitsInInt64().", "Add SDS.fitsInInt64().", "Add SDS.fitsInInt64().", "Merge branch 'charlesmchen/testModel3'", "Merge remote-tracking branch 'private/release/2.43.0'", "Don't search compose until at least 3 chars\n\nAlso fixes assert wherein we'd do a search for the empty string.", "hide \"no results\" if showing phone number result", "include note-to-self in compose search, even if no thread preexists", "thread safety, dont update stale", "fix note-to-self-search", "enforce minimum search match", "Merge branch 'mkirk/fix-compose-clear' into release/2.43.0", "Log duration of YDB-to-GRDB migration.", "Rebuild DM view.", "Merge branch 'charlesmchen/rebuildDMView_' into release/2.43.0", "Fix build warnings around unknown enum values.", "Respond to CR.", "Merge branch 'charlesmchen/unknownEnums' into release/2.43.0", "Update l10 strings.", "\"Bump build to 2.43.0.10.\"", "Fix a crash in the ProfileFetchJob", "Merge branch 'charlesmchen/logMigrationDuration'", "Refine logging of message timestamps.", "Merge branch 'charlesmchen/logMessageTimestamps'", "Merge tag '2.43.0.10'", "new baselines to measure pre-existing regression.\n\nSome bisecting shows most of this regression is from: 09e0fc1db", "GRDB re-index FTS upon touching", "Merge branch 'mkirk/touch-fts'", "Merge branch 'nt/profile-fetch-fix' into release/2.43.0", "Don't render find by phone number view under navbar on iOS 10", "Merge branch 'nt/find-by-phone-number-fix' into release/2.43.0", "Mark as last iOS 9 release.", "Render waveforms for audio messages", "Move AudioWaveform to SSK", "Cache audio waveforms to disk.", "PR Feedback", "Merge branch 'nt/voice-note-waveform'", "Merge branch 'nt/farewell-ios-9' into release/2.43.0", "\"Bump build to 2.43.0.11.\"", "update pod", "Merge branch 'mkirk/update-pod-2'", "avoid recursive observations\n\nSome observed changes causes us to mutate the FTS table, which in turn was\ntriggering other observations. This triggered an assert related to recursively\ncalling `serializedSync`. The assert was good, because it alerted us to this\nunnecessary recursion.", "Merge branch 'mkirk/fix-recursive-observations'", "Include the OS build number in debug logs.", "Merge branch 'nt/os-build-logging' into release/2.43.0", "Abort view transitions on failure.", "Abort view transitions on failure.", "Merge branch 'charlesmchen/abortTransitions' into release/2.43.0", "some accessibility labels", "Merge branch 'mkirk/accessibility-labels' into release/2.43.0", "Update l10n strings.", "\"Bump build to 2.43.0.12.\"", "Set feature flags for production.", "\"Bump build to 2.43.0.13.\"", "Only clean up temporary attachments when app is ready.", "better failure logging", "fix indent", "codegen id source", "regen", "migrate interactions in order of sortId across all threads", "Merge branch 'charlesmchen/temporaryAttachmentsVsAppReady_' into release/2.43.0", "Improve logging around missing or corrupt images.", "Set feature flags to beta.", "\"Bump build to 2.43.0.14.\"", "Set feature flags to production.", "\"Bump build to 2.43.0.15.\"", "Refine image validation.", "Refine image validation.", "Refine image validation.", "Elaborate logging around missing images.", "Relax still image restrictions slightly.", "Don't abort media transitions if original image can't be loaded.", "Merge branch 'mkirk/grdb-migrate-thread-order'", "performance tests only build active arch", "Merge branch 'mkirk/fix-pods'", "Merge branch 'charlesmchen/refineImageValidation' into release/2.43.0", "Set feature flags to beta.", "Fix glitch in view transition cancellation.", "Merge branch 'charlesmchen/fixViewTransitionCancellation' into release/2.43.0", "Add assert around attachment download edge cases.", "Merge branch 'charlesmchen/attachmentDownloadEdgeCaseLogging' into release/2.43.0", "Fallback to copying when file isn't writable.\n\nThis *shouldn't* happen, but currently the share extension doesn't always pass\nin writeable file URL's.", "Merge branch 'mkirk/fallback-consume' into release/2.43.0", "\"Bump build to 2.43.0.16.\"", "Set feature flags to production.", "\"Bump build to 2.43.0.17.\"", "Merge tag '2.43.0.17'", "Protect databases from orphan clean up.", "Merge branch 'charlesmchen/orphanCleanupVsDatabases_'", "Improve logging around database file protection.", "Fix build break.", "Fix bug in incomplete calls job.", "Merge branch 'charlesmchen/incompleteJobsCondition'", "Rework storage setup completion.", "Rework isStorageReady.", "Rework isStorageReady.", "Respond to CR.", "Merge branch 'charlesmchen/everythingIsReady'", "Add Debug UI action to insert one of each kind of model.", "Add Debug UI action to insert one of each kind of model.", "Add suppressBackgroundActivity feature flag.", "Merge branch 'charlesmchen/oneOfEachModel'", "Pad all outgoing attachments.", "Merge branch 'charlesmchen/padAllAttachments'", "Update sticker sharing domain.", "Merge branch 'charlesmchen/signalArtDomain'", "Ensure loading animation continues after returning from background.", "Respond to CR.", "Merge branch 'charlesmchen/loadingViewVsBackground'", "\"Bump build to 2.44.0.0.\"", "fix baselines", "cleanup", "more efficient uidb updates, fix checkpointing", "Merge branch 'mkirk/uidb-perf-boost'", "Dismiss search when button is clicked or view is scrolled for ContactPicker", "Merge branch 'nt/contact-scroll-fix'", "Update deployment target to iOS 10", "Merge branch 'nt/deployment-target'", "Rewrite audio progress view in swift, add play/pause animation", "Show loading animation for waveforms", "PR Feedback", "Merge branch 'nt/lottie'", "CR followup, assert we only fast forward on the main thread", "Valid thumbnails.", "Valid thumbnails.", "Respond to CR.", "Merge branch 'charlesmchen/moreImageValidity'", "Rework db key checks.", "Rework db key checks.", "Rework db key checks.", "Respond to CR.", "Merge branch 'charlesmchen/reworkDBKeyChecks'", "\"Bump build to 2.43.1.0.\"", "Update Cocoapods.", "Reduce how long we keep open web socket in background.", "Reduce how long we keep open web socket in background.", "Reduce how long we keep open web socket in background.", "Reduce how long we keep open web socket in background.", "Merge branch 'charlesmchen/websocketVsBackground' into release/2.43.1", "\"Bump build to 2.43.1.1.\"", "\"Bump build to 2.43.1.2.\"", "Set feature flags to beta.", "\"Bump build to 2.43.1.3.\"", "update pod", "Merge branch 'mkirk/update-pod2'", "Merge remote-tracking branch 'private/release/2.43.1'", "Clean up messages outside enumeration.", "Merge branch 'charlesmchen/messageCleanupVsEnumeration_' into release/2.43.1", "\"Bump build to 2.43.1.4.\"", "Set feature flags to production.", "\"Bump build to 2.43.1.5.\"", "Set feature flags to beta.", "\"Bump build to 2.43.1.6.\"", "Protect audio waveform files from orphan data cleaner.", "Merge branch 'charlesmchen/orphanDataCleanerVsAudioWaveforms' into release/2.44.0", "Merge remote-tracking branch 'private/release/2.43.1' into release/2.44.0", "convert colors to Swift", "Update and apply palette. Consolidate dupes.", "replace deprecated method call", "Merge branch 'mkirk/updated-colors'", "Merge remote-tracking branch 'private/release/2.44.0'", "Suppress YDB queue handling during YDB-to-GRDB migration.", "Suppress YDB queue handling during YDB-to-GRDB migration.", "Update Cocoapods.", "Merge branch 'charlesmchen/ydbQueuesVsMigration'", "Fix missed subclass when plumbing transaction through message building\n\nfixup to 2063f84e6", "Audit non-asset-catalog images. We weren't using any of them.", "removing unused assets from catalog", "new icons: conversation settings", "new icons: input toolbar", "Merge branch 'mkirk/fix-block-sync' into release/2.44.0", "update tags_to_ignore", "\"Bump build to 2.44.0.4.\"", "Improve handling of data source value.", "Respond to CR.", "Merge branch 'charlesmchen/groupUpdateIssue' into release/2.43.2", "\"Bump build to 2.43.2.0.\"", "Set feature flags to production.", "\"Bump build to 2.43.2.1.\"", "Set feature flags to beta.", "\"Bump build to 2.43.2.2.\"", "Log how long it takes to open the database file.", "Respond to CR.", "Merge branch 'charlesmchen/loadDatabaseLogging' into release/2.44.0", "Merge tag '2.43.2.2' into release/2.44.0", "Merge branch 'mkirk/icon-updates'", "new secondary colors for message bubbles", "font updates", "Align timestamp next to delivery", "tweak sender avatar per design", "Remove undesirable StackView spacing between spacer view", "view-once video proto", "don't manually wrap generated code except where necessary", "View Once Video", "Merge branch 'mkirk/view-once-video' into release/2.44.0", "Update play/pause button animation", "Merge branch 'nt/playpause' into release/2.44.0", "Fix break in database storage.", "Merge branch 'mkirk/font-updates'", "Fix typo.", "Set feature flags for v2.44.0 release.", "\"Bump build to 2.44.0.5.\"", "Upsert experience upgrades.", "Merge branch 'charlesmchen/upsertExperienceUpgrades' into release/2.44.0", "Merge remote-tracking branch 'private/release/2.44.0'", "Add --internal command line flag.", "Merge branch 'charlesmchen/internalTags' into release/2.44.0", "Merge remote-tracking branch 'private/release/2.44.0'", "Refine build script to label internal tag commit messages as such.", "remove unnecessary setter introduced in 0ad6012db", "Merge branch 'mkirk/setters-audit'", "Add LaunchJobs.", "Respond to CR.", "Merge branch 'charlesmchen/launchJobs' into release/2.44.0", "Add more post-YDB TODOs.", "Merge branch 'charlesmchen/postGrdbTodos' into release/2.44.0", "Store group avatars as data.", "Store group avatars as data.", "Respond to CR.", "Merge branch 'charlesmchen/groupAvatarStorage' into release/2.44.0", "Small changes.", "Small changes.", "Respond to CR.", "Merge branch 'charlesmchen/miscCleanup' into release/2.44.0", "Hide sticker button if user enters whitespace.", "Merge branch 'charlesmchen/stickerButtonVsWhitespace' into release/2.44.0", "Refine empty home view.", "Merge branch 'charlesmchen/homeViewEmpty' into release/2.44.0", "Write DataSourceValue to disk async.", "Write DataSourceValue to disk async.", "Write DataSourceValue to disk async.", "Merge branch 'charlesmchen/writeDataSourceFile' into release/2.44.0", "Remove stale \"YDB database failover\" logic.", "Merge branch 'charlesmchen/databaseViewCleanup'", "Merge remote-tracking branch 'private/release/2.44.0'", "Refine empty home view.", "Hide sticker button if user enters whitespace.", "Add more post-YDB TODOs.", "Clean up call service.", "Add --internal command line flag.", "Refine build script to label internal tag commit messages as such.", "Upsert experience upgrades.", "Update l10n string.", "\"Bump build to 2.43.3.0.\"", "Set feature flags to production.", "\"Bump build to 2.43.3.1.\"", "Merge remote-tracking branch 'private/release/2.43.3' into release/2.44.0", "\"Bump build to 2.44.0.6.\"", "\"Bump build to 2.44.0.7.\" (Internal)", "Merge remote-tracking branch 'private/release/2.44.0'", "\"Bump build to 2.45.0.0.\"", "\"Bump build to 2.45.0.1.\"", "\"Bump build to 2.45.0.2.\"", "Ignore touch observations during migration saves 75% of migration time and\nsubstantially reduces memory footprint.\n\nOn an iphone6 with 100k of real messages, attachments, lots of threads, etc.\n\n1. We're re-saving all these objects, so we don't need to repeatedly touch e.g.\nthe interactions thread.\n\n2. Accruing all these updates for the UI database is also pointless since we\nhaven't drawn any UI yet.", "fix typo", "Merge branch 'mkirk/migration-perf-ignore-touch-observations'", "Unread SN and verification changes should not affect thread sorting or unread count from the inbox.", "Merge branch 'mkirk/sn-changes-dont-dirty-thread'", "add missing TODO", "identities should be upserted", "Merge branch 'mkirk/grdb-todos'", "\"Bump build to 2.45.0.3.\" (Internal)", "\"Bump build to 2.45.0.4.\" (Internal)", "Access needsTruncatingCheckpoint on checkPointQueue.", "Revert \"Access needsTruncatingCheckpoint on checkPointQueue.\"\n\nThis reverts commit 57f6559a26be3d34b609afe48b8b43e03d75767f.", "Access needsTruncatingCheckpoint on checkPointQueue.", "Merge branch 'charlesmchen/needsTruncatingCheckpointQueue'", "Reduce default batch size.", "Merge branch 'charlesmchen/smallBatch'", "Fix query for unstarted DMs in GRDB.", "Rework DM expiration finding.", "Rework DM expiration finding.", "Rework DM expiration finding.", "Rework DM expiration finding.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/fixUnstartedDMsGRDB'", "Fix all broken tests, part 1.", "Fix all broken tests, part 1.", "Respond to CR.", "Merge branch 'charlesmchen/noMoreBrokenTests1'", "Fix PhoneNumberUtilTest.", "Fix TSOutgoingMessageTest.", "Fix TSMessageStorageTests.", "Respond to CR.", "Merge branch 'charlesmchen/noMoreBrokenTests2'", "Protect loading view animations from app activating immediately after that view appears.", "Remove spurious assert.", "Merge branch 'charlesmchen/loadingViewDelay' into release/2.44.0", "Respond to CR.", "\"Bump build to 2.44.0.8.\" (Internal)", "\"Bump build to 2.44.0.9.\" (Internal)", "\"Bump build to 2.44.0.10.\" (Internal)", "Merge branch 'charlesmchen/spuriousQuotedAttachmentsAssert'", "Reset \"is YDB migrated\" flag before launching in \"GRDB throwaway\" mode.", "Merge branch 'charlesmchen/alwaysGrdbThrowawayMigration'", "Log migration migrator durations.", "Add option to Bench to log in production.", "Merge branch 'charlesmchen/logYdbToGrdbMigrationStepDurations'", "Cache the sticker manager's cache dir path.", "Respond to CR.", "Merge branch 'charlesmchen/cacheStickerPath' into release/2.44.0", "Avoid unnecessary write transactions when adding threads to the profile whitelist.", "Merge branch 'charlesmchen/skipProfileWhitelistWrites'", "Merge remote-tracking branch 'private/release/2.44.0'", "\"Bump build to 2.45.0.5.\" (Internal)", "Set all targets explicitly to iPhone only", "Add scripts to enable/disable universal support on all targets", "Disable universal device support in precommit check.", "Merge branch 'nt/ipad'", "Support all orientations on iPad", "Merge branch 'nt/ipad-2'", "Reduce sticker logging.", "new group icons", "update group avatar icon", "Merge branch 'mkirk/group-icons'", "set uuid capable\n\nAlso includes parsing capabilities from profile fetch, though the value isn't yet used", "Merge branch 'mkirk/upload-uuid-capabilities'", "Generate a new contact id for every storage service update", "Fix a deadlock from a sneaky transaction while adding to blocklist", "Don't mark a contact as needing update if the local profile key or identity are the same as the remote version", "PR Feedback", "Merge branch 'nt/storage-service-tweaks'", "feature flags for dev", "yap tests should use yap queue", "baselines", "Skip redundant FTS writes using cache.", "update baselines after applying FTS write cache", "Merge branch 'charlesmchen/ftsCache'", "Update ThreadViewHelper to support GRDB.", "Respond to CR.", "Merge branch 'charlesmchen/threadViewHelperVsGrdb'", "Eagerly add system contacts to profile whitelist.", "Merge branch 'charlesmchen/eagerlyAddSystemContactsToProfileWhitelist' into release/2.44.0", "Log database file sizes after YDB-to-GRDB migration.", "Merge branch 'charlesmchen/ydbToGrdbMigrationLogFileSizes'", "Update feature flags for public beta.", "Add missing indices.", "fix index order", "bench ThreadView.mapping", "Faster homeview db query\n\n- replace max aggregate with limit 1 order by to avoid crawling all interactions\n- only select necessary fields for count\n- order after filtering", "remove unused index", "Merge branch 'mkirk/homeview-perf'", "Update l10n strings.", "Fix build warning.", "Fix broken tests.", "\"Bump build to 2.44.0.11.\" (Internal)", "\"Bump build to 2.44.0.12.\"", "Merge remote-tracking branch 'private/release/2.44.0'", "fix overzealous assert", "Merge branch 'mkirk/overzealous-assert-3'", "Fix broken tests.", "Merge branch 'charlesmchen/fixMoreBrokenTests'", "\"Bump build to 2.45.0.6.\" (Internal)", "Reduce redundant logging.", "Support RTL layout for audio waveforms", "Support iPad multi tasking", "PR Feedback", "Merge branch 'nt/ipad'", "Fix stale hash reference for YDB pod", "\"Bump build to 2.45.0.7.\" (Internal)", "Merge branch 'nt/audo-view-fix' into release/2.44.0", "Fix audio waveform for android originated voice notes", "Merge remote-tracking branch 'private/nt/waveform-android-workaround' into release/2.44.0", "Integrate RingRTC\n\nThis commit integrates RingRTC in to Signal-iOS. Only two source code\nfiles are affected, CallService.swift and PeerConnection.swift, as well\nas the Xcode project. Other code, related to the WebRTC protocol\nbuffers, has been removed since it is now handled by RingRTC.\n\nRingRTC is provided as a framework named SignalRingRTC.framework. This\nworks in tandem with WebRTC, and hence currently requires that as well,\nWebRTC.framework. To make integration easier, avoid a zombie repository\non GitHub, and keep the integrity of older versions, we re-use the\nsignal-webrtc-ios-artifacts repository. We simply add the new framework\nfor SignalRingRTC in the Build directory.\n\nThe Xcode project is adjusted to include the new SignalRingRTC\nframework. Please note that the WebRTC.framework is also modified for\nRingRTC, and is itself updated and part of the delivery. Both of the\nframework artifacts come from the ringrtc repository.\n\nThe PeerConnectionClient.swift implementation is very different than\nthe previous version. It now serves as a thin wrapper around the\nRingRTC CallConnection class. It provides some fundamental\nserialization and helps with overall stability, although it could be\ndeprecated eventually.\n\nFor the CallService, the basic callflow is changed. Previously, it\nwould use promise chains to go through RTC negotiation until a message\nwas created for signaling to the peer. Now, RingRTC itself handles\nthis, and those promise chains are replaced with singular calls in to\nthe CallConnection (via PeerConnectionClient), with asynchronous\ncallbacks coming in the future for the signaling parts and other key\nnotifications.\n\nIn summary, other aspects of the integration on CallService include:\n- The removal of the call timeout and associated callConnectedPromise.\n  Timeouts are handled within RingRTC.\n- For incoming calls, the 'backgroundTask' is now a variable in the\n  CallData class and cleared on call connect or eventual deinit.\n- When receiving Ice candidates, the existing behavior of queueing them\n  until the PeerConnectionClient is valid is maintained.\n- When sending Ice candidates, the existing behavior of queueing them\n  so they are sent in batches in cadence with the actual sending speed\n  is maintained.\n- All signaling handlers, to send messages such as offer, answer, etc.,\n  are handled asynchronously and in a consistent way, with call\n  failures being issued for any negative result.", "Fix some error check handling\n\nFor unexpected conditions, invoke owsFailDebug to trip the debugger.\n\nCHeck that callConnection is nil before setting it.", "PeerConnectionClient removal and hangup hardening\n\nThis commit removes the PeerConnectionClient which had become a thin\nwrapper between CallService and CallConnection (RingRTC). Now, the\nhandling is moved mostly to CallConnection and CallService directly\ninterfaces with it.\n\nAlso adds some guards to handle quick call/hangup scenarios on the\ncaller side. There is also some optimization, in that we try to avoid\nsending hangups to the peer if no offer has been sent.", "Remove convenience accessors from call service. Improve coherence.", "RingRTC v0.1.2", "Merge branch 'charlesmchen/ringRTC' into release/2.44.0", "\"Bump build to 2.44.0.13.\"", "Merge tag '2.44.0.13'", "Update info Plist.", "Add blurhash pod.", "Add blurhash pod.", "Add blurhash to attachment protos.", "Add blurhash property to attachment pointer.", "Add blur hashes to outgoing attachments.", "Add blur hashes to outgoing attachments.", "Render blur hashes in conversation view.", "Intern the blurhash sources.", "Format generated proto code.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/blurHash'", "Update Cocoapods", "Update info Plist.", "Fix race in YDB cleanup.", "Respond to CR.", "Merge branch 'charlesmchen/ydbCleanupRace'", "Fix DM expiration/tests; refine DM state asserts.", "Respond to CR.", "Fix GRDB index.", "Merge branch 'charlesmchen/refineDMs_'", "Remove PeerConnectionClientTest.", "Scrub UUIDs from logs.", "Retain last 2 digits of UUIDs.", "Merge branch 'charlesmchen/scrubUUIDs' into release/2.44.0", "Update to Production build of RingRTC.", "Update l10n strings.", "\"Bump build to 2.44.0.14.\"", "\"Bump build to 2.44.0.15.\"", "Merge tag '2.44.0.15'", "Update info Plist.", "Fix \"cannot send same Giphy twice\"\n\nWhen sending media, to avoid expensive copies during a write transaction we\npre-write the file and only do a move during the transaction, which is much\ncheaper.\n\nHowever, the asset.filePath is not safely moveable, it's the path of the cached\nasset. So future attempts to send the asset will fail because the underlying\ncached file had been moved.", "Merge branch 'mkirk/fix-repeat-gif' into release/2.44.0", "plumb through transactions", "include note-to-self if missing from homeview search", "show matching contact before group", "Merge branch 'mkirk/note-to-self-search'", "Render conversation list + view in a side-by-side split on iPad", "Wrap the conversation input accessory views so they don't take up the full window width.", "Don't show copy/paste toolbar above custom keyboards on iPad", "Present various modals as form sheets.", "Handle theme changes on conversation view", "Ensure the input toolbar is visible after searching", "Don't show conversation as selected during interactive pop", "PR Feedback", "Merge branch 'nt/ipad-split-view'", "Normalize images before blurHash.", "Normalize images before blurHash.", "Merge branch 'charlesmchen/blurHash2'", "Update RingRTC to v0.1.3.", "\"Bump build to 2.44.0.16.\"", "Update SDS to reflect blurHash.", "Fix \"unread\" and \"unseen\" queries in GRDB.", "Refine indices.", "Merge branch 'charlesmchen/unreadAndUnseenVsGRDB'", "Merge tag '2.44.0.16'", "\"Bump build to 2.45.0.8.\" (Internal)", "Prevent device from sleeping during migrations.", "Merge branch 'charlesmchen/migrationsVsSleep'", "View once copy", "Merge branch 'mkirk/view-once' into release/2.44.0", "update icons for profile/contacts", "consolidate add-to-contacts into a single cell behind action sheet", "Merge branch 'mkirk/icon-updates-2'", "Add some accessibility identifiers", "Merge branch 'nt/accessibility-ids' into release/2.44.0", "Rework thread mapping updates.", "Rework thread mapping updates (generated changes).", "Refine perf test.", "Elaborate thread mapping perf test.", "Elaborate thread mapping perf test.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/homeViewPerf2__'", "Update info plist to reflect WebRTC update.", "Prevent GRDB users from reverting to YDB.", "Prevent GRDB users from reverting to YDB.", "Respond to CR.", "Merge branch 'charlesmchen/preventYdbReversion' into release/2.44.0", "intern initial schema", "script to dump formatted schema", "Fix assumption that DB always exists with initial schema\n\nIt won't exist until we run the first migration.", "Update l10n strings.", "Set feature flags for production.", "\"Bump build to 2.44.0.17.\"", "new user migration imports latest schema, not first", "Set feature flags for beta.", "\"Bump build to 2.44.0.18.\"", "update pods", "Merge branch 'mkirk/initial-schema'", "Merge remote-tracking branch 'private/release/2.44.0'", "\"Bump build to 2.45.0.9.\" (Internal)", "\"Bump build to 2.45.0.10.\" (Internal)", "fix call adapter setup on GRDB\n\nOne of our cardinal rules for dependency injection is that it's not safe to\naccess any of the Environment.shared *during* init. In this case, the database\nis not necessarily setup by the time we init the CallUIAdapter.", "Merge branch 'mkirk/fix-call-adapter-setup'", "fix spurious \"failed call\"\n\nRingRTC will fail the call when failing to send data messages. Don't send the\nvideo status before the call is connected.", "Update RingRTC to v0.1.4", "Merge branch 'mkirk/dont-send-message-which-will-fail' into release/2.44.0", "Set feature flags for production", "update info.plist for RingRTC", "\"Bump build to 2.44.0.19.\"", "Set feature flags for beta", "\"Bump build to 2.44.0.20.\"", "Merge tag '2.44.0.20'", "fix subsequent launches", "Merge branch 'mkirk/fix-relaunch'", "Backup social graph more expediently, always defer to service in conflicts.", "Merge branch 'nt/storage-service-tweaks'", "Proto changes", "Migrate KBS nonce to durable token", "Merge branch 'nt/kbs-token'", "remove some unused columns", "regen", "manual cleanup of codegen", "schema dump", "Merge branch 'mkirk/column-cleanup'", "Streamline interaction writes.", "Streamline interaction writes (generated changes).", "Respond to CR.", "Fix rebase breakage.", "Fix rebase breakage.", "Fix rebase breakage.", "Merge branch 'charlesmchen/streamlineInteractionWrites'", "\"Bump build to 2.44.0.21.\" (Internal)", "Fix version info.", "\"Bump build to 2.45.0.11.\" (Internal)", "\"Bump build to 2.45.0.12.\" (Internal)", "Maintain the user's input context on a per conversation basis", "Merge branch 'nt/preserve-input-language'", "Fix some of the broken tests.", "Merge branch 'charlesmchen/fixBrokenTests'", "Log launch failures.", "Merge branch 'charlesmchen/logLaunchFailures'", "Fix bug in group thread factory.", "Merge branch 'charlesmchen/fixFakeGroups'", "Fix typo in the \"streamline interaction writes\" changes.", "Merge branch 'charlesmchen/fixStreamlinedInteractionWrites'", "Add test around migration ordering.", "Merge branch 'charlesmchen/threadAndInteractionOrderingTest'", "Partially fix \"dark theme is not honored.\"", "Merge branch 'charlesmchen/darkThemeFix'", "Fix \"record id v. sort id\" conflicts.", "Merge branch 'charlesmchen/sortIdVsRecordId'", "\"Bump build to 2.45.0.13.\" (Internal)", "\"Bump build to 2.45.0.14.\" (Internal)", "Refine storage modes.", "Refine storage modes.", "Refine storage modes.", "Refine storage modes.", "Refine storage modes.", "Refine storage modes.", "Respond to CR.", "Merge branch 'charlesmchen/refineStorageModes'", "Revert \"streamline interaction writes\" refinements.", "Further refine interaction writes.", "Further refine interaction writes.", "Respond to CR.", "Merge branch 'charlesmchen/moreInteractionWritesPerf'", "Linking flow", "update pods", "Merge branch 'mkirk/ipad-linking-flow'", "fixup test typo", "Respond to CR.", "Handle ydb-to-grdb migration edge cases.", "Merge branch 'charlesmchen/migrationEdgeCases'", "Verbose about view.", "Merge branch 'charlesmchen/verboseAboutView'", "Fix rebase breakage.", "cant load draft until after toolbar is created", "Merge branch 'mkirk/fix-draft-persist'", "Don't require ConversationViewController to maintain first responder status.", "PR Feedback", "Merge branch 'nt/input-view-take-1'", "\"Bump build to 2.46.0.0.\"", "\"Bump build to 2.45.0.15.\" (Internal)", "\"Bump build to 2.45.0.16.\" (Internal)", "Enable 'GRDB for all'.", "Enable QA feature flags.", "Enable 'GRDB for all'.", "Enable iPad", "Re-work all media view to support iPad", "Hide status bars in landscape on iphone", "Merge branch 'nt/all-media'", "Fix RI check script.", "Fix conversation presentation from notifications", "Merge branch 'nt/split-fix' into release/2.45.0", "Fix signal account update logic.", "Respond to CR.", "Merge branch 'charlesmchen/signalAccountThrash' into release/2.45.0", "Fix transaction usage in manage stickers view.", "Merge branch 'charlesmchen/stickerPackViewTransactions' into release/2.45.0", "Rework cleanup of temporary attachments.", "Merge branch 'charlesmchen/temporaryAttachmentCleanup' into release/2.45.0", "\"Bump build to 2.45.0.17.\"", "Merge tag '2.45.0.17'", "\"Bump build to 2.46.0.1.\" (Internal)", "Add logging around home view updates.", "\"Bump build to 2.45.0.18.\"", "Revert \"Add logging around home view updates.\"\n\nThis reverts commit 909573308776a893fa9319dfa4b251f037539c32.", "Fix dark theme", "Merge branch 'nt/dark-theme-fix' into release/2.45.0", "Fix notification presentation over selected thread.", "Merge branch 'nt/notif-fix' into release/2.45.0", "Log launch keys.", "Add logging around home view updates.", "\"Bump build to 2.45.0.19.\"", "Revert \"Add logging around home view updates.\"\n\nThis reverts commit e6c3d6df1934110a19a0a223ad4678432cc6cf26.", "Revert \"Merge branch 'nt/ipad-split-view'\"\n\nThis reverts commit 3c9a3f8f211803a6a6e221ed9ccc9d73c82082e8, reversing\nchanges made to 9a2645497eaadced816e9ac70f32a4c77243476b.", "Merge branch 'release/2.45.0'", "restrict more syncing on iPad", "Merge branch 'mkirk/ipad-sync'", "Merge branch 'release/2.45.0'", "Fix signal account diffing.", "Fix signal account diffing.", "Respond to CR.", "Merge branch 'charlesmchen/fixSignalAccountDiffing' into release/2.45.0", "Improve GRDB perf for FTS searches with many results.", "Improve GRDB perf for FTS searches with many results.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/grdbFtsPerf' into release/2.45.0", "\"Bump build to 2.45.0.20.\"", "redact data blobs in sql logger", "log sql with regular logger, but only in dev-qa", "Don't log SQL in internal or QA builds, only dev", "Merge branch 'mkirk/grdb-logging' into release/2.45.0", "Respect primaryLayoutMargins on iOS10", "Keyboard Shortcuts", "Merge branch 'nt/keyboard-shortcuts'", "\"Bump build to 2.46.0.2.\" (Internal)", "Merge branch 'mkirk/onboarding-layout-fixes' into release/2.45.0", "avoid cds thrashing due to flaky contacts", "Merge branch 'mkirk/avoid-intersection-thrash'", "throttle intersection based on intersection size", "Use staging service.", "\"Bump build to 2.44.0.21.\" (Internal)", "\"Bump build to 2.44.0.22.\" (Internal)", "Merge branch 'mkirk/intersection-rate-limit'", "reduce CDS requests, don't consider impossible numers", "Merge branch 'mkirk/only-consider-possible-numbers'", "\"Bump build to 2.44.1.0.\" (Internal)", "Update RingRTC to v0.1.5.", "\"Bump build to 2.44.1.1.\"", "Revert \"Use staging service.\"\n\nThis reverts commit 8344f42fddee8f8f8b6d141ba99854e932637c12.", "Fix input toolbar positioning during orientation changes.", "Always show the conversation list side bar in regular width", "Don't present as form sheet on iPhones, ever.", "Add placeholder content to conversation placeholder.", "Don't disable universal support in precommitt", "No close button in conversations.", "Style split view controller", "Conversation placeholder view style tweaks", "Show contact views with a push", "GIF picker needs to be full screen because thet atttachment approval view requires full screen.", "Push Invite Flow", "Fix message details on iPad + handle orientation changes.", "Update no conversation strings", "PR Feedback", "Merge branch 'nt/ipad-presentations'", "Use staging service.", "Enable YDB for one-off build.", "\"Bump build to 2.45.0.21.\" (Internal)", "Revert \"Enable YDB for one-off build.\"\n\nThis reverts commit e772cd31e2d55b2839d2188c517e61116842a4fb.", "Revert \"Use staging service.\"\n\nThis reverts commit 905f4dd19974d7d16de759da6e8584727ef50192.", "Update RingRTC to v0.1.5.", "Fix cloneAttachment().", "Enable production feature flags.", "\"Bump build to 2.44.1.2.\"", "Enable beta feature flags.", "\"Bump build to 2.44.1.3.\"", "Message forwarding.", "Message forwarding.", "Message forwarding.", "Message forwarding.", "Message forwarding.", "Message forwarding.", "Message forwarding.", "Message forwarding.", "Message forwarding.", "Message forwarding.", "Message forwarding.", "Message forwarding.", "Message forwarding.", "Message forwarding.", "Message forwarding.", "Message forwarding.", "Message forwarding.", "Message forwarding.", "Message forwarding.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Pull out approval footer view.", "Pull out approval footer view.", "Pull out approval footer view.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/messageForwarding'", "Merge tag '2.44.1.3' into release/2.45.0", "Improve logging.", "Use IMMEDIATE write transactions.", "Merge branch 'charlesmchen/crossProcessWrites' into release/2.45.0", "Update l10n strings.", "\"Bump build to 2.45.0.22.\"", "Update info plist to reflect latest RingRTC.", "Merge remote-tracking branch 'private/release/2.45.0'", "Update info plist to reflect latest RingRTC.", "Refine message forwarding.", "Merge branch 'charlesmchen/messageForwarding2'", "capture button layout", "remove iOS9 specific code", "fix naming typo", "fullscreen capture on iPad", "mark as private/public, no functional changes", "rotate capture with orientation", "button placement for iPad.", "disable debug logging in script", "\"cancel\" button instead of \"X\" for iPad", "fade capture preview during rotation", "Don't redundantly rotate icons for iPad\n\n...since we're rotating the entire interface", "fix CaptureButton layout", "remove unnecessary unwrap", "Fix capture orientation when starting faceup", "Merge branch 'mkirk/ipad-camera'", "fit more images on iPad", "Merge branch 'mkirk/more-in-media-gallery'", "Configuration and block list sync when linked.", "Handle incoming block list UUIDs and groupIds", "PR Feedback", "Merge branch 'nt/sync-messages'", "Fix crash in SAE around missing method.", "Merge remote-tracking branch 'private/charlesmchen/fixCrashInSAE' into release/2.45.0", "fake-registration debug action", "remove overzealous assert", "Merge branch 'mkirk/fake-registration'", "Add a storage mode that lets GRDB-using internal users use the same build as public beta, production.", "Merge branch 'charlesmchen/grdbForAlreadyMigrated' into release/2.45.0", "Use 'GRDB for already migrated' storage mode.", "Fix \"missing moves\" in thread mapping diffing.", "Merge branch 'charlesmchen/conversationListMissingMoves' into release/2.45.0", "Cache hasDimissedFirstConversationCue value.", "Merge branch 'charlesmchen/hasDimissedFirstConversationCueCache' into release/2.45.0", "Tweak interaction queries.", "Merge branch 'charlesmchen/queryTweak' into release/2.45.0", "reload account state after cross process writes.", "Merge branch 'charlesmchen/accountStateVsCrossProcessWrites'", "Merge remote-tracking branch 'private/release/2.45.0'", "Try simpler passive checkpointing behavior.", "Respond to CR.", "Merge branch 'charlesmchen/crossProcessContention2'", "\"Bump build to 2.46.0.3.\" (Internal)", "\"Bump build to 2.46.0.4.\"", "avoid cds thrashing due to flaky contacts", "throttle intersection based on intersection size", "reduce CDS requests, don't consider impossible numers", "log error details", "Merge branch 'mkirk/log-error-details' into release/2.45.0", "add missing hook implementations for BroadcastJob", "Merge branch 'mkirk/mark-broadcast-as-complete' into release/2.45.0", "Fixing up phonenumber parsing tests", "Merge branch 'mkirk/fixup-tests-14' into release/2.45.0", "Fix some warnings and YDB full text search tests", "Update feature flags for beta", "\"Bump build to 2.45.0.23.\"", "Merge branch 'release/2.45.0'", "\"Bump build to 2.46.0.5.\"", "fixup spurious newline", "Merge branch 'mkirk/proto-fixup'", "log account state on launch.", "Merge branch 'charlesmchen/logAccountState'", "Improve logging around checkpointing.", "Truncate checkpoint on app launch.", "Truncate checkpoint on app launch.", "Truncate checkpoint on app launch.", "Clean up before PR.", "Clean up before PR.", "Respond to CR.", "Merge branch 'charlesmchen/truncateLog'", "Update some icons", "Fix write cycle in media gallery.", "Merge branch 'nt/icon-tweaks' into release/2.45.0", "Cleanup sneaky transaction during contact sort in FTS", "PR Feedback", "Merge branch 'nt/fts-fix' into release/2.45.0", "Sync translations", "Enable localizations for Marathi, Bangla, Ukrainian, and Vietnamese", "Enable localizations for Tamil and Telugu", "Add additional check.", "Merge branch 'charlesmchen/mediaWriteCycle'", "Merge branch 'nt/new-languages' into release/2.45.0", "De-bounce contact syncs re: Avatar PNG data.", "Cache avatar data(s) on SignalAccount.", "Cache avatar data(s) on SignalAccount.", "Respond to CR.", "Respond to CR.", "Improve logging around contact avatars.", "Respond to CR.", "Respond to CR.", "Fix GRDB migration issues.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/contactSyncVsAvatars' into release/2.45.0", "Sync translations, enable Urdu localization", "\"Bump build to 2.45.0.24.\"", "Merge branch 'release/2.45.0'", "Beta feature flags", "\"Bump build to 2.46.0.6.\"", "Enhance call logging to provide more info\n\nFor some key operations, change call logging to use the info\nlog level so that it shows up when debugging production log\nfiles. Also adding some stub output in cases where it was\nmissing.", "UIAlertController -> ActionSheetController", "New member action sheet for groups", "Sharing progress alert", "Allow tapping action sheet backdrop to cancel", "PR Feedback.", "Limit message actions to max width of 375", "Fix action sheet orientation changes on iOS 10 and over form sheets", "Restrict all paths to calling on linked devices.", "Merge branch 'nt/action-sheet'", "Enable QA feature flags.", "Merge remote-tracking branch 'origin/jim/call-log-info' into release/2.45.0", "Remove stray file / translations", "Fix layout of \"crop image\" view.", "Merge branch 'charlesmchen/cropImageConstraints' into release/2.45.0", "Merge remote-tracking branch 'private/release/2.45.0'", "\"Bump build to 2.46.0.7.\"", "fix incoming footer alignment", "Don't show pin/reg lock settings on linked devices.", "Default linked device name to device name", "Re-linking UI and delinked UI state", "Fix misnamed icon", "Fix crash during invite flow", "Update linking copy.", "PR Feedback", "Merge branch 'nt/relinking'", "Merge branch 'mkirk/fix-incoming-footer-view' into release/2.45.0", "Sync translations", "\"Bump build to 2.45.0.25.\"", "\"Bump build to 2.45.0.26.\"", "Enable production feature flags.", "\"Bump build to 2.45.0.27.\"", "Enable beta feature flags", "\"Bump build to 2.45.0.28.\"", "Merge branch 'release/2.45.0'", "Fix draft handling", "Merge branch 'nt/draft-fix' into release/2.45.0", "Fix display of transient sticker packs.", "Merge branch 'charlesmchen/loadedTransientStickerPacks' into release/2.45.0", "Sync translations", "Enable production feature flags.", "\"Bump build to 2.45.0.29.\"", "Enable beta feature flags", "\"Bump build to 2.45.0.30.\"", "onboarding animations, remove \"not now\"", "Merge branch 'mkirk/onboarding-assets'", "Fix attachment keyboard", "Handle attachment keyboard orientation changes on iPad", "Show two rows of recent photos if there is space.", "Fix sticker keyboard orientation change on iPad", "PR Feedback", "Merge branch 'nt/attachment-keyboard-fixes2'", "Fix missing index on SignalAccount table.", "Respond to CR.", "Merge branch 'charlesmchen/signalAccountIndex'", "\"Bump build to 2.46.0.8.\"", "Add support for video trimming.", "Add support for video trimming.", "Add support for video trimming.", "Respond to CR.", "Respond to CR.", "Add support for video trimming.", "Merge branch 'charlesmchen/videoTrimming_'", "Don't unarchive threads due to migrations.", "Merge branch 'charlesmchen/unarchivedThreadsVsMigrations'", "\"Bump build to 2.46.0.9.\"", "Enable .grdbForAll.", "\"Bump build to 2.46.0.10.\"", "Revert \"Enable .grdbForAll\"\n\nThis reverts commit b10e104d7ad3713435232f58479db70442f34478.", "\"Bump build to 2.45.1.0.\" (Internal)", "Enable production feature flags.", "dont build CallUIAdapter until app is ready", "Merge branch 'mkirk/fix-grdb-first-launch'", "\"Bump build to 2.46.0.11.\" (Internal)", "Delete old and unused one-time prekeys.\n\nThanks Mikunj Varsani for the bug report.", "\"Bump build to 2.45.1.1.\"", "Merge tag '2.45.1.1'", "Add protection when terminating CallData object\n\nSome cases were found, mainly when white-box testing, where the\nSignalCallData object was being terminated twice. A state flag has\nbeen added to the class to ensure that a CallData object is only\nterminated once. This is related to quick hangup scenarios, where\nthe CallData object is copied to a deferred hangup list and later\nterminated after the RingRTC system is done with its operations.\n\nThe CallService.terminate() function itself was also arranged so that\nthe 'current' CallData object is nil'd out before it is actually\nterminated, in case the RingRTC close process, which is on another\nthread, takes a long time, and something else comes and tries to\nsee if there is current call.", "Remove unnecessary callData variable", "Merge branch 'jim/terminate-fix' into release/2.45.2", "Update RingRTC to v0.1.9.", "Update l10n strings.", "\"Bump build to 2.45.2.0.\"", "Merge tag '2.45.2.0'", "Fix merge breakage around loading message drafts.", "Update info Plist to reflect new RingRTC.", "Improve logging around perf bottlenecks around application state changes.", "Remove bottleneck in conversation list view change observation.", "Merge branch 'charlesmchen/blockedMainThread'", "Cache frequently-used prefs.", "Cache frequently-used prefs.", "Merge branch 'charlesmchen/cachePrefs'", "\"Bump build to 2.46.0.12.\"", "Enable \"GRDB for all\" for everyone exception production and beta users.", "\"Bump build to 2.46.0.13.\"", "Don't send sticker sync messages in response to sticker sync messages.", "Merge branch 'nt/sticker-sync'", "Update protos", "Restrict linking from older app versions", "Implement Fetch Latest sync message", "PR Feedback", "Merge branch 'nt/provisioning'", "rename OWSSyncGroupsRequestMessage -> OWSGroupInfoRequestMessage\n\nIt's not a sync message.", "configurable sync request message", "Sync Groups and Contacts", "redump schema - Note, this was manually touched up to work around the dropped singal account indices", "save sync job record attachments from orphan data cleaner", "de-sneakify transaction", "fixup class rename for serialized messages", "remove attachments when job is done", "include notification when changing disappearing timer", "CR: add todo comment", "CR: add debug assert", "de-dupe some debug generation logic", "update templates", "regen", "remove block from overwriting update, undeprecate upsert", "autorelease pool for imports", "clarify logging", "redump schema for order reproducible ordering consistent with incremental migrations", "Update pods", "wait for contact and group sync before showing inbox", "Merge branch 'mkirk/sync-groups'", "Handle group state changes in sent transcripts", "Merge branch 'nt/group-sent-transcripts'", "Update pods", "Apply design tweaks to video trimming experience.", "Fix trim rect for small snippets.", "Merge branch 'charlesmchen/videoUIRefinements'", "Log db writes on main thread.", "Try to avoid write transaction when fetching local thread.", "Move JobQueue write off main thread.", "Refine the main thread db write warning.", "Move AccountManager write off main thread.", "Respond to CR.", "Merge branch 'charlesmchen/blockedMainThread2'", "Update code generation to ensure consistent property ordering.", "Update code generation to ensure consistent property ordering.", "Update code generation to ensure consistent property ordering.", "Update code generation to ensure consistent property ordering.", "Merge branch 'charlesmchen/sdsPropertyOrdering_'", "\"Bump build to 2.46.0.14.\"", "Fix property ordering on SignalAccount.", "Merge branch 'charlesmchen/fixSignalAccountOrdering'", "\"Bump build to 2.46.0.15.\"", "storageCredentials renamed to backupCredentials", "Usernames can't start with a number", "Better presentation of username VC on iPad", "Merge branch 'nt/small-tweaks'", "Avoid superfluous registered and ready check", "Wait for all sync request responses on pull to refresh + provisioning", "Show an info message explaining why conversation history isn't synced.", "Message requests require social graph on server in order to support linked devices.", "Fix menu action image color", "Fix interactive pop toolbar positioning", "Merge branch 'nt/conversation-placeholder'", "Fix conversation list view animations.", "Fix conversation list view animations.", "Merge branch 'charlesmchen/conversationListAnimations'", "Fix attachment keyboard orientation handling", "Fix UI access off main thread during camera orientation work", "A better fix", "Merge branch 'nt/little-fixes2'", "PR Feedback", "Fix conversation list background coloring", "Merge branch 'nt/little-fixes3'", "Fix file sharing for iPad", "Merge branch 'nt/little-fixes4'", "Fix overaggressive contact assertion.", "Merge branch 'nt/fix-overaggressive-assertion'", "Insert new lines at cursor position, not end of message.", "Increase the maximum text input size for iPad", "Merge branch 'nt/little-fixes5'", "Add Groups protos.", "Update Cocoapods.", "Merge branch 'charlesmchen/groupsProtos'", "Reduce checkpoint logging.", "Merge branch 'charlesmchen/refineWalTruncation'", "Revert \"Merge branch 'charlesmchen/groupsProtos'\"\n\nThis reverts commit ede6b9823414dc2175e39feb7c2ea8d5f98c6473, reversing\nchanges made to 35271c6d3ef122dcf865b2adb3e6c7679eb8c81a.", "Try restart checkpoints.", "Try restart checkpoints.", "Reduce WAL restart frequency.", "Merge branch 'charlesmchen/refineWalTruncation2'", "\"Bump build to 2.46.0.16.\"", "skip formatting proto files", "update proto", "recreate sort order for synced conversations", "fix archive ignoring", "fixup timeout", "Fix sort order for YDB\n\nalso tweaked the grdb implementation to produce output identical to Yap's.", "Merge branch 'mkirk/import-order'", "Adjust some feature flags that shouldn't be QA", "\"Bump build to 2.46.0.17.\"", "Disable iPad.\n\nThis reverts commit 3001cc099521f3c146c10a5c1e01b70c9a042147.", "Set feature flags to 'GRDB for all in beta'.", "\"Bump build to 2.46.0.17.\"", "\"Bump build to 2.46.0.18.\"", "Merge tag '2.46.0.18'", "multiaccount label only makes sense when we have the context of which contact someone came from.\n\nWe have to trust that the syncing client already accounted for this in the contacts name field", "Merge branch 'mkirk/dont-apply-multiaccount-label'", "Apply new trash icon.", "Remove old trash icon.", "Merge branch 'charlesmchen/trashIcon'", "Fix video editor save button.", "Merge branch 'charlesmchen/videoEditorSaveButton'", "Clean up YDB files after migration to GRDB.", "Preserve YDB in beta and production builds.", "Merge branch 'charlesmchen/ydbCleanup'", "Add GroupManager.", "Add GroupManager.", "Add GroupManager.", "Add GroupManager.", "Add GroupManager.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/groupManager'", "Improve trim video perf.", "Cancel video export session.", "Respond to CR.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/trimVideoPerf'", "Update the download/save icon.", "Remove old save icon.", "Merge branch 'charlesmchen/downloadSaveIcon'", "Fix broken tests.", "Update Cocoapods.", "Fix more broken tests.", "Fix more broken tests.", "Merge branch 'charlesmchen/fixBrokenTests'", "Respond to CR.", "Don't update content insets while swipe to go back", "Merge branch 'nt/swipe-back'", "\"Bump build to 2.46.0.19.\"", "Be more restrictive about incoming view once messages.", "Be more restrictive about incoming view once messages.", "Merge branch 'charlesmchen/strictViewOnce'", "\"Bump build to 2.46.0.20.\" (Internal)", "\"Bump build to 2.46.0.21.\" (Internal)", "Fix handling of sync transcripts for view once messages in groups.", "Merge branch 'charlesmchen/viewOnceGroupSyncTranscripts'", "\"Bump build to 2.46.0.22.\"", "Update l10n strings.", "\"Bump build to 2.46.0.23.\"", "\"Bump build to 2.46.0.24.\"", "Fix regressions in group manager changes.", "\"Bump build to 2.46.0.25.\"", "\"Bump build to 2.46.0.26.\"", "update staging enclave ids", "log error details", "Merge branch 'mkirk/backup-enclave'", "Add change collection to database snapshots.", "Track thread changes in conversation view snapshots.", "Track thread changes in conversation view snapshots.", "Respond to Cr.", "Merge branch 'charlesmchen/changeCollection'", "Respond to CR.", "Respond to Cr.", "Don't auto-add local user to member list when creating a group model.", "Merge branch 'charlesmchen/groupsVsLocalUser'", "\"Bump build to 2.46.0.27.\"", "increase timeout for initial sync", "Merge branch 'mkirk/increase-sync-time'", "Fix provisioning URL to prevent android from crashing", "Use URL safe base64 encoding for provisioning url", "User-agent should not be required, android doesn't provide it.", "Android also doesn't require readReceipts", "Merge branch 'nt/little-fixes7'", "Fix message status view rendering outside of stackView bounds.", "Fix contentOffset restoration after message actions in conversation split", "Dismiss the keyboard before presenting message actions if we're not full screen", "Dismiss -> Cancel", "Don't show synced message in conversation list or below date", "Merge branch 'nt/little-fixes6'", "Match exactly how desktop encodes the URI params, so android can parse them.", "Handle the key type android prepends to their identity public key.", "Merge branch 'nt/android-provisioning-fixes'", "\"Bump build to 2.46.0.28.\" (Internal)", "Fix crash in contacts manager.", "Merge branch 'charlesmchen/comparableNameCrash'", "Fix divide-by-zero crash.", "Merge branch 'charlesmchen/videoTimelineCrash'", "Allow switching onboarding mode", "Add QR code support link", "PR Feedback", "Merge branch 'nt/ipad-reg'", "Fast thread deletion.", "Merge branch 'charlesmchen/threadDeletes'", "Add \"needs update\" flag to conversation view item.", "Reload UICollectionView by section.", "Respond to CR.", "Merge branch 'charlesmchen/cellsNotReloading'", "\"Bump build to 2.46.0.29.\" (Internal)", "\"Bump build to 2.46.0.30.\" (Internal)", "\"Bump build to 2.46.0.31.\" (Internal)", "Apply group manager in tests.", "Apply group manager in tests.", "Apply group manager in tests.", "Merge branch 'charlesmchen/groupManager2'", "Don't use UICollectionView.reloadSections() until view has appeared.", "Merge branch 'charlesmchen/reloadSectionsBeforeViewHasAppeared'", "\"Bump build to 2.46.0.32.\" (Internal)", "\"Bump build to 2.46.0.33.\" (Internal)", "Revert \"Merge branch 'charlesmchen/groupManager2'\"\n\nThis reverts commit 26fd0d08123d90b001363a6ceae4ec1476b9632e, reversing\nchanges made to c17865b7506ac7ce3398288c5fa28c559d889121.", "\"Bump build to 2.46.0.34.\" (Internal)", "\"Bump build to 2.46.0.35.\" (Internal)", "Revert \"Revert \"Merge branch 'charlesmchen/groupManager2'\"\"\n\nThis reverts commit 7530dee591b1f841dae1ce0e8597ff4656896c3d.", "Fix build breakage.", "avoid large reset assert", "fixup doc", "Merge branch 'mkirk/fix-large-writes'", "better baseclass logging", "Merge branch 'mkirk/more-benching'", "fix sticker installation race", "dont crash in debug when a network error occurs", "avoid assert", "Merge branch 'mkirk/avoid-sticker-assert'", "Don't preserve YDB database after migration.", "Merge branch 'charlesmchen/dontPreserveYdb'", "Delete threads sync.", "Merge branch 'charlesmchen/deleteThreadSync'", "\"Bump build to 2.46.0.36.\" (Internal)", "\"Bump build to 2.46.0.37.\" (Internal)", "Fix build break.", "Merge branch 'charlesmchen/testableFactories'", "\"Bump build to 2.46.0.38.\" (Internal)", "\"Bump build to 2.46.0.39.\" (Internal)", "Respond to CR.", "Combine row ids.", "Merge branch 'charlesmchen/rowIds'", "Fix broken test.", "Fix local profile after initial linking", "PR Feedback", "Avoid race in profile manager.", "Merge branch 'nt/profile-key-fix'", "Fix a bug where two conversations could be in the nav stack", "Add some protection against a conversation ever being shown in the master portion of the split view", "Merge branch 'nt/detail-view-fix'", "Fix test broken by group manager.", "Merge branch 'charlesmchen/groupManagerVsTests'", "Perform restart checkpoints more often.", "Further increase restart checkpoint frequency.", "Merge branch 'charlesmchen/moreRestartCheckpoints'", "Remove spurious assert.", "Merge branch 'charlesmchen/threadMappingAssert'", "Ignore typing indicators in message search results.", "Merge branch 'charlesmchen/messageResultsVsTypingIndicators'", "avoid assertion failure\n\nnone of the underlying errors are (currently) retryable anyway, so there's no\nharm in *never* retrying unless we add some retryable error later.", "Fix mispelling.", "Merge branch 'mkirk/avoid-assert'", "Fix capture orientation\n\n- only access interfaceOrientation on main thread\n- capture initial image in lanscape when appropriate", "Mix mispelling.", "Merge branch 'mkirk/camera-orientation'", "copy update", "Merge branch 'mkirk/copy-update'", "crop to reflect capture dimensions", "Merge branch 'mkirk/camera-crop'", "Fix animation when sending a message", "Merge branch 'nt/little-fixes10'", "Fix freeze/crash in gallery\n\nIf for whatever reason we can't load the underlying image, we must return nil\nand call the failure handler. Otherwise the thumbnailing service doens't know\nwhat to do with an empty image.", "Merge branch 'mkirk/gallery-crash'", "Provisioning message will not always contain a UUID", "Update to final QR code error strings", "Merge branch 'nt/little-fixes11'", "Attempt to fix Bench crashes", "Merge branch 'nt/little-fixes12'", "Store KBS keys in the database instead of the keychain", "Fix nested transaction", "Merge branch 'nt/kbs-fixes'", "Update l10n strings.", "Enable Hindi and Malay localizations.", "Disable iPad.\n\nThis reverts commit 3001cc099521f3c146c10a5c1e01b70c9a042147.", "Set feature flags to 'GRDB for all in beta'.", "\"Bump build to 2.46.0.40.\"", "Enable iPad.\n\nThis reverts commit 3542cd8ff96724c41ea2559bad0a845c7664a897.", "\"Bump build to 2.46.0.41.\"", "Avoid transaction-within-transaction when updating last visible sort id in conversation view.", "Merge branch 'charlesmchen/lastVisibleSortIdTransactionWithinTransaction' into release/2.46.0", "fixup logging", "Merge branch 'mkirk/fixup-logging' into release/2.46.0", "Revert accidental schema change.", "\"Bump build to 3.0.0.0.\" (Internal)", "\"Bump build to 3.0.0.1.\" (Internal)", "Sync translations", "Feature flags for beta", "\"Bump build to 3.0.0.2.\"", "Touch thread when touching interaction.", "Merge remote-tracking branch 'private/release/3.0.0'", "Set feature flags to .qa.", "Update service proto schema for groups v2.", "Merge branch 'charlesmchen/serviceProtosVsGroupsV2'", "All writes return results.", "Remove readReturningResult().", "Merge branch 'charlesmchen/allWritesReturningResults'", "Merge branch 'charlesmchen/touchInteractionAndThread' into release/3.0.0", "Add Reaction Model", "Reaction protos", "Reaction finder", "Reaction cleanup", "Handle incoming reactions", "Reaction sending", "PR Feedback", "Merge branch 'nt/reactions'", "update SCK", "Fix index ordering and off by 1\n\nROW_NUMBER starts at 1, but we were treating the result as if it were 0 based.", "fix overzealous assert", "theme \"empty gallery\" view", "fix up \"load entire album\"", "Merge branch 'mkirk/debug-gallery-finder' into release/3.0.0", "Video trimming edge cases.", "Merge branch 'charlesmchen/videoTrimmingImprovements' into release/3.0.0", "Sync translations", "\"Bump build to 3.0.0.3.\"", "Merge branch 'release/3.0.0'", "Ignore duplicate objects in YDB enumerations.", "Avoid duplicate sort ids in migrated interactions.", "Avoid duplicate sort ids in migrated interactions.", "Avoid duplicate sort ids in migrated interactions.", "Avoid duplicate sort ids in migrated interactions.", "Avoid duplicate sort ids in migrated interactions.", "Merge branch 'charlesmchen/duplicateSortIds' into release/3.0.0", "\"Bump build to 3.0.0.4.\" (Internal)", "\"Bump build to 3.0.0.5.\"", "Fix precommit, git-clang-format doesn't like spaces between extension type", "Hide unrestricted UD setting from linked devices", "Merge branch 'nt/hide-unrestricted-ud' into release/3.0.0", "dont change order of downloaded attachments", "Merge branch 'mkirk/dont-clobber-attachment-ids' into release/3.0.0", "Match typing indicator avatar size to message bubble", "No more SignalsNavigationController", "Fix infinite loop while dismissing keyboard interactively", "Merge branch 'nt/little-fixes13' into release/3.0.0", "Sync translationos", "\"Bump build to 3.0.0.6.\"", "Fix missing constant.", "\"Bump build to 3.0.0.7.\"", "Merge branch 'release/3.0.0'", "\"Bump build to 3.0.0.8.\" (Internal)", "fixup logging", "Merge branch 'mkirk/fixup-logging-1' into release/3.0.0", "\"Bump build to 3.0.0.9.\" (Internal)", "\"Bump build to 3.0.0.10.\" (Internal)", "\"Bump build to 3.0.0.11.\" (Internal)", "Run new user migrations whenever grdb file doesn't exist", "Ensure new-user schema migrations run\n\nThe \"file exists\" check doesn't work, because GRDB itself automatically creates\nthe database earlier on, so instead we inspect if any migrations exist in the\nmigrations table.\n\nalso removes a spurious main-thread check for a non-ui db accessor and renames\nit to be more ergonomic.", "work around missing grdb_migrations table", "Merge branch 'mkirk/previous-launch' into release/3.0.0", "\"Bump build to 3.0.0.12.\" (Internal)", "Sync translationos", "\"Bump build to 3.0.0.13.\"", "Fix crash when canceling SAE\n\nSeeing on iOS13 at least, an error while trying to bridge error types:\n\n0   libswiftFoundation.dylib        0x00000001b6714580 $sSo10CFErrorRefas5Error10FoundationsACP7_domainSSvgTW + 44 (NSError.swift:343)\n1   libswiftCore.dylib              0x000000018e43f77c $ss23_getErrorDomainNSStringyyXlSPyxGs0B0RzlF + 44 (ErrorType.swift:140)\n2   libswiftCore.dylib              0x000000018e6bfab8 _swift_stdlib_bridgeErrorToNSError + 216 (ErrorObject.mm:434)\n3   SignalShareExtension            0x0000000102f4f348 closure #1 in ShareViewController.shareViewWasCancelled() + 748 (ShareViewController.swift:512)\n4   SignalShareExtension            0x0000000102f498ec thunk for @escaping @callee_guaranteed () -> () + 28 (<compiler-generated>:0)\n5   UIKitCore                       0x0000000184889f04 __99-[UIViewController _dismissViewControllerWithAnimationController:interactionController:comple... + 32 (UIViewController.m:8103)\n\nPassing back a swift error avoids this. Presumably setting a domain on the NSError would also work.", "Merge branch 'mkirk/fix-sae-cancel-crash' into release/3.0.0", "Only show sticker keyboard command if you have sticker send ability", "Fix cursor visiblity on CNContactViewController", "Fix rough transition when presenting contact view controller", "Fix CNContactViewController cancel on iOS 13", "Don't loop around when changing conversation with keyboard shortcuts", "Present keyboard when changing conversation with keyboard shortcuts", "Fix pixelated logo on launch screen", "Merge branch 'nt/little-fixes14' into release/3.0.0", "\"Bump build to 3.0.0.14.\" (Internal)", "Fix conversation view reload.", "Merge branch 'charlesmchen/conversationViewReset' into release/3.0.0", "Merge remote-tracking branch 'private/release/3.0.0'", "No shadows on avatars", "Merge branch 'nt/little-fixes15' into release/3.0.0", "\"Bump build to 3.0.0.15.\"", "Add GRDB schema version check to prevent reversion.", "Respond to CR.", "Merge branch 'charlesmchen/grdbSchemaVersionCheck' into release/3.0.0", "Update share extension's text flow to use new approval design.", "Merge branch 'charlesmchen/shareExtensionTextFooter' into release/3.0.0", "Restore the group proto changes.", "Update proto wrappers for group v2 protos (proto3, swift-only, free-standing enums, etc.)", "Update proto wrappers for group v2 protos (proto3, swift-only, free-standing enums, etc.) (generated changes).", "Update Cocoapods.", "Merge branch 'charlesmchen/groupsProtos2_'", "Rework profile fetch.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/reworkProfileFetch'", "Rework TSConstants.", "Update Cocoapods.", "Merge branch 'charlesmchen/reworkTSConstants'", "Versioned profiles, part 1.", "Update Cocoapods.", "only track deletes", "remove unused code", "clarify various intents of delete method", "Merge branch 'mkirk/only-watch-deletes' into release/3.0.0", "Respond to CR.", "Merge branch 'charlesmchen/versionedProfiles1'", "\"fake send\" sends actual images", "debug ui sends valid galleries in fake message sends", "gallery record to correctly order gallery attachments", "perf updates: spending 2% of our time finding the cache directory", "redundantly clean up gallery items when clearing all content", "index enforces only one row per attachment", "favor smaller albums", "Merge branch 'mkirk/gallery-records' into release/3.0.0", "Fix quoted reply thumbnails on outgoing messages.", "Merge branch 'nt/little-fixes16' into release/3.0.0", "Sync translationos", "\"Bump build to 3.0.0.16.\"", "Keys sync message protos", "Derive storage service key, send keys sync message.", "Allow conforming to sync manager stuff in Swift", "Handle inbound key sync message on iPad", "PR Feedback", "Merge branch 'nt/social-graph-tweaks'", "Use standard message sending queue for reaction messages", "Show reaction bubbles on messages.", "PR Feedback", "Merge branch 'nt/reactions'", "Remove obsolete assert.", "Refine notifications.\n\nThanks to teor at The Tor Project.", "Merge branch 'charlesmchen/refineNotifications1' into release/3.0.0", "Update l10n strings.", "FIX: some info messages not marked as read", "Merge branch 'mkirk/mark-as-read' into release/3.0.0", "Update the enclave constants.", "Merge branch 'charlesmchen/enclaveConstants'", "Disable bitcode.", "Respond to CR.", "Merge branch 'charlesmchen/bitcode'", "\"Bump build to 3.0.0.17.\"", "Merge branch 'release/3.0.0'", "Update and fetch versioned profiles.", "Clean up ahead of PR.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/versionedProfiles2'", "better logging of filesize/resolutions", "Full screen capture with higher quality preview and output.", "clarifying comments/logging", "asserts", "Merge branch 'mkirk/full-screen-capture-resize-photo'", "avoid redundantly cleaning up datasource", "Merge branch 'mkirk/avoid-double-dealloc-assert'", "Add \"tap to focus\" animation", "Merge branch 'mkirk/video-tap-to-focus'", "New long press message actions", "PR Feedback", "Merge branch 'nt/reactions'", "Feature flags for production", "Sync translationos", "\"Bump build to 3.0.0.18.\"", "Video Lock", "fade out button hiding when appropriate", "use bespoke api", "Merge branch 'mkirk/video-lock'", "crossfade to approval screen", "avoid spurious assert", "remove redundant copy", "Merge branch 'mkirk/video-transitions'", "update existing signal account", "clean up duplicate signal accounts, add unique index", "SignalRecipient debug ui", "dedupe as part of YDB mgiration", "remove unused code\n\nThere's not much value in merging the deviceIds. In the event of newly registered users, we'll get them after the next intersection.\n\nFor users we're actively messaging, we'll update the deviceIds via usual server device conflict resolution.", "avoid watchdog assert", "Merge branch 'mkirk/missing-account' into release/3.0.1", "\"Bump build to 3.0.1.0.\"", "Merge branch 'release/3.0.1'", "Ignore 2.46.0.26", "ImageEditor expects rendering on the main thread\n\n...otherwise we hit an assert.\n\nI believe this was broken when moving attachmentPromise generating behind a\nmodal activity VC when we added trimmed-video rendering.", "Merge branch 'mkirk/image-rendering-is-main-thread'", "Explicitly end AudioActivity when call ends", "Merge branch 'mkirk/voice-note-after-call'", "Fix sleep manager v. main thread", "Merge branch 'mkirk/main-thread-sleep'", "Merge branch 'mkirk/missing-account' into release/3.0.0", "production feature flags", "Sync translations", "\"Bump build to 3.0.0.19.\"", "Merge branch 'release/3.0.0' into release/3.0.1", "\"Bump build to 3.0.1.1.\"", "Merge branch 'release/3.0.1'", "fix navbar insets", "Merge branch 'mkirk/fix-photo-navbar'", "fixup gallery view rounding", "Merge branch 'mkirk/fixup-gallery-layout-on-landscape-plus-size'", "migrate kv store", "Merge branch 'mkirk/migrate-kv-store' into release/3.0.1", "Migrate more key-value stores.", "Merge branch 'charlesmchen/migrate-kv-store-2' into release/3.0.1", "\"Bump build to 3.0.1.2.\"", "these profile manager methods are now thread safe", "Merge branch 'mkirk/overzealous-assert-1'", "Consolidate redunant methods, remove unused methods\n\nNo change in functionality.", "clarify API", "request group info when desktop has previously synced an unknown group", "Merge branch 'mkirk/unknown-groups'", "Reaction sending", "PR Feedback", "Merge branch 'nt/reactions'", "Merge branch 'release/3.0.1'", "\"Bump build to 3.0.2.0.\"", "Reduce logging of phone number parsing.", "Merge branch 'charlesmchen/phoneNumberParsingVsLogs' into release/3.0.2", "re-index media gallery", "Merge branch 'mkirk/reindex-gallery' into release/3.0.2", "\"Bump build to 3.0.2.1.\"", "Merge tag '3.0.2.1'", "\"Bump build to 3.1.0.0.\" (Internal)", "\"Bump build to 3.1.0.1.\" (Internal)", "Allow building when the path to the project contains spaces.", "Use native dimension of image view on both launch screen and privacy overlay.", "Use native dimension of image view on loading screen.", "create callUIAdapter after registering", "Merge branch 'mkirk/call-crash' into release/3.0.3", "\"Bump build to 3.0.3.0.\"", "Enqueue profile updates.", "Enqueue profile updates.", "Enqueue profile updates.", "Enqueue profile updates.", "Enqueue profile updates.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Tweak retry behavior.", "Respond to CR.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/versionedProfiles3'", "\"Bump build to 3.1.0.2.\" (Internal)", "Fix reaction bubbles during swipe to reply", "Always render the local user's reaction, even if there are more popular reactions", "If reactionsReceive is off, adjust our supported protocol version", "Don't show reaction bubbles if receive is disabled", "Ensure group reactions include group data on dataMessage", "Reactions detail view", "Notify for incoming reactions to your message", "Handle reactions in sent transcripts", "Fix bug with outgoing reaction decoding", "PR Feedback", "Merge branch 'nt/reactions'", "\"Bump build to 3.1.0.3.\" (Internal)", "Enable universal links; handle signal.art links.", "Improve URL handling.", "Merge branch 'charlesmchen/universalLinks'", "Log GRDB SQL syntax errors in DEBUG builds.", "Merge branch 'charlesmchen/grdbLogging_'", "Refine sticker pack view presentation on iPad; fix sticker pack view background.", "Merge branch 'charlesmchen/stickerPackViewVsIpad'", "Fix crash after uninstalling sticker pack.", "Respond to CR.", "Merge branch 'charlesmchen/crashAfterUninstallingStickerPack'", "Add comment around missing attachment downloads.", "Rework new group new creation & group updates.", "Respond to CR.", "Respond to CR.", "Fix nested transaction in \"upsert group\" logic.", "Update Cocoapods.", "Merge branch 'charlesmchen/groupsV2Part1_'", "Don't setup pins on linked devices.", "Merge branch 'charlesmchen/pinsForEveryoneVsLinkedDevices'", "Update reaction picker styling", "Updated reaction picker animations", "Order reactors by primary key instead of timestamp", "Merge branch 'nt/reactions'", "Reduce cost of enumerating special messages.", "Merge branch 'charlesmchen/unseenSpecialMessages'", "Merge tag '3.0.3.0'", "Rework new group new creation & group updates.", "Fix broken tests.", "Clean up ahead of PR.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2Part2__'", "Clean up group manager.", "Merge branch 'charlesmchen/groupsV2Part3'", "Explanatory text for Note To Self", "note to self avatar", "Merge branch 'mkirk/explain-note-to-self'", "capture screen: remove bottom gap for iPad pro", "Merge branch 'mkirk/ipad-pro-camera'", "Reduce cost of enumerating special messages.", "Merge branch 'charlesmchen/crashAfterUninstallingStickerPack'", "Proto updates", "Update storage service staging url, feature flags to reflect production availability of KBS and storage service", "Update to new generic storage service APIs", "Track storage identifiers of unknown type", "Merge branch 'nt/storage-service3'", "Ensure the snapshot is always below the bottom bar", "Merge branch 'nt/reactions'", "fix janky animation when table resizes due to pinning to keyboard", "Merge branch 'mkirk/contact-blurp'", "de-dupe sync/system contacts", "Merge branch 'mkirk/dupe-contacts' into release/3.0.4", "Fix some accessibility labels", "Merge branch 'nt/accessibility-fixes' into release/3.0.4", "Merge remote-tracking branch 'ZevEisenberg/bugfix/zeveisenberg/allow-building-in-paths-with-spaces' into release/3.0.4", "Merge remote-tracking branch 'ZevEisenberg/bugfix/zeveisenberg/launch-screen-consistency' into release/3.0.4", "Sync translations", "\"Bump build to 3.0.4.0.\"", "Merge branch 'release/3.0.4'", "Update reaction feature flags", "\"Bump build to 3.1.0.4.\"", "ignore unmarked internal build", "Fix share sheet for iPad", "Merge branch 'nt/share-sheet-fix' into release/3.0.4", "\"Bump build to 3.0.4.1.\"", "Merge branch 'release/3.0.4'", "\"Bump build to 3.1.0.5.\"", "Improve perf of enumerating safety number changes.", "Include disappearing messages timer in reaction messages", "Reaction receive should be on for everyone", "Merge branch 'nt/reactions-fix'", "\"Bump build to 3.1.0.6.\" (Internal)", "Add perf test around enumerating special messages.", "Add perf test around enumerating special messages.", "Respond to CR.", "Merge branch 'charlesmchen/unseenSpecialMessages2' into release/3.0.5", "\"Bump build to 3.0.5.0.\"", "Merge remote-tracking branch 'private/release/3.0.5' into release/3.0.6", "\"Bump build to 3.0.6.0.\"", "Merge tag '3.0.6.0'", "ignore reaction messages", "Merge branch 'mkirk/ignore-reactions'", "Revert group and profile changes.", "Fix broken tests.", "\"Bump build to 3.1.0.7.\" (Internal)", "update view once icons\n\nremove unused timer icon", "Show profile name in reaction detail sheet", "Merge branch 'nt/reaction-fixes' into release/3.1.0", "Enable sticker send feature flag.", "Merge branch 'charlesmchen/stickerSendFeatureFlag' into release/3.1.0", "full screen capture on iPhoneX until we get full design", "hang animation until focus completes", "Focus animation was too fast", "Merge branch 'mkirk/camera-improvements' into release/3.1.0", "sticker pack link previews should open in app\n\nThis already worked for link text, but for the link preview we were opening the browser.", "Merge branch 'mkirk/open-link-preview-inapp' into release/3.1.0", "more permissive feature flag", "more logging around push registration failure checking", "Merge branch 'mkirk/push-registration-logging' into release/3.1.0\n[07:40:35] ~\n$ tmux attach\n\n  1 Merge branch 'mkirk/push-registration-logging' into release/3.1.0\n  2 # Please enter a commit message to explain why this merge is necessary,\n  3 # especially if it merges an updated upstream into a topic branch.\n  4 #\n  5 # Lines starting with '#' will be ignored, and an empty message aborts\n  6 # the commit.\n~\n~\n~\n~\n~\n~\n~\n~\n~\n~\n~\n~\n~\n~\n~\n~\n~\n~\n~\n~                                                                                                                                                                                                                the commit.", "Finalize the sticker splash.", "Finalize the sticker splash.", "Respond to CR.", "Merge branch 'charlesmchen/stickerSplash' into release/3.1.0", "Fix typo in PushRegistrationManager.", "Fix descriptions of key requests.", "Merge branch 'charlesmchen/descriptionKeyRequest' into release/3.1.0", "Remove overzealous assert.", "Write copies of sticker packs to the database.", "Merge branch 'charlesmchen/reinsertionAssert' into release/3.1.0", "Add cache for sticker downloads.", "Respond to CR.", "Merge branch 'charlesmchen/stickerPackDownloadCache' into release/3.1.0", "Fix some sticker pack view controller presentation issues", "Make sure the sticker paging is correct after a pack is installed / removed", "Dismiss the sticker keyboard if all packs are uninstalled", "Always dark forward icon on sticker pack vc", "Don't update the sticker pack content during dismissal", "Dismiss the sticker pack view immediately after install to avoid a long delay", "Fix keyboard height when using a hardware keyboard", "Merge branch 'nt/little-sticker-fixes2' into release/3.1.0", "increase top bar button hot areas", "Don't show initial focus point", "Merge branch 'mkirk/dismiss-button-tap-target' into release/3.1.0", "disable sticker send for beta", "\"Bump build to 3.1.0.8.\"", "remote quote source", "Merge branch 'mkirk/quote-fixup' into release/3.1.0", "fix hang after presenting message actions\n\nWe were only removing the message actions view from the hierarchy when the\nReactions view was presented.", "Merge branch 'mkirk/hang-on-delete' into release/3.1.0", "refactor - no change in functionality", "show call alerts from call window", "Merge branch 'mkirk/video-call-alert' into release/3.1.0", "Fix squashed \"done\" button with small text size", "Merge branch 'mkirk/squashed-done-button' into release/3.1.0", "overzealous assert", "overzealous assert for simulator", "Finesse iPad margins", "flip video-lock swipe direction for ipad", "highlight view should initially be invisible", "Merge branch 'mkirk/ipad-camera-fixes' into release/3.1.0", "update RingRTC to v0.3.0", "\"Bump build to 3.1.0.9.\"", "Merge tag '3.1.0.9'", "Always show modal activity indicator when installing and uninstalling sticker packs.", "Install default packs async.", "Merge branch 'charlesmchen/stickerActivityIndicator' into release/3.1.0", "Fix Xcode 11 issues while not making Xcode 11 mandatory yet", "Merge branch 'nt/xcode-11-little-fixes' into release/3.1.0", "Fix Sticker Pack View blur", "Merge branch 'nt/little-sticker-fixes5' into release/3.1.0", "fix misplaced focus animation\n\nWithout constraints, AnimationView loses it's positioning during layout", "Don't show animation if it's in the bottom row.", "Merge branch 'mkirk/misplaced-focus' into release/3.1.0", "replace outdated save icon", "Merge branch 'mkirk/save-icon' into release/3.1.0", "\"Bump build to 3.1.0.10.\"", "Fix crash when tapping downloading attachment\n\n\u2764\ufe0f Thanks to @pwallrich for the report and investigation!\n\nFixes #4337", "Merge branch 'mkirk/tap-attachment-pointer' into release/3.1.0", "fix: cannot swipe to last image after album\n\n- receive an album \"A\" with 7 items\n- receive an album \"B\" with 1 item\n- tap on the first item in the A\n- swipe to the end. You cannot get to B by swiping", "Merge branch 'mkirk/album-swipe' into release/3.1.0", "\"Bump build to 3.1.0.11.\"", "Merge tag '3.1.0.11'", "Update sticker icon.", "Update sticker icon.", "Merge branch 'charlesmchen/stickerIcon' into release/3.1.0", "Sort when enumerating unseen interactions.", "Respond to CR.", "Merge branch 'charlesmchen/unreadIndicatorSort' into release/3.1.0", "De-bounce group info requests.", "Merge branch 'charlesmchen/debounceGroupInfoRequests' into release/3.1.0", "disable camera switch while recording movie", "Merge branch 'mkirk/disable-flip-while-recording' into release/3.1.0", "Add share button for media in message actions, fix message details gallery share", "add missing share asset", "Merge branch 'nt/message-actions-sharing' into release/3.1.0", "make movie lock more visible", "Merge branch 'mkirk/more-visible-video-lock' into release/3.1.0", "\"Bump build to 3.1.0.12.\"", "Add blessed sticker packs.", "Add blessed sticker packs.", "Merge branch 'charlesmchen/stickersBlessedPacks' into release/3.1.0", "enable sticker send", "\"Bump build to 3.1.0.13.\"", "Merge tag '3.1.0.13'", "Show blessed pack authors in blue.", "Merge branch 'charlesmchen/blessedAuthorColor' into release/3.1.0", "Update sticker splash animation.", "Merge branch 'charlesmchen/stickerSplashV2' into release/3.1.0", "sync translations", "Use transient data sources for uninstalled blessed packs.", "Merge branch 'charlesmchen/uninstalledBlessedPacks' into release/3.1.0", "Animate sticker pack presentation from link preview", "Fix sticker pack view sizing after sharing", "Merge branch 'nt/little-sticker-fixes6' into release/3.1.0", "\"Bump build to 3.1.0.15.\"", "Merge tag '3.1.0.15'", "dev feature flags", "\"Bump build to 3.1.0.17.\"", "Merge tag '3.1.0.17'", "dry up debug UI", "Merge branch 'mkirk/dry-debug'", "Fix broken layout after becoming active in landscape photo capture\n\nrepro:\n\n1. screen protection enabled\n2. phone in portrait\n3. tap camera first capture\n4. rotate phone to landscape\n5. drag down systems notifications view\n6. return to app\n7. capture screen has the wrong orientation\n7. sometimes capture screen has the wrong dimensions (portrait length applied to landscape side)\n\nThe issue is related to our screenlock window juggling. We typically enforce\norientation based on the main windows rootViewController orientation mask.\nPreviously this was almost always an OWSNavigationController which would\ndelegate its calls to one to a nav delegate or one of it's children view controllers.\n\nWe lost this when we switched to having the ConversationSplitViewController be our rootViewController", "Merge branch 'mkirk/activate-vs-capture' into release/3.1.0", "production build", "\"Bump build to 3.1.0.18.\"", "Merge tag '3.1.0.18'", "Show info message context only when appropriate", "Merge branch 'mkirk/contact-name-for-info-notifications' into release/3.1.0", "\"Bump build to 3.1.0.19.\"", "Merge tag '3.1.0.19'", "dimiss any presented keyboard when presenting sticker view\n\nTo reproduce:\n\n1. pop keyboard\n2. open external app, e.g. twitter, and tap on sticker share url\n3. you're back in Signal with the sticker share UI presented, but the CVC keyboard is *on top*.", "Merge branch 'mkirk/sticker-obscured-by-keyboard' into release/3.1.0", "\"Bump build to 3.1.0.20.\"", "Merge tag '3.1.0.20'", "ContactOffersInteractions should not be saved", "regen", "manually remove generated code", "remove more unnecessary ContactOffersCell code", "Merge branch 'mkirk/contact-offers-codegen'", "cant sync keys before youre registered", "Merge branch 'mkirk/dont-sync-before-registered'", "Allow but don't require UUIDs in serviceIdentifier.", "Merge branch 'charlesmchen/allowButDontRequireUuids'", "\"Bump build to 3.1.1.0.\" (Internal)", "debounce markAsRead", "ordering is expensive, only do it when necessary", "Merge branch 'mkirk/debug-send-hang' into release/3.1.1", "\"Bump build to 3.1.1.1.\"", "Merge remote-tracking branch 'private/release/3.1.1'", "Add \"view once\" tooltip.", "Add \"view once\" tooltip.", "Respond to CR.", "Merge branch 'charlesmchen/viewOnceTooltip' into release/3.2.0", "Respond to CR.", "Enable 'view once' feature flag.", "\"Bump build to 3.2.0.0.\" (Internal)", "Fix build breakage.", "\"Bump build to 3.2.0.1.\" (Internal)", "Fix navigation bar sizing on iPad slide over", "Fix iOS 13 SDK NSData scrubbing", "Use Xcode 11.3 debug RingRTC build for now", "Add AppStore specific entitlements files", "Feature flags for beta", "Fix development team", "Merge branch 'nt/xcode-11.3' into release/3.2.0", "\"Bump build to 3.2.0.2.\" (Internal)", "use bench", "overzealous assert for quoted replies", "debug ui: don't reset count when batch creating messages", "fixup tests", "Windowed conversation loading", "Merge branch 'mkirk/windowed-conversation-rendering'", "Using RingRTC podspec to make swift version independent (currently using dev\nversion of v0.2.0)", "RingRTC v0.3.1", "Convert to just using CocoaPods for dependencies", "Add a note on where the WebRTC framework file comes from", "Convert to using cocoapods-binary for ZXing", "Update pods reference and readme", "Production build of ZXingObjC 3.6.4", "Fix readlink from cocoapods-binary", "PR Feedback", "Update info.plist", "Merge branch 'nt/ringrtc-podspec' into release/3.2.0", "Always migrate to GRDB; show notification during background migrations.", "Always migrate to GRDB; show notification during background migrations.", "Handle error cases in share extension including GRDB migration.", "Tweak order of share extensions launch checks.", "Copy changes from Josh", "Merge branch 'charlesmchen/grdbForAll' into release/3.2.0", "replace missing protocol conformance", "fixup overzealous assert", "ConversationSearch", "Merge branch 'mkirk/conversation-search-2'", "Increase sticker size in conversation", "avoid undesirable vertical scroll in sticker recommender", "Merge branch 'mkirk/sticker-fixes'", "Avoid flash when long pressing between stickers.", "Fix top/bottom margin on conversation list cell", "Fix conversation header after theme change", "Build WebRTC with Xcode 10.3", "Merge branch 'nt/little-fixes17' into release/3.2.0", "Update pods", "aspectFit for stickers", "Merge branch 'mkirk/sticker-fixes-2'", "Fix media zoom crash vs. thread details", "Merge branch 'mkirk/fix-media-zoom-crash'", "Merge branch 'release/3.2.0'", "Merge branch 'master' into release/3.2.0", "\"Bump build to 3.2.0.3.\"", "Production build of ZXingObjC 3.6.4", "\"Bump build to 3.2.0.4.\"", "Merge branch 'release/3.2.0'", "expects to be called on main thread", "Merge branch 'mkirk/fix-assert-2' into release/3.2.0", "Fix skipped focus animation on ipad", "finish outstanding focus animation when tapping in dead zone", "Merge branch 'mkirk/focus-animation' into release/3.2.0", "Update to SignalRingRTC 0.3.2", "Merge branch 'nt/ringrtc-0.3.2' into release/3.2.0", "Add translations for Slovak", "Sync translations", "\"Bump build to 3.2.0.5.\"", "Fix misordered recipient picker\n\nsort whenever updating signal accounts", "Merge branch 'release/3.2.0'", "Merge branch 'mkirk/fix-contact-sort-order' into release/3.2.0", "tweak sanity check", "Merge branch 'mkirk/overzealous-assert-4' into release/3.2.0", "avoid expensive redundant computation of non-truncated text alignment", "Merge branch 'mkirk/displayable-text-perf' into release/3.2.0", "Sync translations", "\"Bump build to 3.2.0.6.\"", "Merge branch 'release/3.2.0'", "FIX: not showing updates to some messages\n\npartial revert of 5c5deae which introduced an overzealous perf optimization.\n\nThe Conversation VC doesn't do any updates if it's thread wasn't marked as\nupdated.", "Merge branch 'mkirk/delete-updates' into release/3.2.0", "Improve logging of TSRequest.", "Use serial queue when marking messages as read.", "Avoid FTS writes using reads.", "Reduce transactions when marking messages as read.", "Clean up ahead of PR.", "Respond to CR.", "Merge branch 'charlesmchen/markAsReadPerf' into release/3.2.0", "Include expiration timer in view once sync messages", "Fix matching system theme", "Merge branch 'nt/little-fixes19' into release/3.2.0", "remove unused search path", "fix test build\n\nremove unnecessary system libraries include", "update pods", "Merge branch 'mkirk/fixup-tests-15' into release/3.2.0", "Fix crash in message mapping when deleting lots of messages in a smallish conversation", "Merge branch 'mkirk/fix-mapping-crash' into release/3.2.0", "Sync translations", "\"Bump build to 3.2.0.7.\"", "Merge branch 'release/3.2.0'", "Versioned profile changes, etc.", "Merge branch 'charlesmchen/groupsV2Part4_'", "add pristine_dependencies task", "Save contact message before sending non-durably", "Merge branch 'mkirk/contact-sharing' into release/3.2.0", "Fix: Can't always scroll to old items\n\nThe index of the target item must be calculated *after* reloading the viewState.", "Merge branch 'mkirk/fix-large-search-jump' into release/3.2.0", "Fix status bar when launching in system dark theme", "Hack around split view bug", "Merge branch 'nt/little-fixes21' into release/3.2.0", "\"Bump build to 3.2.0.8.\"", "Merge branch 'release/3.2.0'", "Support profile given and family names", "PR Feedback", "Put family name behind feature flag.", "Fix tests", "Merge branch 'nt/first-last'", "Update view-once icons", "Update view-once copy", "View-once setting is not sticky", "Only the X dismisses a view-once view", "Show toast when tapping expired view-once message", "Updated toast text for outgoing view-once", "Fix a bug where deleting a group would not update the UI", "Merge branch 'nt/view-once-tweaks' into release/3.2.0", "Sync translations", "\"Bump build to 3.2.0.9.\"", "Merge branch 'release/3.2.0'", "Feature flags for production.", "Feature flags for production.", "\"Bump build to 3.2.0.10.\"", "FIX: all file attachments labeled Contact.vcf", "FIX: some PDF's fail to share\n\nSome PDF shares (and presumably other files) were not shareable due to a failure to convert.\n\nThe root of this is that the behavior of\nNSItemProvider.loadItemForTypeIdentifier(_:,options:,completionHandler:)\ndepends on the signature of the completion handler.\n\nThe documented signature of the completion handler is: (NSSecureCoding, NSError) -> Void\n\nFor example, if you want an NSURL back, it's expected that you'll pass in a\n`(NSUrl, NSError)` block, or if you want a Data you'll pass in a `(NSData, NSError)`.\n\nHowever, that's not possible with Swift strict typing. The type of the block must match.\n\n```\nloadItmForTypeIdentifier('myType', nilOptions) { loadedItem, error in\n\n}\n```\n\nThe type of `loadedItem` is SecureCoding. What we were seeing is that we were\ngetting returned to us unexpected classes, e.g. private iOS internal classes\nlike \"_NSSandboxedDocument\", which indeed do conform to NSSecureCoding.\n\nInstead, we should cut with the grain of the existing API design and request\nthe exact type of object we want. We do this is ObjC, since this isn't possible in swift,\nand provide some bespoke Swift wrappers.\n\nDoing this requires tracking some information about the itemprovider, and\nfunneling that through the extensionItem -> SignalAttachment process.", "Merge branch 'mkirk/pdf-share'", "fixup! Merge branch 'mkirk/pdf-share'", "baselines", "speed up FTS deletes/updates", "Merge branch 'mkirk/fts_perf'", "Fix assert around updating profiles without a profile name.", "Merge branch 'charlesmchen/profileNameAssert'", "Allow parallel usage of staging and production services.", "Allow parallel usage of staging and production services.", "Allow parallel usage of staging and production services.", "Merge branch 'charlesmchen/stagingInParallel'", "remove unused ContactQuery", "per cr: disable modern discovery service in staging", "Merge branch 'mkirk/dead10cc-contact-query'", "add missing indices for FailedMessagesJob", "Merge branch 'mkirk/dead10cc-failed-messages-job'", "remove ContactQuery tests", "Fix broken file reference.", "Merge branch 'charlesmchen/fixProjectFileReference'", "Fix local uuid assert in 'create new group' logic.", "Merge branch 'charlesmchen/groupCreationVsLocalUuid'", "update to using https for public repos", "Merge branch 'mkirk/public-pod-https'", "Don't suppress local UUIDs.", "Merge branch 'charlesmchen/dontSuppressLocalUuids'", "hide search UI when replying to a message", "Merge branch 'mkirk/reply-cancels-search'", "trust new group member list if we'd previously left the group", "Merge branch 'mkirk/fix-stale-group'", "update libPhoneNumber", "permissively parse legacy and modern mexican phone number formats", "Merge branch 'mkirk/mx-phone-changes'", "Cache user profiles and signal accounts.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/cacheSignalAccountsAndUserProfiles'", "Create and fetch groups v2.", "Merge branch 'charlesmchen/groupsV2Part5_'", "Create and fetch groups v2; group update roundtrip.", "Merge branch 'charlesmchen/groupsV2Part6PR'", "Rework message processing to handle groups v2.", "Merge branch 'charlesmchen/groupsV2Part7_'", "Respond to CR.", "\"Bump build to 3.3.0.0.\"", "Fix \"Implicit conversion loses floating-point precision\"\n\nAffects 32bit targets", "remove unused variable", "fix compiler warnings for unused values", "avoid compiler warning, mark protocol conformance", "fix compiler warning: handle unclosed enum", "fix compiler warnings for unused db block results", "fix compiler warning: missing prototype", "fix compiler warning: unassigned child in image asset", "match integer types on 32bit machine", "Merge branch 'mkirk/fix-compiler-warnings-1'", "Implement final KBS master key encryption", "Merge branch 'nt/kbs-tweaks'", "Require creating a PIN even if you already have one.", "Allow user's to select an alphanumeric PIN", "Don't re-generate the master key if it already exists.", "Only present the PINs for all splash when the user has internet and allow them to escape if they lose internet", "Allow dismissing the PIN reminder prompt", "Don't allow user to interactively dismiss PIN setup", "Merge branch 'nt/pins-for-all-tweaks' into release/3.3.0", "FIX: can't share from screenshot app\n\nfall back to UIImage provider if URL provider is not available", "Merge branch 'mkirk/fix-sharing-screenshots' into release/3.3.0", "Fix versioned profiles avatar upload.", "Merge branch 'charlesmchen/versionedProfilesUpload' into release/3.3.0", "Update l10n strings.", "\"Bump build to 3.3.0.1.\"", "Remove family name feature flag.", "Merge branch 'nt/profile-family-name-flag' into release/3.3.0", "finalize Argon2 parameters", "Update pods", "Merge branch 'nt/kbs-tweaks3' into release/3.3.0", "\"Bump build to 3.3.0.2.\"", "Fix test vectors for new Argon2 parameters", "Rewrite queue to process incoming group v2 messages.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Respond to CR.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/groupsV2Part8'", "Fix tests.", "Fix tests.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/fixTests3.3.0' into release/3.3.0", "Merge remote-tracking branch 'private/release/3.3.0'", "Additional KBS vectors and normalization fix", "Only enforce the old minimum length during registration, we might have migrated a 4 digit pin", "Enable registrationLockV2", "Prepare ExperienceUpgrade for megaphones.", "Codegen", "Schema dump", "Merge branch 'nt/megaphone'", "PIN creation loading animation.", "Merge branch 'nt/kbs-tweaks2'", "remote config", "Merge branch 'mkirk/remote-config'", "update pods", "clarify delegate method", "codegen handles \"id\" type", "revamp group updates - show source, show changes, show icon", "regen", "update pods", "Merge branch 'mkirk/group-updates'", "Production encalve info", "Merge branch 'nt/kbs-tweaks4' into release/3.3.0", "Add request type to KBS enclave requests.", "Set feature flags for internal build.", "\"Bump build to 3.3.0.3.\"", "Set feature flags for beta build.", "\"Bump build to 3.3.0.4.\"", "Honor incoming groups v2 envelopes feature flag.", "Merge branch 'charlesmchen/incomingGroupsV2FeatureFlag' into release/3.3.0", "Improve thread safety of job queues.", "Improve thread safety of job queues.", "Respond to CR.", "Merge branch 'charlesmchen/queueThreadSafety'", "Add Megaphone view", "Fix column ordering", "PINs for everyone megaphone", "Re-style toasts", "PR Feedback", "Merge branch 'nt/megaphone'", "Avoid String.prefix() crash.", "RingRTC v0.3.3", "\"Bump build to 3.2.1.0.\"", "Merge branch 'release/3.2.1' into release/3.3.0", "Fix duplicate 2FA reminders", "Preserve ordering of albums saved from share sheet", "Fix sharing of URLs.", "Preserve message text when pasting an attachment.", "Fix vertical alignment of conversation + attachment approval textView", "Merge branch 'nt/little-fixes23' into release/3.3.0", "\"Bump build to 3.3.0.5.\"", "Enable beta feature flags.", "Add message processing class.\n\n* Modify message processing to allow observation of websocket queue being drained.\n* Extend MessageProcessing to allow observation of REST message fetching and \"all message fetching and processing\".", "Respond to CR.", "Remove redundant NotificationName.", "Update Cocoapods.", "Merge branch 'charlesmchen/messageProcessing'", "Rework group updates; rework \"update group\" view to use GroupManager.\n\n* Introduce GroupMembership & GroupAccess.\n* Pull out GroupsV2Test.\n* Fix issues in groups v2 logic.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/groupsV2Part9'", "Move files.", "Apply v2 group changes to group model.", "Clean up names.", "Rework outgoing messages; embed change protos in outgoing change messages for groups v2.", "Apply embedded change protos from incoming group contexts.", "Clean up ahead of PR.", "Revert \"Clean up ahead of PR.\"\n\nThis reverts commit 48093cc5533266969d925877970a3896630ea607.", "Clean up ahead of PR.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/groupsV2Part10'", "Merge tag '3.3.0.5'", "Fix pull to refresh on compose view", "More specific reactions notifications", "Enable registrationLockV2", "Merge branch 'nt/little-fixes24' into release/3.3.0", "Enable production feature flags.", "Update l10n strings.", "Address perf hotspot in orphan data cleaner around reactions.", "Merge branch 'charlesmchen/orphanReactionPerf' into release/3.3.0", "\"Bump build to 3.3.0.6.\"", "No experience upgrades on linked devices.", "Remove stickers experience upgrade and cleanup", "Reactions Megaphone", "Allow experience upgrades for new users", "Fixes for introducing pins flow", "Pins for everyone is remote feature", "Required profile names experience upgrade.", "Only show experience upgrades when the app becomes active", "Design feedback", "Finalized copy", "Merge branch 'nt/megaphone'", "Reconcile \"observe message processing\" with \"groups v2 message processing.\"", "Reconcile \"observe message processing\" with \"groups v2 message processing.\"", "Merge branch 'charlesmchen/observeGroupsV2MessageProcessing'", "Merge tag '3.3.0.6'", "Add latching KBS remote feature flag", "lock off required profile names remote feature for now.", "Merge branch 'nt/kbs-feature-flag'", "Rework v2 group updates.", "Rework v2 group updates.", "Rework v2 group updates.", "Rework v2 group updates.", "Rework v2 group updates.", "Rework v2 group updates.", "Rework v2 group updates.", "Rework v2 group updates.", "Rework v2 group updates.", "Rework v2 group updates.", "Rework v2 group updates.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Merge branch 'charlesmchen/reworkGroupUpdates'", "Generate \"group updated\" info messages for v2 groups.", "Generate \"group updated\" info messages for v2 groups.", "Generate \"group updated\" info messages for v2 groups.", "Merge branch 'charlesmchen/groupsV2UpdateMessages'", "Fix assert in TSGroupModel.groupMembership().", "require profiles names -> profile name reminder", "Clear experience upgrades in more places", "Merge branch 'nt/profile-name-reminder'", "Notification Service Extension\n\nThe NSE should only run on iOS 13.3 or later where the \"filtering\" entitlement\nis available since our notifications don't contain any content and will often\nnot trigger any user visible content. We control this by setting the deployment\ntarget to iOS 13.3.\n\nThis does not handle calls as it's currently impossible to wake the main app or\nlaunch CallKit from within the NSE. Should we reach a point where we need to use\nthis extension in production the service will need to be able to differentiate\nbetween call and non-call messages and deliver them as VOIP or Vanilla pushes as\nappropriate. Alternatively, Apple may introduce some way for us to signal the\nmain app that a call message has been received.\n\nThis does not currently address the potential for the NSE and the main app to be\nrunning and trying to process messages at the same time. As long as the\nwebsocket is connected and the main app is processing messages in a timely\nfashion the NSE will never be called since the service will not send pushes for\nthese messages, but censorship circumvention users and users where the websocket\nis disconnected for some reason will legitimately receive pushes and we will\nwant to process those messages. How we will handle these cases requires further\nthought since just terminating the NSE when the app launches is not sufficient.\nWe could potentially do something like terminate the NSE everytime the main app\nruns the message fetcher job which should only happen if either the user\npulls-to-refresh on the conversation list or the websocket is actively connected\nand receiving messsages. I plan to address this in a follow-up pull request.\n\nCurrently this code will not ever be run since the service never sends vanilla\npush notifications. Eventually we will need to add logic into the main app to:\na) detect we're on iOS 13.3 or later and b) update a flag on the service telling\nit to stop using VOIP pushes for non-call messages. The API for requesting this\nfrom the service does not yet exist.", "Handle the fact that multiple notifications can be processed in the same instance of the NSE", "Handle received notifications while the app is running.", "Crash if we receive a message in the NSE before we intend to support it.", "PR Feedback", "Merge branch 'nt/nse-2'", "Keep websocket open in background for DEBUG builds", "Merge branch 'mkirk/keep-websocket-open'", "Prepare ExperienceUpgrade for megaphones.", "Codegen", "Schema dump", "Merge remote-tracking branch 'private/release/3.3.0'", "PIN creation loading animation.", "Merge branch 'nt/megaphone'", "remote config", "Merge branch 'nt/kbs-tweaks2'", "Merge branch 'mkirk/remote-config'", "update pods", "clarify delegate method", "codegen handles \"id\" type", "revamp group updates - show source, show changes, show icon", "regen", "Add Megaphone view", "Fix column ordering", "PINs for everyone megaphone", "Re-style toasts", "PR Feedback", "Merge branch 'mkirk/group-updates'", "Merge branch 'nt/megaphone'", "Feature flags for production.", "Feature flags for production.", "Feature flags for production.", "\"Bump build to 3.2.0.10.\"", "Avoid String.prefix() crash.", "RingRTC v0.3.3", "\"Bump build to 3.2.1.0.\"", "Merge branch 'release/3.2.1' into release/3.3.0", "Fix duplicate 2FA reminders", "Preserve ordering of albums saved from share sheet", "Fix sharing of URLs.", "Preserve message text when pasting an attachment.", "Fix vertical alignment of conversation + attachment approval textView", "Merge branch 'nt/little-fixes23' into release/3.3.0", "\"Bump build to 3.3.0.5.\"", "Merge tag '3.3.0.5'", "No experience upgrades on linked devices.", "Remove stickers experience upgrade and cleanup", "Reactions Megaphone", "Allow experience upgrades for new users", "Fixes for introducing pins flow", "Pins for everyone is remote feature", "Required profile names experience upgrade.", "Only show experience upgrades when the app becomes active", "Design feedback", "Finalized copy", "Fix pull to refresh on compose view", "More specific reactions notifications", "Enable registrationLockV2", "Enable beta feature flags.", "Merge branch 'nt/little-fixes24' into release/3.3.0", "Enable production feature flags.", "Address perf hotspot in orphan data cleaner around reactions.", "Update l10n strings.", "Merge branch 'charlesmchen/orphanReactionPerf' into release/3.3.0", "\"Bump build to 3.3.0.6.\"", "Merge branch 'nt/megaphone'", "Merge tag '3.3.0.6'", "require profiles names -> profile name reminder", "Clear experience upgrades in more places", "Merge branch 'nt/profile-name-reminder'", "Update pods", "Add latching KBS remote feature flag", "Merge branch 'nt/kbs-feature-flag' into release/3.4.0", "Enable reaction sending.", "Feature flags for beta.", "Merge branch 'release/3.4.0'", "\"Bump build to 3.4.0.0.\" (Internal)", "\"Bump build to 3.4.0.1.\" (Internal)", "Use appropriate sender certificate depending on capabilities", "regen", "fix test compile", "Merge branch 'mkirk/send-uuid-cert'", "Redesigned reaction view", "Keep footers at the screen edges", "Merge branch 'nt/reactions-redesign' into release/3.4.0", "Fix experience upgrade table", "PR Feedback", "Merge branch 'nt/fix-experience-upgrade' into release/3.4.0", "Sync translations", "\"Bump build to 3.4.0.2.\"", "Updated reaction megaphone copy", "\"Bump build to 3.4.0.3.\"", "Cleanup copy.", "Sync translations", "Megaphone will become mandatory in copy", "PIN recreation copy update", "Merge branch 'nt/mandatory-time' into release/3.4.0", "Sticky Remote Config flags", "Merge branch 'nt/sticky-remote-flags' into release/3.4.0", "Show PIN setup during onboarding regardless of feature flags.", "Don't show reactions megaphone to new users.", "Fetch the remote config when the user registers", "Merge branch 'nt/onboarding-tweak' into release/3.4.0", "Sync translations", "\"Bump build to 3.4.0.4.\"", "Merge branch 'release/3.4.0'", "Message Requests megaphone + splash", "fix crash in schema migration for old users by introducing \"data migrations\"\nwhich run *after* any migrations which mutate the schema.\n\nIf a user hasn't been keeping up to date, it's possible they'll crash when\nrunning several migrations in sequence.\n\nAny migration which leverages SDSModel serialization must occur *after* changes to the\ndatabase schema complete.\n\nOtherwise, for example, consider we have these two pending migrations:\n - Migration 1: resaves all instances of Foo (Foo is some SDSModel)\n - Migration 2: adds a column \"new_column\" to the \"model_Foo\" table\n\nMigration 1 will fail, because the generated serialization logic for Foo expects\n\"new_column\" to already exist before Migration 2 has even run.\n\nThe solution is to always split logic that leverages SDSModel serialization into a\nseparate migration, and ensure it runs *after* any schema migrations. That is, new schema\nmigrations must be inserted *before* any of these Data Migrations.", "Merge branch 'mkirk/data-migrations' into release/3.4.0", "Fix reaction picker on iPhone 5/SE", "Add All tab to reaction detail view", "Show toasts for 4 seconds.", "Merge branch 'nt/reaction-tweaks' into release/3.4.0", "Fix clipping of long megaphone text", "Merge branch 'nt/megaphone-fix' into release/3.4.0", "Bump GRDB schema version to reflect FTS changes from 3.2", "fix unintentionally erased drafts\n\npreviously we 'loaded current draft' in several code paths - including whenever\nthe `themeDidChange` which was triggered by the trait change that occurs when\nan app resigns active.\n\nThis introduced a race where-in we could reload the old draft concurrent with\nsaving the new draft. When we lost the race we'd inadvertently reload the old\ndraft before resaving it as the \"new\" draft - losing the new draft.", "Merge branch 'mkirk/lost-draft' into release/3.4.0", "Reset repetition interval when changing / creating your PIN", "Fix a bug where the navbar on pin setup view could be inadvertently hidden.", "Don't support dynamic type on the pin view for now. Reduce vertical space consumption.", "Merge branch 'nt/little-fixes25' into release/3.4.0", "Sync translations", "Feature flags for production", "\"Bump build to 3.4.0.5.\"", "Merge branch 'nt/message-request-megaphone'", "Merge branch 'release/3.4.0'", "Allow paging even if there is only 1 emoji", "Fix a bug when receiving a reaction from a user without a thread.", "Merge branch 'nt/little-fixes26' into release/3.4.0", "\"Bump build to 3.4.0.6.\"", "Fix profile fetch rate limiting.", "Merge branch 'charlesmchen/profileFetchRateLimit' into release/3.4.0", "Fix profile fetch rate limiting.", "\"Bump build to 3.3.1.0.\"", "secondary devices update capabilities w/ devices endpoint", "update pods", "Merge branch 'mkirk/secondary-device-capabilities' into release/3.4.0", "Reaction design tweaks.", "Merge branch 'nt/little-fixes27' into release/3.4.0", "Sync translations", "Update RI check script.", "Merge branch 'release/3.3.1' into release/3.4.0", "Disable KBS when censorship circumvention is enabled.", "Merge branch 'nt/little-fixes28' into release/3.4.0", "PINs are just a megaphone reminder for now. Not mandatory.", "Merge branch 'nt/little-fixes29' into release/3.4.0", "\"Bump build to 3.4.0.7.\"", "Merge branch 'release/3.4.0'", "Add censorship circumvention support for KBS and Storage Service", "Only cache remote flags we support.", "Rework feature flags, profile fetches for groups v2. Sketch out handling of pending members.", "Add additional recipients for v2 group updates.", "Add additional recipients for v2 group updates.", "Add additional recipients for v2 group updates.", "Sketch out handling of pending members.", "Sketch out handling of pending members.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2PendingMembers1'", "Use Groups v2 to coordinate disappearing message state.", "Update Cocoapods.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2DisappearingMessages_'", "Rework \"leave group\", consolidate group update logic. Add groups v2 indicator.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2LeaveGroup'", "Profiles vs. Groups v2\n\n* Update profile whitelist to reflect v2 group membership.\n* Fill in missing profile keys from group change protos.\n* Ensure local profile has commitment before doing any v2 group requests.\n* Fix \"ensure local profile key credential\" bug.\n* Fix profile key parsing from group v2 member protos.\n* Fix edge case around members missing uuids in temporary update group view.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2profiles'", "Respond to CR feedback.", "Fix rebase breakage.", "Merge branch 'charlesmchen/groupsV2Feedback'", "Merge branch 'nt/kbs-censorship-circumvention' into release/3.4.1", "fix registration on primary simulators\n\nWe need to bypass \"isRegistered\" check *during* registration.", "Merge branch 'mkirk/fixup-primary-sim-registration' into release/3.4.1", "Fix linked device capabilities.", "Merge branch 'charlesmchen/linkedDeviceCapabilities' into release/3.4.1", "Sync translations", "Fix compilation issue.", "\"Bump build to 3.4.1.0.\"", "Make PINs mandatory behind a remote flag.", "PIN copy changes.", "Merge branch 'nt/mandatory-pins' into release/3.4.1", "Fix crash when tapping notification (hopefully)", "Merge branch 'nt/little-fixes30' into release/3.4.1", "Sync translations", "\"Bump build to 3.4.1.1.\"", "fixup overzealous assert - e.g. if network is down", "Merge branch 'mkirk/fix-overzealous-assert-1'", "\"Bump build to 3.4.2.0.\"", "Only compare groups v2 properties in TSGroupModel for v2 groups.", "Merge branch 'charlesmchen/skipRedundantGroupUpdateInfoMessages' into release/3.4.2", "\"Bump build to 3.4.2.1.\"", "\"Bump build to 3.4.3.0.\"", "Ensure that the experience upgrade view is dismissed when completed via other means.", "We don't need to migrate v1 PINs in the v2 reminder, it's only for v2 PINs.", "Megaphone pins4all reminder flow", "Fix megaphones in landscape", "Fix pin reminder landscape (disallow except for iPad)", "Fix pin reminder when keyboard is not presented", "Fix PIN creation during registration.", "KBS does its own pin normalization, only ensure arabic numerals for v1 pins.", "Re-enable 2FA if provided valid pin during registration.", "Merge branch 'nt/pin-fixup' into release/3.4.3", "Sync translations", "\"Bump build to 3.4.3.1.\"", "Add group v2 capability and improve handling of network errors.", "Clean up ahead of PR.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2CapabilityAndNetworkErrors'", "Improve group v2 service requests.\n\n* Retry group v2 service requests.\n* Fix \"ensure local profile key credential\" bug.\n* Cache temporal credentials for group requests.", "Merge branch 'charlesmchen/groupsV2RetryAndPersitentCredentials'", "Add server flags for v2 group creation.", "Add server flags for processing incoming v2 group messages.", "Remove server flag for processing incoming v2 group messages.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2serverFlag'", "Merge branch 'nt/message-request-megaphone'", "\"Bump build to 3.5.0.0.\" (Internal)", "Fix double-processing bug in v2 group message processor.", "Merge branch 'charlesmchen/groupsV2doubleProcessingBug'", "Add feature flag to discard incoming embedded protos.", "Overhaul group model, group membership.", "Fix serialization of GroupMembership.", "Fix bug in v2 group updates.", "Add groupsV2forceInvites feature flag.", "Use TSGroupMemberRole in group membership.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Storage Service Encryption Finalization", "Merge branch 'nt/storage-service-tweaks2' into release/3.5.0", "Fix onboarding dark mode styling and other small design tweaks", "Wait during registration for storage service restore and re-populate local profile if available", "Dismiss message request if accepted by another device.", "Decrease storage service debounce", "Turn on storage service if we have the requisite keys.", "Mark a specific set of experience upgrades complete for new users regardless of if they are launched.", "Turn message request feature on (soon to be a remote flag)", "PR Feedback", "Merge branch 'nt/prepare-for-message-request-release' into release/3.5.0", "\"Bump build to 3.5.0.1.\" (Internal)", "Remote FF for message requests", "Update the conversation list when the profile whitelist changes.", "Add storage service support for v1 group whitelist / blocklist", "Pass through transactions to profile manager, avoid extraneous sync after merge", "Remove some bad comments", "PR Feedback", "Merge branch 'nt/a-few-small-message-request-tweaks' into release/3.5.0", "Merge branch 'charlesmchen/groupModelV2'", "Modify group sync to exclude v2 groups.", "Modify group sync to exclude v2 groups.", "Merge branch 'charlesmchen/groupSyncVsGroupsV2'", "Modify sync transcript processing to handle messages in v2 groups.", "Modify sync transcript processing to handle messages in v2 groups.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2Transcripts_'", "swoon stickers", "remove unused param", "no packs installed by default", "Merge branch 'mkirk/swoon-stickers' into release/3.5.0", "Fix censorship circumvention for storage service.", "Merge branch 'nt/fix-storage-service-censorship' into release/3.5.0", "Use a local only key for storage service encryption.", "Add a new feature flag to control PINs for new users", "PR Feedback", "Merge branch 'nt/storage-service-minus-kbs' into release/3.5.0", "extract DebugFlags from FeatureFlags", "remove conversation search feature flag", "tame down crashing assert", "remove preserveYdb feature flag", "remove canRevertToYDB feature flag", "remove sticker feature flags", "remove cameraFirstCaptureFlow feature flag", "remove viewOnce feature flag", "remove reactions feature flags", "Merge branch 'mkirk/feature-flag-cleanup'", "\"Bump build to 3.5.0.2.\"", "sync translations", "\"Bump build to 3.5.0.3.\"", "Fix string length measurement in message request view.", "Remove obsolete TODOs.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2obsoleteTODOs'", "Fix handling of access control in protos; improve debug descriptions; clean up.", "Merge branch 'charlesmchen/accessProtos'", "Fix group v2 update edge cases around missing signatures and group access.", "Fix rebase breakage.", "Merge branch 'charlesmchen/groupsV2fixUpdatesAccessAndSignatures'", "Modify profile keys in all v2 groups when we rotate our profile key.", "Modify profile keys in all v2 groups when we rotate our profile key.", "Fix rebase breakage.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2profileKeyUpdates'", "Simplify leave group v1.", "Merge branch 'charlesmchen/groupsV2simplifyLeaveGroupV1'", "Try to use group changes when learning of a v2 group.", "Clean up ahead of PR.", "Merge branch 'charlesmchen/groupsV2upsertGroupsUsingChanges'", "Update v2 groups to latest if we abort incremental updates.", "Merge branch 'charlesmchen/groupsV2applySkippedChanges'", "percolate up error details", "include underlying error", "Merge branch 'mkirk/better-error-logging' into release/3.5.0", "Actually record message request megaphone as complete", "Move SignalCall out of SignalMessaging back to Signal target\n\npartial revert of ceae3f1f3\n\nSignalMessaging doesn't really need to know much about the SignalCall, and\nsince SignalCall now knows about WebRTC, keeping SignalCall in SignalMessaging\nwould mean moving *all* of WebRTC into SignalMessaging.\n\nInstead, we move SignalCall back to SignalMessaging, and only expose a small\nprotocol thereof to SignalMessaging.", "Call Manager Integration (RingRTC v1.0.1)", "Merge branch 'call-manager'", "fixup audio for subsequent non-callkit calls\n\nWhen using callkit, audio was working.\n\nWhen using non-callkit, audio was working for outgoing calls.\nWhen using non-callkit, audio was working for only the *first* incoming call.", "loop incoming ringtone for incoming non-callkit call", "Merge branch 'mkirk/non-callkit-fixups'", "update info.plist w/ latest RingRTC", "fix overzealous assert, e.g. if network is down", "clarifying comment around call groups", "handle case of empty remote manifest", "Merge branch 'mkirk/handle-empty-manifest' into release/3.5.0", "avoid spurious error with fresh install\n\nIf you have no profile name to upload, this request will fail. Plus there's no\nreason to wait for it anyway.", "Merge branch 'mkirk/fixup-spurious-verification-error' into release/3.5.0", "fixup registration test", "improve logging", "remove overzealous assert", "Merge branch 'mkirk/better-logging-2' into release/3.5.0", "fix profile names with emoji", "Merge branch 'mkirk/fix-emoji-profilename' into release/3.5.0", "Handle showing message request for non-incoming message interactions.", "If there's a pending message request and we send a message to a thread, share our profile", "Display the message request dialog if a message is received while viewing the thread", "Mark messages locally as read but wait to send receipts until the message request is approved.", "Partial Revert of 'Mark messages locally as read but wait to send receipts until the message request is approved.'\n\nReverting all the OutgoingReceiptManager logic changes - but keeping some ancillary changes.", "disable calling with pending message request", "Fix nested sneaky transaction", "disallow reply in message actions", "disallow swipe-to-reply when pending message request", "disallow reaction when pending message request", "fix message requests for groups", "clarify method. I stared at it for a long time.", "separate indexable query for groups", "index info message query to determine if a group needs a message request", "disable key conversation settings while pending message request exists", "hide action buttons for pending message requests", "Merge branch 'mkirk/disable-actions' into release/3.5.0", "documentation", "re-enable marking visible messages as read in conversation view regardless of message request", "DRY up hasPendingMessageRequestWithTransaction", "plumb through messageRequest circumstance when marking as read", "plumb through thread to read receipt manager", "swift friendly notification rename", "persist pending read receipts", "debug action: unwhitelist 1 thread", "update pods", "Merge branch 'mkirk/message-requests-pending-receipts' into release/3.5.0", "dont show message request if user left group", "Merge branch 'mkirk/message-requests-left-group' into release/3.5.0", "Don't clear our local profile when our key changes, just update the key", "Merge branch 'nt/fix-ipad-profile' into release/3.5.0", "pull translations", "\"Bump build to 3.5.0.4.\"", "Fix some memory leaks in onboarding controller", "Contact support flow after missed PIN", "Merge branch 'mkirk/message-requests-pin-support' into release/3.5.0", "Handle message requests in blocked threads.", "Don't show disappearing message timer button in nav bar while pending request", "Hide profile share status / button in conversation settings.", "Track pending read receipts even if we've read the message on another device.", "If you're not a member of a group, never show a message request.", "add asserts, decompose method, unify translation comment, remove redundant groupThread check", "Merge branch 'nt/message-request-fixups2' into release/3.5.0", "fix typo in method name", "cvc init rather than configureWithThread", "CR: prefer NSString spelling", "CR: fix misspelled index name", "CR: add clarifying comment", "Revert \"CR: prefer NSString spelling\"\n\nThis reverts commit 66c81fa939d64f84c6862ef426f87669bc8fcc45.", "move computation out of loop for perf", "Merge branch 'mkirk/message-request-pr-feedback' into release/3.5.0", "Add check to see if blurhash is dark", "Don't download attachments when there's a pending message request.", "Automatically download all attachments when message request is accepted.", "Tap a photo to download while there's a pending message request.", "Fix failed attachment download job", "Fix production builds.", "dump schema", "update pods", "Merge branch 'nt/dont-show-attachments-until-request-accepted' into release/3.5.0", "FF: don't require pins for new users", "Fix sender certificate when re-linking", "Merge branch 'nt/fix-sender-certificate-on-relink' into release/3.5.0", "\"Bump build to 3.6.0.0.\"", "cleanup error messages", "Resume onboarding if user needs profile or PIN.", "remove hasPending2fa since it's redundant with onboarding flow", "dont mark experience upgrade as complete unless successful", "verify v2pin was migrated", "Merge branch 'mkirk/enforce-profile-completion' into release/3.5.0", "better logging", "overzealous assert", "code would never be executed", "suppress some actions until onboarded", "Merge branch 'mkirk/message-requests-notification-v-onboarding' into release/3.5.0", "add some top padding to message request view", "Fix typo\n\nChanged \"occured\" to \"occurred\".", "sync translations", "\"Bump build to 3.5.0.5.\"", "Merge tag '3.5.0.5'", "Update version script to update NSE.", "Merge branch 'charlesmchen/nseVsVersionScript'", "\"Bump build to 3.6.0.1.\"", "Don't complete PINs splash when we haven't created a PIN", "Merge branch 'nt/little-fixes32' into release/3.5.0", "don't show \"remaining\" count until user has missed a couple", "don't hide \"need help\" after dirtying text field", "Merge branch 'mkirk/validation-warning' into release/3.5.0", "Message requests are self-explanatory\n\nThere's no need to annoy the user with a banner, though we'll still eventually\nshow a blocking MessageRequest splash to get their profile info", "Fix an issue where we would send multiple key sync requests", "Use a 16-byte IV for storage service encryption.", "Update pods", "Merge branch 'nt/little-fixes31' into release/3.5.0", "remove unused strings", "sync translations", "\"Bump build to 3.5.0.6.\"", "\"Bump build to 3.5.0.7.\"", "Sync message request response", "Show confirmation dialogs for message request block + delete", "Fix a bug where we never stored the local users avatar URL", "Avoid updating the user profile on every app launch if there's no avatar.", "Handle manifest item decryption failure gracefully", "Clear any pending updates if conflicts resolved, the manifest matches our local version", "Ignore the local user's system contact.", "Overhaul message request view.\n\n* Fix input toolbar visibility after accepting group v2 invite.", "Merge branch 'charlesmchen/groupsV2InviteUI'", "Rename GroupManager methods.", "Add local prefix to a few more GroupManager methods.", "Update Cocoapods.", "Merge branch 'charlesmchen/renameGroupManagerMethods'", "Integrate group updates and disappearing message configuration updates.", "Merge branch 'charlesmchen/groupsV2GroupUpdatesVsDMUpdates'", "Improve support for v2 groups in update group view.", "Clean up ahead of PR.", "Merge branch 'charlesmchen/groupsV2UpdateGroupView'", "Fix stale profile keys in v2 groups.", "Fix stale profile keys in v2 groups.", "Fix stale profile keys in v2 groups.", "Merge branch 'charlesmchen/groupsV2profileKeyUpdates2'", "Merge branch 'nt/little-fixes33' into release/3.5.0", "Include the type in our sync'd identity keys", "Avoid extraneous syncing of profile changes", "Don't do storage service syncs for avatar changes", "When creating a manifest from scratch tell the service to delete all existing records for our account", "Add a bunch more detailed logging around storage service", "Ensure we don't create / use a non-synced storage service key on a linked device.", "Add remote FF for storage service", "Merge branch 'nt/little-fixes34' into release/3.5.0", "Add block+delete message request action.", "Merge branch 'nt/little-fixes36' into release/3.5.0", "feature flags for production", "Sync translations", "\"Bump build to 3.5.0.8.\"", "Be more explicit about when we need to delete all records from the storage service.", "\"Bump build to 3.5.0.9.\"", "Clear out missing accounts from local storage records.", "Fix BidirectionalDictionary orphan data bug", "Re-add orphaned records after manifest merges", "Rotate the storage service key", "Merge branch 'nt/little-fixes37' into release/3.5.0", "\"Bump build to 3.5.0.10.\"", "Set feature flags for internal Groups v2 staging build.", "\"Bump build to 3.6.0.2.\" (Internal)", "Revert \"Set feature flags for internal Groups v2 staging build.\"\n\nThis reverts commit 5e123306c6ab8fc90c0e9c42ee4fe5b799fc7551.", "Combine StorageServiceManager.shared with SSKEnvironment.", "Ensure StorageServiceManager is a singleton.", "Ensure StorageServiceManager is a singleton.", "Merge branch 'charlesmchen/smallFixes'", "Add TSGroupModelBuilder.", "Update Cocoapods.", "Merge branch 'charlesmchen/groupsV2groupModelBuilder'", "prevent spurious message request from unwanted \"group created\" messages upon initial group sync of linked device", "Merge remote-tracking branch 'private/release/3.5.0'", "\"Bump build to 3.6.0.3.\" (Internal)", "\"Bump build to 3.6.0.2.\" (Internal)", "\"Bump build to 3.6.0.3.\" (Internal)", "Merge remote-tracking branch 'private/release/3.5.0' into release/3.6.0", "Update Cocoapods.", "\"Bump build to 3.6.0.4.\"", "Merge branch 'release/3.6.0'", "Set feature flags for development.", "Merge branch 'mkirk/spurious-group-created-upon-linking' into release/3.5.0", "fix unnecessary message request splash", "Merge branch 'mkirk/message-request-splash' into release/3.5.0", "Specify local version when fetching storage manifest", "Merge branch 'nt/little-fixes38' into release/3.5.0", "Always quit the group when blocking a thread.", "Always show a message request for blocked threads, even if you're no longer a member.", "Keep track of who added us to a group so we can show it in message requests", "PR Feedback", "Auto-accept group requests from trusted contacts", "fix typo", "Merge branch 'nt/little-fixes39' into release/3.5.0", "dont show message request for legacy convo", "Merge branch 'mkirk/message-request-epoch' into release/3.5.0", "copy updates", "Merge branch 'mkirk/update-copy' into release/3.5.0", "sync translations", "\"Bump build to 3.5.0.11.\"", "pull translations", "fix missing profile avatar", "Merge branch 'mkirk/fix-missing-avatar' into release/3.5.0", "\"Bump build to 3.5.0.12.\"", "Add support for avatars to v2 groups.\n\n* Log upload failures.\n* Finalize group avatar uploads.\n* Encrypt & decrypt group avatars.", "Fix obsolete assert.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/groupsV2Avatars'", "Don't try to ensure local profile commitment until we're onboarded.", "Merge branch 'charlesmchen/groupsV2ensureLocalProfileCommitmentVsOnboarding'", "Add debug flags around corrupt v2 group state.", "Merge branch 'charlesmchen/groupsV2CorruptionFlags'", "Add timeouts to v2 group updates; surface network errors to user.", "Merge branch 'charlesmchen/groupsV2errorAlerts'", "non-breaking spaces for formatted phone number on registration screen\n\nFixes:\n\n\"\"\"\nEnter the code we sent to +1\n555-555-5555\n\"\"\"", "Merge branch 'mkirk/nonbreaking-space'", "Use numberPad keyboard for Find By Number TextField", "omit UIKeyboardType, just do .numberPad for Find By Phone Number", "Merge branch 'jimio/findbynumber-keyboard'", "Rework groups v2 debug flags.", "Merge branch 'charlesmchen/groupsV2DebugFlags'", "Leave primary to upload profile key commitment.", "Merge branch 'charlesmchen/groupsV2EdgeCases'", "Look up uuids for v2 group members.", "Look up uuids for v2 group members.", "Look up uuids for v2 group members.", "Update Cocoapods.", "Merge branch 'charlesmchen/groupsV2lookupUuids'", "Rework info messages to reflect groups v2.", "Respond to CR.", "Fix bugs in new group view.", "Update Cocoapods.", "Merge branch 'charlesmchen/groupsV2InfoMessages'", "Add Debug UI for group v2 update info messages.", "Merge branch 'charlesmchen/groupsV2infoMessagesVsDebugUI'", "Add groups v2 record to storage service protos.", "Add StorageServiceProtoGroupV2Record extension.", "Add support for v2 groups to storage service.", "Add support for v2 groups to storage service.", "Add support for v2 groups to storage service.", "Add support for v2 groups to storage service.", "Add support for v2 groups to storage service.", "Clean up ahead of PR.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2StorageService'", "Merge remote-tracking branch 'private/release/3.5.0' into release/3.6.0", "Fix bug in storage service manager.", "\"Bump build to 3.6.0.5.\"", "Fix missing l10n strings.", "Send array of Ice candidates through CallService\n\nThis commit will adjust how received Ice Candidates are handled.\nInstead of iterating the candidate array on the protocol side, the\narray will be passed to the Call Service and hence passed to RingRTC.", "Adjust candidate conversion and add filter", "Merge branch 'jim/ice-candidate-array'", "Use a 12-byte IV for storage service", "Update l10n strings.", "Merge remote-tracking branch 'private/nt/storage-service-changes' into release/3.5.1", "\"Bump build to 3.5.1.0.\"", "Dynamically populate date headers", "PR Feedback", "Merge branch 'nt/message-cell-reuse' into release/3.6.0", "Use different reuse identifiers for different types of message cells", "Improve error handling & retry in group v2 message processor.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2messageProcessingBackoff'", "Small fixes for the groups v2 work related to storage service.", "Merge branch 'charlesmchen/groupsV2StorageServiceFixes'", "PR Feedback", "Merge branch 'nt/message-cell-reuse2' into release/3.6.0", "Fix logging race", "Merge branch 'mkirk/fix-logging-race'", "Leverage v2 group model.", "Merge branch 'charlesmchen/groupsV2ModelV2'", "Fix unit tests.", "Fix unit tests.", "Fix unit tests.", "Merge branch 'charlesmchen/fixTests2' into release/3.6.0", "Merge remote-tracking branch 'private/release/3.5.1' into release/3.6.0", "remove unnused subset of AFNetworking\n\nsome of it's not yet compatible with catalyst, and we don't use it anyway.", "update PromiseKit", "update sqlcipher", "update zxing", "update pods", "Merge branch 'mkirk/catalyst'", "\"Bump build to 3.7.0.0.\"", "Add lottie animation to attachment keyboard presentation", "Update attachment keyboard icons", "Update copy icon", "Merge branch 'nt/papercuts' into release/3.6.0", "\"Bump build to 3.6.0.6.\" (Internal)", "Merge remote-tracking branch 'private/release/3.6.0'", "Reconcile message request changes from v3.5 with master.", "Show drafts on the conversation list", "TSCall timestamp now reflects when a call was initiated", "Render timestamps for calls", "No more connection status in settings", "Properly ignore the local user from system contacts", "PR Feedback", "Merge branch 'nt/papercuts' into release/3.6.0", "Show recipient name(s) on attachment approval view.", "Merge branch 'nt/papercuts-2' into release/3.6.0", "fix intermittent scroll glitch when loading more", "Merge branch 'mkirk/scroll-glitch' into release/3.6.0", "Fix bug around avatars in new group creation flow.", "Merge branch 'charlesmchen/groupsV1CreationVsAvatar' into release/3.6.0", "\"Bump build to 3.6.0.7.\"", "Merge branch 'charlesmchen/messageRequestReconciliation'", "Merge remote-tracking branch 'private/release/3.6.0'", "Clean up handling of networking errors.", "Update l10n strings.", "\"Bump build to 3.6.0.8.\"", "Fix 'share my profile' in conversation settings view.", "Merge branch 'charlesmchen/shareProfileVsConversationSettingsView' into release/3.6.0", "Debug log filtering improvements.\n\nThanks to @Mihahn for the bug report.", "Merge branch 'charlesmchen/conversationSearchLogging' into release/3.6.0", "\"Bump build to 3.6.0.9.\"", "Fix rebase breakage.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2NetworkErrors'", "Resolve groups v2-related TODOs.", "Resolve groups v2-related TODOs.", "Resolve groups v2-related TODOs.", "Resolve groups v2-related TODOs.", "Fix l10n copy.", "Fix rebase breakage.", "Respond to CR.", "Improve logging around spurious timeouts.", "Merge branch 'charlesmchen/groupsV2lingeringTodos'", "Always display you as \"You\" in reactions and quoted replies.", "Fix a bug where sometimes the toggle button could get stuck in the wrong state", "Merge branch 'nt/little-fixes40' into release/3.6.0", "Sync translations", "The thread name for note to self is always note to self", "Merge branch 'nt/little-fixes41' into release/3.6.0", "Use a different text color for the attachment approval placeholder", "\"Bump build to 3.6.1.0.\"", "Merge tag '3.6.1.0'", "Merge branch 'nt/little-fixes42' into release/3.6.0", "Fix crash in SAE.", "Merge branch 'charlesmchen/saeCrash' into release/3.6.0", "Fix dm duration slider interaction.", "Merge branch 'charlesmchem/dmSlider' into release/3.6.0", "\"Bump build to 3.6.0.10.\"", "Merge branch 'release/3.6.0' into release/3.6.1", "\"Bump build to 3.6.1.1.\"", "dismissable textfield for short devices", "Merge branch 'mkirk/profile-layout'", "Fix missing navbar for message details while searching\n\nSeemingly a bug in iOS12.\n\nWhen the search controller is presented, and configured to hide the navigation\nbar during presentation, when another view controller is pushed, the pushed VC\ndoes not have a visible navigation bar.\n\nNote this affects any VC pushed while the search controller is presented - e.g. message details, long text view, contact VC, etc", "Merge branch 'mkirk/search-bar' into release/3.6.1", "make OWSErrorMakeAssertionError variadic, objc only. Swift doesn't need vargs for formatting and can use the more concise `OWSAssertionError`", "New CDS endpoint", "update pods", "Merge branch 'mkirk/cds'", "New AppIcon", "Update launch screen to use new logo and have dark mode variant", "Use new accent blue color everywhere except launch screen related views", "Update loading/screen lock background color when the theme changes", "Merge branch 'nt/rebranding'", "\"Bump build to 3.7.0.1.\" (Internal)", "\"Bump build to 3.7.0.2.\" (Internal)", "Backport DisappearingMessageToken to 3.6.x to facilitate moving between 3.6 and 3.7.", "Add asserts in DisappearingMessageToken initializer.", "Merge branch 'charlesmchen/deserializeDisappearingMessageTokens' into release/3.6.1", "Update l10n strings.", "\"Bump build to 3.6.1.2.\"", "FIX: busy kills audio", "Merge branch 'mkirk/busy-kills-audio' into release/3.6.1", "\"Bump build to 3.6.1.3.\"", "Open linking support in external Safari.", "Merge branch 'charlesmchen/supportLinkVsExternalSafari' into release/3.6.1", "\"Bump build to 3.6.1.4.\"", "Clear launch screen cache", "Merge branch 'nt/launch-screen-cache'", "Merge tag '3.6.1.4'", "Increment grdbSchemaVersionLatest due to changes in TSInfoMessage.infoMessageUserInfo.", "Merge branch 'charlesmchen/schemaVersionVsInfoMessages'", "consolidate group settings permission checks", "Merge branch 'mkirk/left-group-vs-edit-title'", "force compiler error with missing property synthesis", "remove redundant property declaration", "Merge branch 'mkirk/compiler-err'", "updated nullability annotations for SPK", "marking internal build tag as such", "fix broken compile for SMK tests", "Fix inadvertent extra scroll back when loading more while overscrolled.", "fix overscrolling on the bottom as well", "Merge branch 'mkirk/scroll-glitch-2'", "update ringrtc to 1.1.0", "Merge branch 'mkirk/ringrtc-v1.1.0'", "\"Bump build to 3.7.0.4.\"", "fix intermittent failure to load search items\n\nIf the load result is contiguous with the already loaded items, we append\nrather than replace.\n\nbackground:\n\nWe have 4 load flavors:\n    - load older (scrolling up)\n    - load more recent (scrolling down after unload)\n    - load most recent (initial page load or scroll down button)\n    - load around (arbitrary jump from search results or tapping quoted reply)\n\nPreviously only \"load earlier\" and \"load later\" would append their results to\nthe existing loaded items, trimming if necessary.\n\n\"load most recent\" and \"load around\" would not append, instead they'd replace\nthe existing loaded items, since the loaded items might not be contiguous with\nthe existing loaded items.\n\nAn optimization we have is that when given a load request, we compare to the\nalready-loaded items to determine which \"unfetched\" items from the request\nactually need to be fetched.\n\nThe error: we consulted the already-loaded items for \"load most recent\" and\n\"load around\" modes, which discard the previously-loaded items to avoid\nintroducing a discontinuity in case the fetched items are far away in message\nhistory.\n\nPseudo code example:\n\n    // given these already loaded items\n    alreadyLoaded = [1, 2, 3, 4, 5]\n\n    // if we have a search result for message 5, we'll request to \"load around\" 5\n    requestLoadedAround(5) ->\n      // we'll generate a request set around 5\n      requestSet = (3..<8)\n\n      // The problem is here, when we remove already-loaded items\n      unfetched = requestSet - alreadyLoaded // == [6, 7, 8]\n\n      // Since \"load around\" replaced the loaded set, rather than appending to\n      // it, we inadverently lost some important items (3, 4, 5) from our\n      // request set.\n      alreadyLoaded = unfetched\n\nA simple solution would be to not consider alreadyLoaded when replacing rather than appending -\nfor \"load around\" or \"load most recent\" but not for \"load older\" and \"load more recent\".\n\n    alreadyLoaded = [1, 2, 3, 4, 5]\n\n    requestLoadedAround(5) ->\n      requestSet = (3..<8)\n\n      // fetch everything rather than worry about removing the\n      // already-fetched-items\n      unfetched = requestSet\n\n      alreadyLoaded = unfetched\n\nWhen we're making large discontiguous jumps in the conversation history this\nbehavior of replacing rather than appending is unavoidable, but when doing\nshort hops it's wasteful to lose the already loaded items.\n\nSo now, whether the load be via \"load older\", \"load more recent\", \"load most\nrecent\", or \"load around\" - whenever the fetched items are contiguous with the\nalready loaded items, we append rather than replace.", "Merge branch 'mkirk/fix-search-assert'", "skip query - we already have the last interaction", "Merge branch 'mkirk/skip-query'", "clear header attributes when 0 items\n\nI think this was just a typo.", "fix iOS11 crash when deleting last item", "Merge branch 'mkirk/fix-last-delete'", "adapt to renamed string", "fix some tests", "Disable some tests temporarily", "Github CI test", "Add lint action", "PR Feedback", "Merge branch 'nt/ci'", "Tweak disappearing messages token.", "Merge branch 'charlesmchen/tweakDMToken'", "Retry service errors.", "Merge branch 'charlesmchen/retryServiceFailures'", "Update ZKGroup library to v0.4.0.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Update Cococapods.", "Merge branch 'charlesmchen/zkgroup-0.4.0'", "Sketch out revised \"new group\" view.", "Sketch out revised \"new group\" view.", "Sketch out revised \"new group\" view.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/newCreateGroupView'", "Refine \"create new group\" view.", "Merge branch 'charlesmchen/newCreateGroupView2'", "Remove stale test.", "Merge branch 'charlesmchen/removeStaleTest'", "Revert feature flag change.", "\"Bump build to 3.7.0.5.\"", "\"Bump build to 3.7.0.6.\" (Internal)", "Revert to old DM \"become consistent\" behavior for sync transcripts.", "Merge branch 'charlesmchen/syncTranscriptsForReactionsVsDMState' into release/3.7.0", "\"Bump build to 3.7.0.7.\"", "track message action type", "Only set swipe position when *in* a swipe.\n\nOtherwise, messageViewInitialX can be 0, which breaks the layout when the\nmessageView isn't the first thing in the stackview.", "remove unused code", "Batch Select / Delete", "avoid overzealous assert for tests", "Fix \"double group quit messages\" issue.", "Merge branch 'charlesmchen/doubleGroupQuits' into release/3.7.0", "\"Bump build to 3.7.0.8.\"", "Make flaky pinterest link test more permissive.", "Don't allow forwarding items that can't be forwarded", "Extend selected highlight to halfway between message cells", "Update selected highlight dark theme color per Scott B", "Fix lint issue", "Fix swipe-to-reply + reactions", "Merge branch 'mkirk/multi-delete'", "Add support for proto3 oneof and fix a few other proto3 paths", "Use proto3 for storage service", "Generated code", "Add support for Account record to storage service", "Generated code", "Sync archived status with storage service", "Generated code", "Rotate storage service keys and update feature flag to v3", "Treat groupv2 storage records as unknown until the feature is enabled", "More proto changes: flatten and limit account to relevant data", "Don't add group members to profile whitelist when adding the group", "Fix broken tests", "PR Feedback", "Use test board for pinterest tests", "Merge branch 'nt/storage-service-tweaks3'", "Update conversation button coloring in dark mode", "Sync translations", "\"Bump build to 3.7.0.9.\"", "Fix constraint issue", "Disable link preview randomly failing tests", "Merge branch 'release/3.7.0'", "Fix attachment upload progress indicators.", "Merge branch 'charlesmchen/fixUploadProgressIndicators' into release/3.7.0", "Don't show the group management section if it's empty", "Add cancel button to add to contacts action sheet", "Update colors of progress indicator", "Update quote colors for rebrand", "Merge branch 'nt/little-fixes44' into release/3.7.0", "Sync translations", "Feature flags for production", "\"Bump build to 3.7.0.10.\"", "Merge branch 'release/3.7.0'", "Feature flags for beta", "Use more androgynous illustration for profile name reminder", "Use user's profile avatar for profile name reminder if available", "Merge branch 'nt/profile-reminder-tweak'", "Whitelisting a group does not inherently approve all group members for profile sharing outside of the group.", "Merge branch 'nt/storage-service-tweaks5'", "Dismiss keyboard when CVC goes inactive", "Fix a retain cycle in CustomKeyboard", "Merge branch 'nt/little-fixes43'", "Add missing return caught by Xcode 11.4", "Change shebang line for pre and post commit scripts\n\nThese scripts are written for Python 2.7 and fail if python executable\npoints to Python 3.", "Convert conversation settings view to Swift.", "Convert conversation settings view to Swift.", "Convert conversation settings view to Swift.", "Convert conversation settings view to Swift.", "Merge branch 'charlesmchen/rewriteConversationSettingsView'", "Rework conversation settings view.\n\nAdd group attributes view controller.", "Respond to CR.", "Merge branch 'charlesmchen/reworkConversationSettingsView'", "Clean up code generation.", "Clean up code generation.", "Clean up code generation.", "Update Cocoapods.", "Merge branch 'charlesmchen/cleanupCodeGeneration'", "Add expiration to attachment pointer protos.", "Add upload timestamp to attachment models.", "Add upload timestamp to attachment models.", "Add upload timestamp to attachment models.", "Merge branch 'charlesmchen/attachmentUploadTimestamp'", "Add \"edit group attributes access\" alert.", "Merge branch 'charlesmchen/reworkConversationSettingsView2'", "Refine conversation settings view.", "Respond to CR.", "Merge branch 'charlesmchen/reworkConversationSettingsView3'", "Fix transaction-within-transaction crash in contacts manager.", "Merge branch 'charlesmchen/contactsManagerTransactionWithinTransaction'", "Tune crash reporting around GRDB initialization failures.", "Merge branch 'charlesmchen/grdbInitializationFailures'", "Rework update of device list.", "Update Cocoapods.", "Clean up ahead of PR.", "Update to RingRTC v1.2.0", "\"Bump build to 3.7.1.0.\"", "Merge branch 'charlesmchen/deviceListUpdates'", "Merge remote-tracking branch 'private/release/3.7.1'", "Updating staging KBS enclave name", "Set storage capability when user has a PIN", "Decouple  PINs and registration lock", "Use PIN progress animation for verification", "Change minimum pin length to 4 digits", "Derive  storage service key from master key, restore on re-register", "Enable pinsForNewUsers", "Fix precommit script for when PRs remove files", "Fix registration test", "Update pods", "Merge branch 'nt/pins4all'", "Make read receipts for linked devices durable.", "Update Cocoapods.", "Merge branch 'charlesmchen/durableReadReceiptsForLinkedDevices'", "Fix layout of info message cells.", "Merge branch 'charlesmchen/fixInfoMessageLayout'", "\"Bump build to 3.8.0.0.\"", "Further improve proto parsing robustness.", "Further improve proto parsing robustness.", "Merge branch 'charlesmchen/groupsV2protoParsingRobustness'", "Refine 403 handling in groups v2.", "Refine 403 handling in groups v2.", "Fix broken tests.", "Merge branch 'charlesmchen/groupsV2403vsNotAuthorizedAction'", "Update l10n strings/", "Update l10n strings.", "Point at production", "\"Bump build to 3.8.0.1.\"", "Overhaul \"create new group\" and \"add group member\" views.\n\n* Move \"new group\" button.\n* Overhaul new group view header.\n* Add 'new group confirm' view.\n* Add the new \"add group members\" view.", "Respond to CR.", "Merge branch 'charlesmchen/reworkNewGroupFlow'", "Fix tests.", "Fix tests.", "Enable group member actions in conversation view.", "Merge branch 'charlesmchen/groupMemberActionsVsConversationView'", "Add UI for groups v2 invites.", "Merge branch 'charlesmchen/groupsV2InvitesUI'", "Update icon appearance in convo settings view's add members button.", "Apply CGSize(square:).", "Apply CGSize(square:).", "Merge branch 'charlesmchen/groupsV2AddMoreMembersIcon'", "Always show DM controls in the conversation settings UI.", "Merge branch 'charlesmchen/dmSettingsVisibility'", "Update block/leave actions in new conversation settings view.", "Update copy.", "Merge branch 'charlesmchen/deleteBlockAndLeave'", "Add new icon for pending invites in convo settings.", "Merge branch 'charlesmchen/pendingInvitesIcon'", "Use old \"create group\" button until we ship the new groups v2 UI.", "Use old \"create group\" button until we ship the new groups v2 UI.", "Use old \"create group\" button until we ship the new groups v2 UI.", "Merge branch 'charlesmchen/groupsV2NewGroupButton'", "Update copy for groups v2 attributes access.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2AttributesAccessCopy'", "Remove YDB from views.", "Remove YDB from views.", "Remove YDB from views.", "Remove YDB from views.", "Respond to CR.", "Merge branch 'charlesmchen/removeYdbFromViews'", "Update l10n strings.", "\"Bump build to 3.8.0.2.\"", "Clean up VC initializers.", "Add \"replace admin\" flow.", "Add \"replace admin\" flow.", "Merge branch 'charlesmchen/lastAdminToLeaveGroup'", "Reset zkgroup-related state when zkgroup library changes.", "Merge branch 'charlesmchen/resetZKGroups'", "Tweak SAE's 'dismiss in background' behavior.", "Merge branch 'charlesmchen/saeDismissInBackground'", "Ensure onboarding is marked as complete after linking", "Support new storageCapable registration response", "New feature flag for pins4everyone v2", "Merge branch 'nt/little-fixes45'", "Use separate contact stores for fetches.", "Merge branch 'charlesmchen/slowContactFetch'", "Fix 'dangling buffer pointer' issue.", "Fix small build warnings.", "Fix build warnings.", "Fix build warnings around initializers.", "Fix build warnings around initializers.", "Fix build warnings around initializers.", "Fix build warnings.", "Fix build warnings around initializers.", "Fix build warnings around initializers.", "Fix build warnings around initializers.", "Fix build warnings around initializers.", "Fix build warnings.", "Fix build warnings around initializers.", "Merge branch 'charlesmchen/fixBuildWarnings'", "Update l10n strings.", "\"Bump build to 3.8.0.3.\"", "Bump GRDB schema version.", "Fix production build break.", "\"Bump build to 3.8.0.4.\"", "Add 'learn more' link when can't add user to a v2 group.", "Respond to CR.", "Merge branch 'charlesmchen/groupInfoUrl'", "Update ZKGroup.", "Update service params.", "Fix some pending iOS 13 todos", "Remove Xcode 11 TODOs", "Merge branch 'nt/ios13-fixes'", "Link to localized support articles", "Merge branch 'nt/localization-fix'", "Fix group typing indicator.", "Merge branch 'nt/fix-typing-indicators'", "Rework feature/debug/service flags for internal testing of groups v2.", "Rework feature/debug/service flags for internal testing of groups v2.", "Clean up ahead of merge.", "Merge branch 'charlesmchen/groupsV2InternalFlags'", "Update proto wrapper script for python3", "Add CDN key and number to AttachmentPointer proto message", "Update ZKGroup pod.", "Update ZKGroup constants.", "Set flags for staging build with groups v2 enabled.", "\"Bump build to 3.8.0.5.\"", "Set flags for daily build.", "\"Bump build to 3.8.0.6.\"", "Small fixes for groups v2.", "Merge branch 'charlesmchen/groupsV2SmallFixes'", "Fix new member bar layout issues.", "Merge branch 'charlesmchen/fixNewMemberBarLayout_'", "Set flags for staging build with groups v2 enabled.", "\"Bump build to 3.8.0.7.\"", "Set flags for daily build.", "\"Bump build to 3.8.0.8.\"", "Fix more build warnings.", "Fix more build warnings.", "Fix more build warnings.", "Fix more build warnings.", "Fix more build warnings.", "Fix \"unknown locale in simulator\".", "Fix more build warnings.", "Fix more build warnings.", "Merge branch 'charlesmchen/moreBuildWarnings'", "Update Cocoapods.", "Enforce max group member count.", "Enforce max group member count.", "Enforce max group member count.", "Merge branch 'charlesmchen/groupsV2MaxGroupSize' into release/3.8.0", "Refine groups v2 403 handling.", "Merge branch 'charlesmchen/groupsV2refine403' into release/3.8.0", "Always record profile keys from groups v2 updates.", "Merge branch 'charlesmchen/groupsV2alwaysRecordProfileKeys' into release/3.8.0", "Add a indicator of profile key status in the conversation settings view header.", "Merge branch 'charlesmchen/profileKeyIndicator' into release/3.8.0", "Reconcile phone number and uuids recipients.", "Merge branch 'charlesmchen/uuidVsPhoneNumberRecipients' into release/3.8.0", "\"Bump build to 3.8.0.9.\"", "\"Bump build to 3.8.0.10.\"", "Update l10n strings.", "Merge remote-tracking branch 'private/release/3.8.0'", "Update icon that was missed", "Merge branch 'nt/little-fixes46' into release/3.8.0", "Proto changes", "Receive support for delete for everyone", "Generated code", "Refine how user names are rendered.", "Update design to reflect offline discussion.", "Merge branch 'charlesmchen/groupsV2MemberNames' into release/3.8.0", "Fix uploadTimestamp nullability in schema.", "Merge branch 'charlesmchen/uploadTimestampNullability' into release/3.8.0", "Aggressively enable groups v2 support in member picking views.", "Aggressively enable groups v2 support in member picking views.", "Aggressively enable groups v2 support in member picking views.", "Aggressively enable groups v2 support in member picking views.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2enableGroupsV2Support' into release/3.8.0", "Filter groups v2 messages by source address.", "Merge branch 'charlesmchen/groupsV2sourceFiltering' into release/3.8.0", "Prepare for per-group queues in group message processing.", "Merge branch 'charlesmchen/groupsV2perGroupProcessingQueues' into release/3.8.0", "Add asserts around zkgroup encryption.", "Respond to CR.", "Merge branch 'charlesmchen/zkGroupEncryptionAsserts' into release/3.8.0", "PR Feedback", "Merge branch 'nt/delete-for-everyone'", "\"Bump build to 3.8.0.11.\" (Internal)", "\"Bump build to 3.8.0.12.\" (Internal)", "Group v2 design refinements.", "Group v2 design refinements.", "Merge branch 'charlesmchen/groupsV2UIDesignRefinements' into release/3.8.0", "Update all sds python shebang lines to 2.7", "Update attachment model to hold cdn key and cdn number", "Migrate schema to add CDN key and number and add CDN2 constants", "Enable receiving attachments on CDN 2", "Set the protocol version when sending a new style attachment", "Fix bug in guard clause", "Merge branch 'ehren/receive-cdn2'", "Allow attributed table header/footer", "Update PINs copy", "Fix overzealous assert", "Disable PINs for new users", "Merge branch 'nt/little-fixes47' into release/3.8.0", "\"Bump build to 3.8.0.13.\" (Internal)", "\"Bump build to 3.8.0.14.\" (Internal)", "\"Bump build to 3.8.0.15.\" (Internal)", "Merge remote-tracking branch 'private/release/3.8.0'", "\"Bump build to 3.8.0.16.\" (Internal)", "\"Bump build to 3.8.0.17.\" (Internal)", "Treat iPhone XR as plus size phone", "Merge branch 'nt/little-fixes48' into release/3.8.0", "Avoid rate limits while doing profile fetches.", "Avoid rate limits while doing profile fetches.", "Avoid rate limits while doing profile fetches.", "Avoid rate limits while doing profile fetches.", "Respond to CR.", "Merge branch 'charlesmchen/profileRateLimits' into release/3.8.0", "Bulk UUID lookup.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/groupsV2MissingUuids' into release/3.8.0", "\"Bump build to 3.8.0.18.\" (Internal)", "\"Bump build to 3.8.0.19.\" (Internal)", "Merge branch 'release/3.8.0'", "More design changes.", "More design changes.", "Fix \"missing name\" errors in group creation.", "Fix typo in groups v2 encryption.", "Always enable \"pending members\" item in conversation settings view.", "Tweak nav bar in conversation settings view.", "Tweak circle icon layout.", "Update \"view all members\" item appearance.", "Change background color of conversation settings view.", "Change section spacing in conversation settings view.", "Resize font sizes in table view cells.", "Update table cell layouts.", "Update table cell layouts.", "Update table cell layouts.", "Update table cell layouts.", "Tweak font sizes again.", "Refine 'circled' icons.", "Merge branch 'charlesmchen/groupsV2moreDesignChanges' into release/3.8.0", "Set flags for staging build with groups v2 enabled.", "\"Bump build to 3.8.0.20.\" (Internal)", "Set flags for daily build.", "\"Bump build to 3.8.0.21.\" (Internal)", "Revise dark theme.", "Revise dark theme.", "Revise dark theme.", "Revise dark theme.", "Revise dark theme.", "Revise dark theme.", "Revise dark theme.", "Revise dark theme.", "Revise dark theme.", "Revise dark theme.", "Revise dark theme.", "Respond to CR.", "Merge branch 'charlesmchen/darkThemeRevisions' into release/3.8.0", "Clean up lingering groups v2-related TODOs.", "Clean up lingering groups v2-related TODOs.", "Clean up lingering groups v2-related TODOs.", "Merge branch 'charlesmchen/groupsV2Todos' into release/3.8.0", "Further PIN copy changes", "Merge branch 'nt/little-fixes49' into release/3.8.0", "Add early message handling for delivery receipts, reactions, and delete for everyone", "\"Bump build to 3.8.0.22.\" (Internal)", "\"Bump build to 3.8.0.23.\" (Internal)", "Update RingRTC v1.3.1.", "Merge branch 'charlesmchen/ringRTCv1.3.1' into release/3.8.0", "Design changes.", "Fix bug in bulk uuid lookup.", "Ignore invalid identity keys on staging.", "Avoid \"note to self\" icon in group conversation settings.", "Design changes.", "Design changes.", "Clean up ahead of PR.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2designTweaksContinued' into release/3.8.0", "\"Bump build to 3.8.0.24.\" (Internal)", "\"Bump build to 3.8.0.25.\" (Internal)", "Update l10n strings.", "Add some limits on the number of early messages we keep around.", "Merge branch 'nt/early-message-handling'", "Bump rubyzip from 1.2.4 to 1.3.0\n\nBumps [rubyzip](https://github.com/rubyzip/rubyzip) from 1.2.4 to 1.3.0.\n- [Release notes](https://github.com/rubyzip/rubyzip/releases)\n- [Changelog](https://github.com/rubyzip/rubyzip/blob/master/Changelog.md)\n- [Commits](https://github.com/rubyzip/rubyzip/compare/v1.2.4...v1.3.0)\n\nSigned-off-by: dependabot[bot] <support@github.com>", "Bump excon from 0.66.0 to 0.73.0\n\nBumps [excon](https://github.com/excon/excon) from 0.66.0 to 0.73.0.\n- [Release notes](https://github.com/excon/excon/releases)\n- [Changelog](https://github.com/excon/excon/blob/master/changelog.txt)\n- [Commits](https://github.com/excon/excon/compare/v0.66.0...v0.73.0)\n\nSigned-off-by: dependabot[bot] <support@github.com>", "Fix reference to SCK in auto-genstrings.", "Remove overzealous assert.", "Merge branch 'charlesmchen/smallFixes' into release/3.8.0", "Revert avatar size change in conversation list view.", "Fix group members view.", "Hide action items in recipient pickers during searches.", "Clean up conversation list view's preview updates.", "Only show \"replacement admin\" alert if you are the last admin.", "Merge branch 'charlesmchen/yetMoreDesignTweaks' into release/3.8.0", "Update l10n strings.", "Set flags for staging build with groups v2 enabled.", "\"Bump build to 3.8.0.26.\" (Internal)", "Set flags for daily build.", "\"Bump build to 3.8.0.27.\"", "Tiny tweaks to search bar in 'add group memb er' views.", "Merge branch 'charlesmchen/addMemberSearchBars' into release/3.8.0", "Merge remote-tracking branch 'private/release/3.8.0'", "Update ZKGroup to v0.6.0.", "Cancel stale reaction notifications when the reaction is removed or replaced", "Only clear notifications for messages that have been read", "Track reaction read state", "Fix wasRemotelyDeleted", "Fix tests", "Merge branch 'nt/reaction-improvements'", "Update server public params.", "Merge branch 'charlesmchen/zkGroup0.6.0' into release/3.8.0", "\"Bump build to 3.8.0.28.\" (Internal)", "\"Bump build to 3.8.0.29.\"", "Improve groups v2 logging.", "Merge branch 'charlesmchen/improveV2Logging' into release/3.8.0", "\"Bump build to 3.8.0.30.\" (Internal)", "\"Bump build to 3.8.0.31.\"", "\"Bump build to 3.8.0.32.\"", "Enable pinsForNewUsers feature flag.", "Revise group member labels.", "Merge branch 'charlesmchen/groupsV2MemberCountLabels' into release/3.8.0", "Reduce spurious error logging on startup.", "Merge branch 'charlesmchen/spuriousErrorLogging' into release/3.8.0", "Revise table section header and footer backgrounds.", "Revise table section header and footer backgrounds.", "Fix group icon resolution.", "Disable selection of \"you\" member in conversation settings.", "Design changes for groups v2 UI.", "Change sorting of group members in conversation settings view.", "Improve handling of v1 groups in v2 groups UI.", "Clean up ahead of PR.", "Remove cell separators in recipient pickers.", "Tweak avatar sizes again.", "Adjust layout of new group confirm view.", "Clean up ahead of PR.", "Revise how member counts are presented in new \"create group\" flow.", "Tweak contact sorting.", "Merge branch 'charlesmchen/groupsV2designAgain' into release/3.8.0", "Rework recipient picker structure.", "Rework recipient picker structure.", "More design changes.", "Clean up head of PR.", "More design changes.", "More design changes.", "More design changes.", "More design changes.", "Update section header and footer backgrounds in table views.", "Apply theme blue tint colors.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2designAgainV2' into release/3.8.0", "Fix build breakage.", "PINs should be enabled for anyone who sets up a PIN in KBS, regardless of the FF settings.", "Merge branch 'nt/little-fixes50' into release/3.8.0", "Update l10n strings.", "Update l10n strings.", "Set flags for staging build with groups v2 enabled.", "\"Bump build to 3.8.0.33.\" (Internal)", "Set flags for daily build.", "\"Bump build to 3.8.0.34.\"", "Merge remote-tracking branch 'private/release/3.8.0'", "Update Cocoapods.", "[Security] Bump json from 2.2.0 to 2.3.0\n\nBumps [json](https://github.com/flori/json) from 2.2.0 to 2.3.0. **This update includes a security fix.**\n- [Release notes](https://github.com/flori/json/releases)\n- [Changelog](https://github.com/flori/json/blob/master/CHANGES.md)\n- [Commits](https://github.com/flori/json/compare/v2.2.0...v2.3.0)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "Move forward button back to main toolbar", "Merge branch 'nt/little-fixes51' into release/3.8.0", "Mark all existing interactions as not deleted", "Merge branch 'nt/little-fixes52'", "Avoid and be robust to duplicate identifiers in storage service manifests.", "\"Bump build to 3.8.0.35.\" (Internal)", "Use blob protos for encrypted attributes.", "Use blob protos for encrypted attributes.", "Merge branch 'charlesmchen/groupsV2blobProtos' into release/3.8.0", "Save disappearing message changes in convo settings view.", "Merge branch 'charlesmchen/groupsV2SaveDMChanges' into release/3.8.0", "Merge remote-tracking branch 'private/release/3.8.0'", "\"Bump build to 3.8.1.0.\" (Internal)", "Revise group v2 proto parsing robustness.", "Suppress \"group updated\" info messages without user-facing changes.", "Merge branch 'charlesmchen/groupsV2parsingRobustnessTweaks' into release/3.8.1", "Try to reduce 0x8badf00d crashes.", "Merge branch 'charlesmchen/avoidBadFood' into release/3.8.1", "Update to ZKGroup v0.7.0.", "Merge branch 'charlesmchen/zkGroupsV0.7.0' into release/3.8.1", "Update l10n strings.", "Update l10n strings.", "Set flags for staging build with groups v2 enabled.", "\"Bump build to 3.8.1.1.\" (Internal)", "Update production server params for v0.7.0.", "Set flags for daily build.", "Disable quoted reply to view-once messages.", "Merge branch 'charlesmchen/viewOnceVsReply' into release/3.8.1", "Set feature flags for internal testing of groups v2 on production.", "Improve logging around missing request auth.", "Merge branch 'charlesmchen/missingAuthLogging' into release/3.8.1", "\"Bump build to 3.8.1.2.\" (Internal)", "Set feature flags for development.", "Merge branch 'release/3.8.1'", "Debug UI for screenshots without assets.", "Merge branch 'screenshots3' into release/3.8.1", "Update l10n strings.", "Use separate operation queues for \"immediate\" and \"after message processing\" group update operations.", "Improve logging around message processing.", "Merge branch 'charlesmchen/groupsV2seperateUpdateQueues' into release/3.8.1", "Add gv2 member status indicators.", "Add gv2 member status indicators.", "Add gv2 member status indicators.", "Add gv2 member status indicators.", "Merge branch 'charlesmchen/groupsV2memberStatusIndicators' into release/3.8.1", "Update to RingRTC v1.3.2.", "Merge branch 'charlesmchen/ringRTCv1.3.2' into release/3.8.1", "Set flags for staging build with groups v2 enabled.", "Update l10n strings.", "\"Bump build to 3.8.1.3.\" (Internal)", "Set feature flags for internal testing of groups v2 on production.", "\"Bump build to 3.8.1.4.\" (Internal)", "Set feature flags for development.", "Tweak visibility of the gv2 capability indicator.", "\"Bump build to 3.8.1.5.\"", "Improve visibility around device capabilities.", "Set feature flags for internal testing of groups v2 on production.", "\"Bump build to 3.8.1.6.\" (Internal)", "Improve account attribute updates.", "Improve account attribute updates.", "Improve account attribute updates.", "Merge branch 'charlesmchen/updateDeviceCapabilities' into release/3.8.1", "Merge remote-tracking branch 'private/release/3.8.1'", "Add requireUUIDs feature flag.", "Merge branch 'charlesmchen/requireUuidsVsAllowUuidOnly' into release/3.8.1", "Modify about view to let users copy tokens to pasteboard.", "Merge branch 'charlesmchen/copyAboutTokens' into release/3.8.1", "Tweak feature flags for internal testing.", "\"Bump build to 3.8.1.7.\" (Internal)", "\"Bump build to 3.8.2.0.\" (Internal)", "\"Bump build to 3.8.2.1.\" (Internal)", "\"Bump build to 3.8.2.2.\"", "\"Bump build to 3.8.2.3.\" (Internal)", "\"Bump build to 3.8.2.4.\"", "\"Bump build to 3.8.2.5.\" (Internal)", "\"Bump build to 3.8.2.6.\" (Internal)", "Refine remote notifications.", "Merge branch 'charlesmchen/refineRemoteNotifications' into release/3.8.2", "Improve signal recipient retention heuristics.", "Merge branch 'charlesmchen/uuidVsPhoneNumberHeuristics' into release/3.8.2", "Revert \"Try to reduce 0x8badf00d crashes.\"\n\nThis reverts commit 7bf766917dc6db76de26be624dcf8c294e6a0bb3.", "Try to reduce 0x8badf00d crashes by performing \"app did become ready\" block one-by-one.; Reduce overall frequency of checkpoints.", "Merge branch 'charlesmchen/appDidBecomeReadyPolite' into release/3.8.2", "Revert \"Merge branch 'charlesmchen/viewOnceVsReply' into release/3.8.1\"\n\nThis reverts commit c70bafa1d9b521237ed260f22ec8279e928ae956, reversing\nchanges made to f1d02ed74d275b4e131d15e349bc67ba378d94fa.", "Disallow sequential and repeating pins", "Merge branch 'nt/little-fixes53' into release/3.8.2", "Update l10n strings.", "Set feature flags for production.", "\"Bump build to 3.8.2.7.\"", "Set feature flags for internal testing of groups v2 on production.", "\"Bump build to 3.8.2.8.\" (Internal)", "\"Bump build to 3.8.3.0.\" (Internal)", "Add logging around camera initialization failures.", "Merge remote-tracking branch 'private/release/3.8.2'", "Merge branch 'charlesmchen/cameraNotWorking' into release/3.8.3", "\"Bump build to 3.8.3.1.\" (Internal)", "Fix 'unsaved changes' copy in conversation settings view.", "Merge branch 'charlesmchen/unsavedConversationChanges' into release/3.8.3", "Show 'reset session' button for 'no session' errors.", "Merge branch 'charlesmchen/noSessionReset' into release/3.8.3", "Don't let users quote-reply with a view-once message.", "Merge branch 'charlesmchen/quotedRepliesVsViewOnceMessagesTake2' into release/3.8.3", "Leverage session sender key indices when merging recipients.", "Respond to CR.", "Merge branch 'charlesmchen/mergeRecipientUsingSessionKeyIndices' into release/3.8.3", "\"Bump build to 3.8.3.2.\" (Internal)", "Merge remote-tracking branch 'private/release/3.8.3'", "Always use UUID capable sender certificate", "Merge branch 'nt/always-use-uuid-ud-cert' into release/3.8.3", "Update Cocoapods.", "Update Cocoapods.", "Set flags for staging build with groups v2 enabled.", "\"Bump build to 3.8.3.3.\" (Internal)", "Nag iOS 10 users to upgrade to iOS 11.", "Merge branch 'charlesmchen/iOS10upgradeNag' into release/3.8.3", "Update l10n strings.", "Set feature flags for production.", "Cautious message processing.", "\"Bump build to 3.8.3.4.\"", "Revert \"Cautious message processing.\"\n\nThis reverts commit f106748898d672037bbde895d78dc7183e3f1893.", "\"Bump build to 3.8.3.5.\"", "Set feature flags for internal testing of groups v2 on production.", "\"Bump build to 3.8.4.0.\" (Internal)", "Merge branch 'release/3.8.4'", "Show 'reset session' button for invalid key errors.", "\"Bump build to 3.8.4.1.\" (Internal)", "Pass remote device ID to RingRTC", "Update protocol buffer and behavior for multi-ring\n\nAdd type for Hangup messages, to reflect either normal hangup or hangup\nbecause the call was accepted elsewhere.\n\nAdd type to Offer messages, which is used to indicate the type of call\nthat is being originated, either an audio call (the same as all legacy\ncalls) or a video call.\n\nAdd level for all messages, which is used to filter feature support,\neither legacy or multi-ring behavior.\n\nIf the feature level for the Call Message is detected as legacy, AND if\nthe device is NOT the primary, drop the incoming Call Message.\n\nAlways mark outgoing Call Messages as multi-ring capable.\n\nAdjust RingRTC interfaces to support:\n- Call Media Type (default is always audioCall for now)\n- The Hangup Type, which can be either normal (i.e. regular hangup) or\n  accepted, replacing the removed Accepted message.\n\nHangups can now be sent out as a legacy messages or new messages. The\nformat is the same so that legacy clients will ignore 'new' hangups\nsent to squelch ringing if they were actually the 'winner'.\n\nPassing information for receivedOffer and receivedAnswer APIs to\nindicate if the sender is a legacy sender or not. Legacy here means\nsomeone using the protocol before the FeatureLevel was added to the\nprototol for Call Messages.\n\nPassing information to receivedOffer to indicate if the local device\nis primary or not. As a result, if the device is receiving the offer\nfrom a legacy device and is non-primary, the offer shall be ignored.\nIn this case, a new event is fired:\n\nendedIgnoreCallsFromNonMultiringCallers\n\nCo-authored-by: Michael Kirk <michael@signal.org>", "Add UI support for declined and busy elsewhere\n\nEnsure onboarding is marked as complete after linking", "Adjust protocol definitions\n\nAdded a new field destinationDeviceId to the protocol buffer for\r\nCallMessage.\r\n\r\nAdded supporting logic of setting it when sending.\r\n\r\nAdded a catch when receiving: If the field is defined, then use it\r\nand check the local deviceId and if not a match, drop the message\r\nsince it is not for this device.\r\n\r\nChanged naming to be more explicit.\r\n\r\nRemoved the FeatureLevel definition from the protocol since proto enums\r\nwon't be backwards compatible if updated. Instead, adding boolean flags\r\ninstead. For this release, the feature supported is multi-ring, so a\r\nmultiRing flag is defined instead of a feature level.\r\n\r\nThe supportsMultiRing value is persisted through to RingRTC. There is\r\nno more need to translate between the enumerations anymore.\r\n\r\nAdded prefix naming for proto enums since the namespace is shared.\r\n\r\nRemoved defaults since they are already the desired default values.\r\n\r\nWhen sending messages, using a nullable unsigned integer type instead\r\nof a flag and value pair. This simplifies the function calls, although\r\nsome NSNumber extensions were required on the Swift side.", "Add minor changes to protocol buffer definition", "Update to RingRTC 2.0.1 and WebRTC artifact", "Use 2.0.1 production release for artifact", "Adjust multi-ring feature flags for initial release.", "Merge branch 'ringrtc/multi-ring'", "Introduce \"Ready flag\".", "Introduce \"Ready flag\".", "Merge branch 'charlesmchen/readyFlag'", "Update Cocoapods.", "Add TSIncomingMessageBuilder.", "Add TSIncomingMessageBuilder.", "Add TSIncomingMessageBuilder.", "Add TSIncomingMessageBuilder.", "Add TSIncomingMessageBuilder.", "Add TSIncomingMessageBuilder.", "Add TSIncomingMessageBuilder.", "Update Cocoapods.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/incomingMessageBuilder'", "Merge remote-tracking branch 'private/release/3.8.4'", "Update Cocoapods.", "Add uncaught exception handler in debug builds.", "Merge branch 'charlesmchen/uncaughtExceptionHandler'", "Fix KBS registration bug", "Merge branch 'nt/kbs-fix'", "Fix thread safety issues in 'restore groups' logic.", "Merge branch 'charlesmchen/restoreGroupsVsMainThread'", "Update RingRTC to v2.0.2", "Update Cocoapods.", "Merge branch 'ringrtc/bump-2.0.2'", "Retain all promises until complete.", "Merge branch 'charlesmchen/retainPromises'", "Send invalid group updates from the debug UI.", "Send invalid group updates from the debug UI.", "Send invalid group updates from the debug UI.", "Send invalid group updates from the debug UI.", "Merge branch 'charlesmchen/groupsV2malformedGroupUpdates'", "Merge user profiles when merging signal recipients.", "Avoid 'unknown' user labels in group update copy.", "Merge branch 'charlesmchen/profilesVsMergingRecipients'", "Set feature flags for internal testing of groups v2 on production.", "\"Bump build to 3.9.0.1.\" (Internal)", "Do not call setCdnKey on the builder if cdnKey is empty string\n\nDoing this causes the protobuf library to emit a cdnKey in the wire\nformat which then shows up as non-null on other platforms where only\nnull state of the cdnKey is being checked instead of non-empty.", "ZKGroup v0.7.1.", "Merge branch 'charlesmchen/zkGroup_v0.7.1'", "Fix broken tests.", "Notifications for errors.", "Clean up usage of promises around push tokens.", "Fix KBS registration bug", "Set feature flags for production.", "Update to RingRTC v1.3.4.", "Merge branch 'charlesmchen/ringRtc-v1.3.4' into release/3.8.4", "\"Bump build to 3.8.4.2.\"", "\"Bump build to 3.8.4.3.\"", "Merge branch 'charlesmchen/errorNotifications'", "Clean up usage of promises around push tokens.", "Merge branch 'charlesmchen/pushTokenPromises'", "Merge branch 'release/3.8.4'", "Device Transfer Service", "Device Transfer Service", "Enable transfer capability", "Primary device transfer UI flows", "Use 4096 bit RSA key for transfer", "Fix tests", "Add connection indicator and handle initial connection errors better", "Remove excessive progress logging", "Only show cancel confirmation if a transfer is in progress", "Fix DB transfer to keep the transaction open for the full duration of the operations", "Update pods", "Merge branch 'nt/device-transfer'", "\"Bump build to 3.9.0.2.\" (Internal)", "Set 'messages requests' feature flag in internal gv2 builds.", "Merge branch 'charlesmchen/messageRequestsVsGroupsV2'", "Update Cocoapods.", "Refine group change processing.", "Refine group change processing.", "Compare embedded revision proto with group context revision.", "Refine handling of group changes.", "Refine handling of group changes.", "Refine handling of group changes.", "Merge branch 'charlesmchen/groupV2groupChangeRefinements_'", "Address PR Feedback", "Add updated icons", "Add linked device transfer flow", "Safe db restore and track if has been restored", "PR feedback and extra logging", "Fail app launch and prompt for debug logs if restore is failing. Crash app if hotswap restore fails", "Small design fixes", "Fix handling when you navigate back to PIN screen", "Fix URL", "Merge branch 'nt/device-transfer-finalization'", "Bench the ready flag groups.", "Merge branch 'charlesmchen/benchReadyFlagGroups'", "Set feature flags for production.", "Disable transfer \"throwaway\" mode", "Add translations for Irish, Gujarati, Hausa, Kannada, Malayalam, Punjabi, Serbian, and Swahili", "\"Bump build to 3.9.0.3.\"", "Feature flags for internal\n\nThis reverts commit c6468940ae6d9b40921e5122dc1f09534c3d133b.", "\"Bump build to 3.9.0.4.\" (Internal)", "log the path that contains the invalid characters", "\"Bump build to 3.9.0.5.\" (Internal)", "Add setting to disable PIN reminders", "Merge branch 'nt/disable-pin-reminders' into release/3.9.0", "Feature flags for production\n\nThis reverts commit ec2f9a9309de76ef7d4f6dbe5d073115402a554b.", "Add translations for Punjabi, Afrikaans, and Javanese", "\"Bump build to 3.9.0.6.\"", "Feature flags for internal\n\nThis reverts commit 1580ad7951cad6f161fa06d2b60b8608315efb29.", "\"Bump build to 3.9.0.7.\" (Internal)", "Delete for Everyone UI", "Merge branch 'nt/delete-for-everyone-ui'", "Show UUID indicators in .qa builds.", "Message send failures are not fatal to group updates.", "Add internal UI for manipulating groups v2 membership access.", "Refine \"who can revoke invites\" behavior.", "Improve errors in recipient picker.", "Refine \"who can revoke invites\" behavior.", "Refine \"pending invites\" behavior.", "Remove confirmation UI for saving changes to disappearing messages state.", "Merge branch 'charlesmchen/groupsV2moreFixes' into release/3.9.0", "Remove usage of retainUntilComplete.", "Merge branch 'charlesmchen/retainUntilComplete'", "Mark messages as read in batches.", "Merge branch 'charlesmchen/batchMarkAsRead'", "Mark messages as read in batches.", "\"Bump build to 3.9.0.8.\" (Internal)", "Feature flags for production\n\nThis reverts commit ec2f9a9309de76ef7d4f6dbe5d073115402a554b.", "Fix 'invalidVerificationCode' during PIN restoration", "Fix onboarding PIN animation", "Remove storage service feature flag", "Transfer service cleanup", "Merge branch 'nt/little-fixes54' into release/3.9.0", "Sync translations", "\"Bump build to 3.9.0.9.\"", "Feature flags for internal\n\nThis reverts commit 1580ad7951cad6f161fa06d2b60b8608315efb29.", "\"Bump build to 3.9.0.10.\" (Internal)", "Merge branch 'release/3.9.0'", "Increase transfer manifest size constraints, better handle errors.", "Feature flags for production\n\nThis reverts commit ec2f9a9309de76ef7d4f6dbe5d073115402a554b.", "\"Bump build to 3.9.0.11.\"", "Feature flags for internal\n\nThis reverts commit 1580ad7951cad6f161fa06d2b60b8608315efb29.", "\"Bump build to 3.9.0.12.\" (Internal)", "Use 4096 bit key for transfers", "Ensure blocking splashes don't present when opening a conversation directly", "Ask for camera permissions before presenting QR view", "Destroy old device after transfer", "Merge branch 'nt/little-fixes55' into release/3.9.0", "EOL iOS 10 (evergreen build)", "Merge branch 'nt/ios-10' into release/3.9.0", "Minor improvements to groups v2.", "Merge branch 'charlesmchen/groupsV2minorTweaks' into release/3.9.0", "Add translations for Kazakh", "Feature flags for production\n\nThis reverts commit ec2f9a9309de76ef7d4f6dbe5d073115402a554b.", "\"Bump build to 3.9.0.13.\"", "Feature flags for beta", "\"Bump build to 3.9.0.14.\"", "Feature flags for internal\n\nThis reverts commit 1580ad7951cad6f161fa06d2b60b8608315efb29.", "\"Bump build to 3.9.0.15.\" (Internal)", "Merge branch 'release/3.9.0'", "Goodbye iOS 10", "Merge branch 'nt/ios-11'", "Mark as unread", "Change delete for everyone window to 3 hours", "Merge branch 'nt/mark-unread'", "\"Bump build to 3.10.0.0.\" (Internal)", "\"Bump build to 3.10.0.1.\" (Internal)", "\"Bump build to 3.10.0.2.\" (Internal)", "\"Bump build to 3.10.0.3.\" (Internal)", "\"Bump build to 3.9.1.0.\"", "Fix add group member.", "Merge branch 'charlesmchen/fixAddGroupMember' into release/3.9.1", "Set feature flags for production.", "\"Bump build to 3.9.1.1.\"", "Merge remote-tracking branch 'private/release/3.9.1'", "Generate Emoji enum representing all available emoji", "Merge smileys & people categories, ignore skin tones", "Refactor to use shortName as some emoji don't have a name defined", "Add a helper to see if a given emoji is available on the current iOS version", "Custom Emoji Picker View", "Allow reacting with any emoji", "Add haptic feedback", "Fix background for dark theme", "PR Feedback", "Merge branch 'nt/react-with-any'", "Fix tests", "Merge branch 'nt/fix-tests'", "Badge unread conversations even if they have no unread messages", "Fix handling of sent transcripts for remotely deleted messages", "Improve local encrypted PIN storage", "Migrate to registration lock V2 at launch", "Fix view of media on iPadOS in split screen", "Fix a bug where the selection / send failure icons would sometimes incorrectly render", "Merge branch 'nt/little-fixes57'", "Workaround scroll jump bug", "Merge branch 'nt/fix-scroll-bug'", "Use large thumbnails in conversation to avoid blurry previews", "Increase avatar max dimensions to 1024", "Change default drawing color to red", "Make notifications and chat previews for media messages more descriptive", "Merge branch 'nt/papercuts-3'", "Feature flags for beta", "Sync translations", "\"Bump build to 3.10.0.4.\"", "Feature flags for internal\n\nThis reverts commit 1580ad7951cad6f161fa06d2b60b8608315efb29.", "\"Bump build to 3.10.0.5.\" (Internal)", "Update Cocoapods to v1.9.2.", "Update Cocoapods.", "Merge branch 'charlesmchen/cocoapods-1.9.2'", "Fix build", "Fix build", "Feature flags for beta", "\"Bump build to 3.10.0.6.\"", "Feature flags for internal\n\nThis reverts commit 1580ad7951cad6f161fa06d2b60b8608315efb29.", "\"Bump build to 3.10.0.7.\" (Internal)", "Fix cocoapods issue around preprocessor definitions.", "Update Cocoapods.", "Merge branch 'charlesmchen/cocoapodsPreprocessDefinitions_'", "Blur tool with auto face blur", "Merge remote-tracking branch 'private/release/3.10.0'", "Finalize blur tool UI", "Merge branch 'nt/face-blur' into release/3.10.0", "Don't allow turning off pin reminders unless you have a pin'", "Ensure we mark 2fa as disabled if we delete keys, regardless of success or\nfailure", "Fix an issue where users could get dead ended during pin creation", "Merge branch 'nt/little-fixes58' into release/3.10.0", "Sync translations", "Delay mark as read/unread so the swipe animation can complete", "Workaround an issue when the keyboard dismisses while in message actions", "Feature flags for production", "\"Bump build to 3.10.0.8.\"", "Feature flags for beta", "\"Bump build to 3.10.0.9.\"", "Resolve issues related to groups v2 in test suites.", "Merge branch 'charlesmchen/groupsV2VsTests'", "\"Bump build to 3.10.1.0.\" (Internal)", "Fix a bug where we weren't populating the reglock token during registration", "Add additional logging to diagnose KBS issue", "Downscale images before blurring to ensure consistent blur strength", "Don't show the blur tooltip for non-editable attachments", "Fix a crash when trying to render emoji picker immediately after launch", "Merge branch 'nt/little-fixes59' into release/3.10.1", "Throttle checkpoint frequency.", "Merge branch 'charlesmchen/throttleCheckpointsByTime' into release/3.10.1", "Add translations for Basque", "Feature flags for production", "\"Bump build to 3.10.1.1.\"", "Feature flags for beta", "\"Bump build to 3.10.1.2.\"", "Merge remote-tracking branch 'private/release/3.10.1'", "\"Bump build to 3.11.0.0.\" (Internal)", "\"Bump build to 3.11.0.1.\" (Internal)", "\"Bump build to 3.11.0.2.\" (Internal)", "\"Bump build to 3.11.0.3.\" (Internal)", "De-bounce database observation.", "De-bounce database observation.", "Add debug UI to thrash interaction/thread writes.", "De-bounce database observation.", "Merge branch 'charlesmchen/debounceDatabaseObservation' into release/3.11.0", "Move checkpoints to a dedicated DatabaseQueue.", "Add AtomicUInt.", "Move checkpoints to a dedicated DatabaseQueue.", "Respond to CR.", "Merge branch 'charlesmchen/checkpointingQueue' into release/3.11.0", "Fix typo in read receipt manager.", "De-bounce database observation.", "De-bounce database observation.", "Add debug UI to thrash interaction/thread writes.", "De-bounce database observation.", "Merge branch 'charlesmchen/debounceDatabaseObservation' into release/3.10.2", "Move checkpoints to a dedicated DatabaseQueue.", "Add AtomicUInt.", "Move checkpoints to a dedicated DatabaseQueue.", "Respond to CR.", "Merge branch 'charlesmchen/checkpointingQueue' into release/3.10.2", "Update Cocoapods.", "\"Bump build to 3.10.2.0.\"", "Feature flags for production", "\"Bump build to 3.10.2.1.\"", "Feature flags for internal.", "\"Bump build to 3.10.2.2.\"", "\"Bump build to 3.10.2.0.\" (Internal)", "\"Bump build to 3.10.3.0.\" (Internal)", "Merge branch 'charlesmchen/readReceiptsEnabledBug' into release/3.11.0", "Cull unsavedOutgoingMessage if message is saved outside load window.", "Merge branch 'charlesmchen/unsavedOutgoingMessageEdgeCase' into release/3.11.0", "Reduce checkpoints.", "Merge branch 'charlesmchen/reduceCheckpointFrequency' into release/3.11.0", "Reduce checkpoints.", "Improve crash reports for GRDB schema migrations.", "Cleanup unused copy", "New group creation flow", "Remove old conversation settings views.", "Remove old conversation settings views.", "Feature flags for production.", "Prioritize sending of messages with renderable content.", "Recover off main thread (request maker only).", "A better fix for conversation scroll jumping", "Feature flags for beta", "\"Bump build to 3.10.3.1.\"", "Feature flags for production.", "\"Bump build to 3.10.3.2.\"", "Revert \"Feature flags for internal.\"\n\nThis reverts commit 229de8f5bb6a21e3f5185246fd4d2207be9cb0fb.", "Feature flags for beta.", "\"Bump build to 3.10.3.3.\"", "Feature flags for production.", "\"Bump build to 3.10.3.4.\"", "Merge branch 'release/3.10.3' into release/3.11.0", "Modify model read cache to handle \"known nils\".", "Rework model read caches.", "Clean up.", "Merge branch 'charlesmchen/betterModelReadCaches' into release/3.11.0", "\"Bump build to 3.11.0.4.\" (Internal)", "\"Bump build to 3.11.0.5.\" (Internal)", "Remove old conversation settings views.", "Hide group member count in group views.", "Merge branch 'charlesmchen/hideGroupCount' into release/3.10.3", "Cleanup some excessive error logging", "Merge branch 'nt/error-cleanup' into release/3.11.0", "Label the \"slow write transactions\" logging with the source of the transaction.", "Label the \"slow write transactions\" logging with the source of the transaction.", "Fix rebase breakage.", "Fix rebase breakage.", "Refine the obj-c write macros.", "Update Cocoapods.", "Merge branch 'charlesmchen/slowWriteTransactionLabels' into release/3.11.0", "Improve db logging.", "Respond to CR.", "Merge branch 'charlesmchen/dbLogging' into release/3.11.0", "Rework ReadModelCache to honor uiRead update cycle.", "Merge branch 'charlesmchen/modelReadCacheRevisited' into release/3.11.0", "Update l10n strings.", "Merge branch 'charlesmchen/updateL10n' into release/3.10.3", "Recover off main thread.", "Assert that writes occur on the main thread.", "Move write off main thread.", "Merge branch 'charlesmchen/recoverOffMainThread' into release/3.11.0", "Use display link to push database snapshot updates.", "Use display link to push database snapshot updates.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/displayLinkVsDBSnapshotUpdates' into release/3.10.3", "Merge branch 'release/3.10.3' into release/3.11.0", "Merge branch 'release/3.11.0'", "Update Cocoapods.", "\"Bump build to 3.11.0.6.\" (Internal)", "\"Bump build to 3.11.0.7.\" (Internal)", "\"Bump build to 3.11.0.8.\" (Internal)", "\"Bump build to 3.11.0.9.\" (Internal)", "Fix emoji picker behavior when keyboard is visible", "Merge branch 'nt/little-fixes61' into release/3.10.3", "Add isMediaMessage to MessageSenderJobRecord", "Codegen", "Better attachment querying", "Send media messages on independent queue", "Media messages can only run if all proceeding media and non-media messages have completed", "Enable audible error logging", "Fix database migration", "Fix attachment sort order", "PR Feedback", "Merge branch 'nt/media-queueing' into release/3.10.3", "Increase the number of early messages we maintain per message", "Evacuate early message cache after memory warning", "Merge branch 'nt/little-fixes60' into release/3.10.3", "Move writes off of main thread.", "Feature flags for beta", "\"Bump build to 3.10.3.5.\"", "Feature flags for production.", "\"Bump build to 3.10.3.6.\"", "Merge branch 'release/3.10.3' into release/3.11.0", "Move writes off of main thread.", "Move writes off of main thread.", "Feature flags for beta", "\"Bump build to 3.10.3.7.\"", "\"Bump build to 3.10.4.0.\" (Internal)", "Fix races in database snapshot updates.", "Fix races in database snapshot updates.", "Respond to CR.", "Merge branch 'charlesmchen/databaseSnapshotUpdateRaces' into release/3.10.4", "Throttle message detail view updates.", "Merge branch 'charlesmchen/writesVsMainThread' into release/3.11.0", "Reduce database writes used by message sends.\n\nFix edge case around removed devices.", "Merge branch 'charlesmchen/messageSendWrites' into release/3.11.0", "Fail db migrations early.", "Merge branch 'charlesmchen/registerMigrationsFailEarly' into release/3.11.0", "Merge branch 'charlesmchen/messageDetailViewThrottling' into release/3.10.4", "Minor fixes.", "Merge branch 'charlesmchen/minorFixes' into release/3.11.0", "Modify model read cache to handle \"known nils\".", "Rework model read caches.", "Clean up.", "Rework ReadModelCache to honor uiRead update cycle.", "Merge branch 'release/3.10.4' into release/3.11.0", "\"Bump build to 3.11.0.10.\" (Internal)", "\"Bump build to 3.11.0.11.\" (Internal)", "New permission reminders", "Merge branch 'nt/perm-megaphones' into release/3.10.4", "Reduce max database snapshot update rate.", "\"Bump build to 3.10.4.1.\"", "Feature flags for production.", "\"Bump build to 3.10.4.2.\"", "\"Bump build to 3.10.4.3.\"", "Merge branch 'release/3.10.4' into release/3.11.0", "Use short names for message requests", "Fix message request safe area overlap", "Update message request copy", "Keep track of who added us to a group", "Auto-accept group requests from trusted contacts", "Send our profile key after accepting a message  request", "Update copy", "PR Feedback", "Merge branch 'nt/message-request-finalization' into release/3.10.4", "Fix verified icon rendering in wrong font", "Merge branch 'nt/little-fixes62' into release/3.10.4", "Sync translations", "\"Bump build to 3.10.4.4.\"", "Feature flags for beta", "\"Bump build to 3.10.4.5.\"", "Merge branch 'release/3.10.4' into release/3.11.0", "\"Bump build to 3.11.0.12.\" (Internal)", "\"Bump build to 3.11.0.13.\" (Internal)", "Feature flags for production.", "\"Bump build to 3.10.4.6.\"", "Feature flags for beta", "\"Bump build to 3.10.4.7.\"", "Merge branch 'release/3.10.4' into release/3.11.0", "\"Bump build to 3.10.5.0.\" (Internal)", "Adjust database snapshot frequency to reflect app load.", "Update Cocoapods.", "Update Cocoapods.", "Simplify the database snapshot update throttling.", "Merge branch 'charlesmchen/databaseSnapshotUpdatesVsLoad' into release/3.10.5", "Discard obsolete typing indicator messages.", "Merge branch 'charlesmchen/staleTypingIndicatorMessages' into release/3.10.5", "Cull unsavedOutgoingMessage if message is saved outside load window.", "Fix rebase breakage.", "Merge release/3.10.5.", "Fix a bug where we could inadvertently perform swipe actions on the wrong thread.", "Merge branch 'nt/little-fixes63' into release/3.10.5", "Avoid over-zealous assert.", "Merge remote-tracking branch 'private/release/3.10.5' into release/3.11.0", "\"Bump build to 3.11.0.14.\" (Internal)", "Disable the 'db write on main thread' assert.", "Blocked above sent", "Fix avatar taps on media messages", "Fix tapping avatar view in RTL layouts", "Add to group member action", "Fix find by phone number view", "Merge branch 'nt/add-to-group' into release/3.10.5", "Sync translations", "Feature flags for production.", "Increase session manager pool size.", "\"Bump build to 3.10.5.1.\"", "Feature flags for beta", "\"Bump build to 3.10.5.2.\"", "Merge branch 'release/3.10.5' into release/3.11.0", "Fix new group screen handling of emoji", "Fix full screen media view for RTL users", "Feature flags for production.", "Sync translations", "\"Bump build to 3.10.5.3.\"", "Feature flags for beta", "\"Bump build to 3.10.5.4.\"", "Merge branch 'release/3.10.5' into release/3.11.0", "\"Bump build to 3.10.6.0.\" (Internal)", "Move writes off of main thread.", "Reduce database writes used by message sends.\n\nFix edge case around removed devices.", "Improve Debug UI for cloning groups.", "Merge branch 'charlesmchen/cloneGroups' into release/3.11.0", "Fix rebase breakage.", "Deduplicate thread touches by deferring them until the transaction is finalized.", "Deduplicate thread touches by deferring them until the transaction is finalized.", "Update Cocoapods.", "Merge branch 'charlesmchen/touchThreadsOnFinalization' into release/3.10.6", "Fix assert in sticker cell layout.", "Merge branch 'charlesmchen/stickerCellLayout' into release/3.10.6", "Copy model read cache values. Add deepCopy method to all models.", "Merge branch 'charlesmchen/modelReadCacheDeepCopy' into release/3.10.6", "Only evacuate .uiRead model caches when collection is touched.", "Clean up ahead of PR.", "Merge branch 'charlesmchen/uiReadModelCacheEvacuation' into release/3.10.6", "Message sending perf and edge cases.", "Update Cocoapods.", "Fix rebase breakage.", "Merge branch 'charlesmchen/messageSendingPerf' into release/3.10.6", "Fix group access check.", "Merge branch 'charlesmchen/tweakGroupAccessCheck' into release/3.11.0", "Fix transaction-within-a-transaction in notifications logic.", "Merge branch 'charlesmchen/notificationsTransactions' into release/3.10.6", "Clean up prekey updates.", "Clean up prekey updates.", "Merge branch 'charlesmchen/prekeyUpdates' into release/3.10.6", "Update Cocoapods.", "Reduce logging.", "Ensure outgoing message's recipient state is valid.", "Merge branch 'charlesmchen/minorFixes87' into release/3.10.6", "Insert date headers based on received time not sent time", "Merge branch 'nt/little-fixes64' into release/3.10.6", "Fix rebase breakage.", "Merge remote-tracking branch 'private/release/3.10.6' into release/3.11.0", "Merge branch 'release/3.11.0'", "\"Bump build to 3.11.0.15.\" (Internal)", "\"Bump build to 3.11.0.16.\" (Internal)", "\"Bump build to 3.11.0.17.\" (Internal)", "Add gv2 downgrade checks.", "Merge branch 'charlesmchen/groupsV2DisableAfterEnable' into release/3.11.0", "Do all profile fetches for message sends in parallel.", "Update Cocoapods.", "Fix rebase breakage.", "Clean up ahead of PR.", "Merge branch 'charlesmchen/prekeyUpdates2' into release/3.11.0", "Add a script to just parse & generate SSK Obj-c.", "Merge branch 'charlesmchen/sdsCodegenJustSSKObjC' into release/3.11.0", "\"Bump build to 3.11.0.18.\" (Internal)", "IOS-574: Avoid unnecessary database read transactions in -updateLastVisibleSortId\n\nThis change improves the performance of unread message tracking and\ncollocates code that configures the scroll down button\n\nBefore, a block was asynced back onto the main queue to take out a read\ntransaction. This was a fairly hot path, occurring on\n-scrollViewDidScroll:, a 100ms timer, etc. This transaction was usually\nnot useful since unread count updates only occur sparingly.\n\nThis change breaks out unread message count updates into a separate\nmethod. When updating lastVisibleSortId, the unread method will only be\ncalled when it appears that we may moving from the unread -> read state.\n\nThis adds a couple other minor changes:\n- Minor reconfiguring of some properties (e.g. making a property\n  readwrite, renaming a getter, etc)\n- Leverages a custom setter to automatically reconfigure the\n  scrollDownButton on relevant changes\n- Moves all repeated view configuration of the scrollDownButton into a\n  single method", "Don't load more while decelerating", "Merge branch 'nt/little-fixes65' into release/3.11.0", "Apply diffs to conversation view when loading additional messages", "Fix some additional flashing when loading more", "Merge branch 'nt/little-fixes66' into release/3.11.0", "Fix attachment ordering", "Merge branch 'nt/little-fixes67' into release/3.11.0", "Use sent timestamp for date headers", "Merge branch 'nt/little-fixes68' into release/3.11.0", "Fix race when sending non-durable messages.", "Respond to CR.", "Merge branch 'charlesmchen/nonDurableMessageSendingRace' into release/3.11.0", "PR Feedback: Split out unread tx methods\n\nInstead of implicitly creating an async read tx on a nil parameter, just\nhave a separate method.", "Sync translations", "\"Bump build to 3.11.0.19.\"", "Re-adds a useful comment", "Strip out message request special casing", "Remove expired reactions experience upgrade", "Remove pinsForEveryone special casing", "Remove unused copy", "Merge branch 'nt/cleanup' into release/3.11.0", "Tune message paging", "Merge branch 'nt/little-fixes69' into release/3.11.0", "Merge branch 'mlin/PR/IOS-574'", "IOS-575: Reduce unnecessary updates to lastSortID, unread flag\n\nThis change moves -lastVisibleSortID from a property to a method.\nInstead of having to explicitly call an update method to recompute the\nlastVisibleSortID, we'll just recompute it every time it's invoked.\n\nThis is an improvement because:\na. The computation wasn't very expensive\nb. We were calling -updateLastVisibleSortID much more frequently than\n   how often we actually read it.\nc. We had to make sure we aggressively updated the lastVisibleSortID to\n   make sure it was up to date when we actually read it.\n\nBy moving to something that's recomputed at the time of invocation, we\nend up reducing unnecessary work for a more accurate result.\n\n-updateLastVisibleSortId had one side-effect: clearing the unread\nmessage flag. This responsibility is now moved to\n-markVisibleMessagesAsRead. This seems to make more sense anyway.\n\nOther changes:\n- Adds an explicit clear-only way of updating the unread flag. This is\n  only called from one place but it removes logic that might be unclear\n  at the call site with a method name that makes more sense.\n- Adds some debug assertions to existing code\n- Adds a new ivar to track the last sortID reported to\n  OWSReadReceiptManager\n- Updates -markVisibleMessagesAsRead to adopt this new ivar. Minor\n  spacing improvements to this method.\n- Renames the method to clear the thread unread flag. This helps to\n  differentiate from other similarly named symbols that refer to the\n  ConversationViewController's unread flag.", "PR Feedback:\n\n- Adopt dot syntax unless there's a good reason not to\n- sortID -> sortId", "Merge branch 'mlin/PR/IOS-575'", "Merge branch 'release/3.11.0'", "Modify group seed behavior for v1 group creation retry.", "Merge branch 'charlesmchen/doubleGroupCreation' into release/3.11.0", "Update app badge count aggressively when not active.", "Update app badge count aggressively when not active.", "Update app badge count aggressively when not active.", "Merge branch 'charlesmchen/appBadgeCountVsDatabaseSnapshots' into release/3.11.0", "\"Bump build to 3.11.0.20.\" (Internal)", "Merge remote-tracking branch 'private/release/3.11.0'", "\"Bump build to 3.12.0.0.\" (Internal)", "Handle 409 \"obsolete linked device\" errors when linking.", "Respond to CR.", "Merge branch 'charlesmchen/linkedDeviceVsUpgrade'", "Improve usage of gv2 feature flags.", "Merge branch 'charlesmchen/gv2FeatureFlags'", "Add Bench utility for measuring multi-step processes.", "Merge branch 'charlesmchen/stepBench'", "Overhaul database observation.", "Overhaul database observation.", "Overhaul database observation.", "Update Cocoapods.", "Merge branch 'charlesmchen/overhaulDatabaseObservation'", "Overhaul database observation.", "Rework SDS extensions to support deep copies and cache lifecycle.", "Rework SDS extensions to support deep copies and cache lifecycle.", "Rework SDS extensions to support deep copies and cache lifecycle.", "Cache threads, interactions, attachments. Improve model cache.", "Cache threads, interactions, attachments. Improve model cache.", "Clean up ahead of PR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/cacheThreadsInteractionsAndAttachments'", "\"Bump build to 3.12.0.1.\" (Internal)", "Fix production build break.", "Disable model cache stats logging.", "Use sent time on unread indicator cell", "Sync translations", "Feature flags for production.", "\"Bump build to 3.11.0.21.\"", "Feature flags for beta", "\"Bump build to 3.11.0.22.\"", "Merge branch 'release/3.11.0'", "Preserve conversation scroll position", "PR Feedback", "Fall forward if there are no messages to fall back to when preserving scroll position", "Merge branch 'nt/preserve-scroll'", "Fix codegen conflict", "Fix races in message sender's session creation logic.", "Merge branch 'charlesmchen/sessionCreationRaces_' into release/3.11.0", "Feature flags for production.", "\"Bump build to 3.11.0.23.\"", "Feature flags for beta", "\"Bump build to 3.11.0.24.\"", "Merge remote-tracking branch 'private/release/3.11.0'", "Order 'new member bar' by order added.", "Merge branch 'charlesmchen/memberBarOrdering'", "\"Bump build to 3.12.0.2.\" (Internal)", "Consolidate conversation scrolling logic", "Merge branch 'nt/consolidate-scroll-to-logic'", "Eradicate usage of `anyOverwritingUpdateWithTransaction:` in `TSThread`.", "Merge branch 'charlesmchen/threadVsOverwritingUpdates'", "Omit muted threads from badge count", "Include marked unread threads in badge count", "Merge branch 'nt/badge-count'", "Fix a typo", "Fix an additional merge issue", "Sync translations", "\"Bump build to 3.12.0.3.\"", "Update to RingRTC v2.0.4", "Feature flags for production.", "\"Bump build to 3.11.1.0.\"", "Merge branch 'release/3.11.1' into release/3.12.0", "Feature flags for beta", "Sync translations", "\"Bump build to 3.12.0.4.\"", "Fix message request sync bug", "\"Bump build to 3.11.1.1.\"", "Merge branch 'release/3.11.1' into release/3.12.0", "\"Bump build to 3.12.0.5.\"", "Preserve un-versioned profile state.", "Merge branch 'charlesmchen/preserveProfiles' into release/3.12.0", "Rework contact syncs.", "Merge branch 'charlesmchen/refineContactSyncs'", "Fix broken tests.", "Merge branch 'charlesmchen/fixTests'", "Address sticker perf hotspots.", "Merge branch 'charlesmchen/stickerPerf'", "Avoid double-measurement in conversation cell configuration.", "Tweak conversation view configuration.", "Respond to CR.", "Merge branch 'charlesmchen/conversationPerf'", "Update Cocoapods.", "Ensure 'group update' info messages reflect change proto gaps.", "Merge branch 'charlesmchen/groupsV2GapsVsGrouUpdateInfoMessages'", "Safer group model diffs.", "Safer group model diffs.", "Update to RingRTC v2.2.0", "Update pods", "Merge branch 'ringrtc/integrate-v2.1.0' into release/3.12.0", "Refactor AddToContactViewController", "Restore cancel button on add to contacts sheet", "Sort allContacts array", "The Application Group string is located in TSConstants.swift.", "Make New Messages header in conversation view multi-line", "Fix: empty string activates send button", "Fix index column typo threadUniqueId -> uniqueThreadId", "Fix the image picker's dismissal animation of the collection view\n\nThe image picker was not quite dismissing a view but rather it was\nrestoring it to fill the screen's frame by updating the offset. This\nchange updates the frame.origin.y of the collection view's frame to\naccount for the height of the view's height. This gives us an animation\nthat pushes the view off-screen as we'd expect before the controller\nremoves the view altogether.", "Adds InfoPlist.strings.", "Merge branch 'nt/incorporate-public-prs' into release/3.12.0", "Fix scroll to top logic", "Always scroll focus message / unread marker as close to top as possible", "Remove unnecessary unread count calculation", "Add a notification setting controlling whether muted threads are included in the badge count", "Merge branch 'nt/little-fixes70' into release/3.12.0", "Sync translations", "\"Bump build to 3.12.0.6.\"", "Enable versioned profiles in production.", "Merge branch 'charlesmchen/groupsV2saferDiffs'", "Respond to CR.", "Merge branch 'charlesmchen/enabledVersionedProfiles' into release/3.12.0", "Tidy up error handling.", "Update Cocoapods.", "Merge branch 'charlesmchen/tidyUpErrorHandling' into release/3.12.0", "Sort contacts off the main thread.", "Merge branch 'charlesmchen/minorFixes5829' into release/3.12.0", "Merge remote-tracking branch 'private/release/3.12.0'", "Update feature flags to enable Groups v2 in .qa builds for internal testing.", "Merge branch 'charlesmchen/featureFlagsVsGroupsV2' into release/3.12.0", "Set feature flags for .qa internal build.", "\"Bump build to 3.12.0.7.\" (Internal)", "Set feature flags for .beta build.", "\"Bump build to 3.12.0.8.\"", "Set feature flags for .qa internal build.", "\"Bump build to 3.12.0.9.\" (Internal)", "Set feature flags for .beta build.", "IOS-604: Stale index path used in -[ConversationViewController scrollToBottomAnimated:]\n\nOur target index path should be determined after updating the\nConversationViewModel's window.\n\nA more robust solution might involve pinning the bottom page to *always*\nbe loaded in the ConversationViewModel. But for now, this should fix the\nassertion.", "Merge branch 'michlin/PR/IOS-604' into release/3.12.0", "Update message footer to indicate when partially sent", "Record individual error codes for failed recipients.", "Adjust ActionSheetController dark theme style", "Cleanup UUID todo", "New safety number sheet", "Merge branch 'nt/safety-number-errors' into release/3.12.0", "Fix scroll to typing indicators", "Always re-create the message request dialog if necessarry, since the type of request may have changed", "Fix an issue where sometimes we'd show message request for a thread you've sent messages in", "Merge branch 'nt/little-fixes71' into release/3.12.0", "Refine per-recipient sending errors.", "Merge branch 'charlesmchen/refineSafetyNumbers' into release/3.12.0", "Add remote config flags around versioned profiles.", "Add remote config flags around versioned profiles.", "Add remote config flags around versioned profiles.", "Add remote config flags around versioned profiles.", "Add remote config flags around versioned profiles.", "Add remote config flags around versioned profiles.", "Add remote config flags around versioned profiles.", "Respond to CR.", "Add logging around versioned profile configuration.", "Merge branch 'charlesmchen/versionedProfilesFeatureFlag' into release/3.12.0", "\"Bump build to 3.12.0.10.\"", "Set feature flags for .production internal build.", "\"Bump build to 3.12.0.11.\"", "Set feature flags for .qa internal build.", "\"Bump build to 3.12.0.12.\" (Internal)", "\"Bump build to 3.12.1.0.\" (Internal)", "Merge remote-tracking branch 'private/release/3.12.1'", "Avoid prekey rate limits; tweak safety number behavior.", "Respond to CR.", "Merge branch 'charlesmchen/prekeyRateLimitsAndSafetyNumbers_'", "Revert over-cautious change around prekey rate limits.", "Merge branch 'charlesmchen/prekeyRateLimitsAndSafetyNumbers2'", "Update l10n strings.", "Add scripts to manipulate feature flags.", "Merge branch 'charlesmchen/featureFlagScripts' into release/3.12.0", "Feature flags for .beta.", "\"Bump build to 3.12.0.13.\"", "Feature flags for .production.", "\"Bump build to 3.12.0.14.\"", "Feature flags for .qa.", "\"Bump build to 3.12.0.15.\" (Internal)", "Disable remote config for versioned profiles.", "Feature flags for .production.", "\"Bump build to 3.12.0.16.\"", "Merge branch 'release/3.12.0' into release/3.12.1", "Revert \"Disable remote config for versioned profiles.\"\n\nThis reverts commit 81c97d41dbbf62b5c8e68f0e8b1c41df3c3b25b9.", "Preserve avatars.", "Preserve avatars.", "Preserve avatars.", "Preserve avatars.", "Preserve avatars.", "Preserve avatars.", "Preserve avatars.", "Preserve avatars.", "Preserve avatars.", "Preserve avatars.", "Feature flags for .beta.", "\"Bump build to 3.12.1.1.\" (Internal)", "Feature flags for .qa.", "\"Bump build to 3.12.1.2.\" (Internal)", "IOS-489: Adopt API changes in CDS to key envelopes by provided identifier\n\nThe CDS service updated its API to key the attestation bodies with an\nopaque identifier. This change parses these identifiers and keys the\ncorresponding envelopes in the discovery request with them.\n\nThis also updates the CDS enclaveId to the new identifier as of\n2020-05-11", "Merge commit 'd6e15e153fbea4859e10e5202359c5b2dfa6c5e0' into release/3.12.1", "Feature flags for .production.", "\"Bump build to 3.12.1.3.\"", "Review feedback: Better handling of cast failures in ParamParser\n\nThis adds a new ParamParser private error constructor to be used on a\nfailed cast. It will populate the description of the thrown error with\ninformation about the destination type of the failed cast.", "Merge branch 'mlin/PR/IOS-489'", "\"Bump build to 3.12.1.4.\" (Internal)", "\"Bump build to 3.12.2.0.\" (Internal)", "\"Bump build to 3.12.2.1.\" (Internal)", "Changes around \"thread record deserialization\" crash.", "Load threads one-by-one after crashes.", "Check thread record column count.", "Add checks to thread record deserialization that can be resymbolicated.", "Add checks to thread record deserialization that can be resymbolicated.", "Add checks to thread record deserialization that can be resymbolicated.", "Add checks to thread record deserialization that can be resymbolicated.", "Add checks to thread record deserialization that can be resymbolicated.", "Merge branch 'charlesmchen/threadRecordDeserializationCrash' into release/3.12.2", "Respond to CR.", "Clean up thread record checks.", "\"Bump build to 3.12.2.2.\" (Internal)", "Feature flags for .beta.", "\"Bump build to 3.12.2.3.\"", "Feature flags for .production.", "\"Bump build to 3.12.2.4.\"", "Feature flags for .beta.", "\"Bump build to 3.12.2.5.\" (Internal)", "Feature flags for .qa.", "\"Bump build to 3.12.2.6.\" (Internal)", "IOS-605: ScrollDownButton continues to remain visible after jumping to bottom\n\nThis fixes a bug where the ScrollDownButton would continue to persist\neven after jumping to the bottom.\n\nThis is due to undefined ordering in UIKit with how it handles\nscrollViewDidScroll: and updating the collectionView's visible index\npaths. We'd receive the final scrollViewDidScroll: before the visible\nitems were updated.\n\nTo fix this, we need to figure out what cell's are visible without\nrelying on UICollectionView's cell appearance to be up to date. This\ninstead uses the collection view layout's cell frames to determine if\nthey live in the visible content rect of the collection view. Since\nlayout must be available for the cell to be visible, this should be\ncorrect.\n\nMade some other minor changes around naming. Clarified that lastSortId\nand lastIndexPath refer to the viewmodel's loaded window, not the\nglobal thread state.", "Fix compilation failure due to rebase\n\ns/lastSortId/lastSortIdInLoadedWindow", "Adopting some PR feedback:\n\n- Remove explicit \"self.\"\n- Add comment going into detail about the UIKit behavior we're working\n  around\n- Remove force-unwrap from assert. It's safe, but eyebrow raising\n\nAlso fixed a minor bug I found:\npercentOfIndexPathVisibleAboveBottom is explicitly checking \"above the\nbottom\". Rect intersection is pretty, but if a single cell extended\nabove the top and bottom margins it would return an incorrect value.\nI'm not sure if this is possible, but it's still incorrect.\n\nInstead, this mostly reverts to the original behavior, comparing the top\nof the cell frame with the bottom of the content frame. It leverages the\nnew function to compute the visibleContentRect to do so.", "Merge branch 'mlin/PR/IOS-605'", "Update Cocoapods.", "Merge branch 'charlesmchen/stripping'", "More cautious parsing of groups v2 protos.", "Revert \"More cautious parsing of groups v2 protos.\"\n\nThis reverts commit 73d5a57295f9ba501238a8373007d42184a06639.", "Add comments around gv2 userId decryption.", "Refine uuid ciphertext decryption.", "Merge branch 'charlesmchen/groupsV2robustChanges'", "Refine the de-bouncing of group info requests.", "Add Debug UI to send v1 group updates that kick everyone but the local user.", "Improve \"group update\" info messages when local user is re-added to a v1 group.", "Ensure \"group update\" info messages never have empty member names.", "Improve handling of profile fetch errors when local user is de-registered.", "When sending v1 group updates, treat partial success as success.", "Tweak copy around networks failures when updating groups.", "Clean up ahead of PR.", "Merge branch 'charlesmchen/groupFixes'", "Add debug UI to send a group update.", "Merge branch 'charlesmchen/debugUIsendGroupUpdate'", "Fix rendering of WebP attachments", "Merge branch 'nt/webp'", "Fix pin reminder behavior", "Merge branch 'nt/little-fixes72'", "Accept heif/heic image files as valid image files. Fixes #4449", "Add accessible actions to fix #4480 where VoiceOver users could not access archive or delete action.", "Delete Main.storyboard\n\nLooks like this isn't referenced in any of the targets, so (assuming\nit's being compiled in to the finished bundle) it's just bloating the\napp size by a couple kb", "Fix forwarding of webp + heif", "Revert \"Clean up thread record checks.\"", "Feature flags for .beta.", "\"Bump build to 3.12.3.0.\"", "Feature flags for .production.", "\"Bump build to 3.12.3.1.\"", "Feature flags for .qa.", "\"Bump build to 3.12.3.2.\" (Internal)", "Fix sharing of YYImage", "Forward WebP images as png to preserve any potential alpha", "Fix missing mapping for heic, heif, and webp extensions", "PR Feedback", "Merge branch 'nt/incorporate-public-prs'", "Fix database issues around device transfer.", "Merge branch 'charlesmchen/deviceTransferVsUIDatabaseSnapshot' into release/3.12.3", "Revert \"Revert \"Clean up thread record checks.\"\"\n\nThis reverts commit 840c57d33e962857a2ce10b1e99f065a54cb5601.", "Feature flags for .beta.", "\"Bump build to 3.12.3.3.\"", "Feature flags for .production.", "\"Bump build to 3.12.3.4.\"", "Feature flags for .qa.", "\"Bump build to 3.12.3.5.\" (Internal)", "Revert \"Clean up thread record checks.\"", "Merge branch 'release/3.12.3'", "\"Bump build to 3.13.0.0.\"", "Log flags.", "Log flags.", "Add flags view to internal builds.", "Make certain DebugFlags mutable for testing.", "Expose gv2 debug flags via \"testing\" view.", "Merge branch 'charlesmchen/aboutFlags'", "Update Cocoapods.", "Strict or \"rigid\" application of v2 group changes.", "Strict or \"rigid\" application of v2 group changes.", "Merge branch 'charlesmchen/groupsV2strictChangeApplication'", "Index signal recipients; re-index recipients and accounts when profile changes.", "Merge branch 'charlesmchen/searchImprovements'", "Update to RingRTC v2.3.0", "Update protos with need permission hangup type", "Reject incoming calls unless the caller is approved", "Update to RingRTC v2.3.1", "Update pods", "Merge branch 'nt/call-requests'", "Render memoji, bitmoji, etc. as stickers", "Merge branch 'nt/borderless'", "Tweak timing of bulk profile fetch updates.", "Tweak timing of bulk profile fetch updates.", "Merge branch 'charlesmchen/bulkProfileFetchTiming'", "IOS-641: Introduce various synchronization utilities\n\nThis commit adds two new synchronization utilities:\n\n- Unfair locks: This adds an Objective-C wrapper around os_unfair_lock\n  to help bridge it to Swift. (Swift's handling of the underlying C\n  struct can lead to surprising TSan failures). This will be useful as a\n  simple, performant lock in cases where fairness is not a concern.\n\n- Shared serial queues: Private serial queues that are untargeted will\n  target the global concurrent queues. Sometimes this is what we want,\n  especially for potentially long-running work items. But for cases\n  where work items are brief private serial queues risk spinning up a\n  new thread.\n\n  For private queues where the individual work items are brief and there\n  isn't a more appropriate queue to target, the shared serial queues\n  are a potential candidate.\n\nThis change also introduces tests for these new utilities and some QoS\nmanagement helper methods.", "Adopt changes from precommit linting scripts", "Merge branch 'mlin/PR/IOS-641'", "IOS-640: Remove trailing whitespace from copyright header template\n\nThis is so minor I feel ridiculous making a PR for this. But each new\nfile I create has the trailing whitespace flagged in git. I can't\nimagine this is intentional.", "PR feedback: Also update default copyright year", "Merge branch 'mlin/PR/IOS-640'", "Update Pods", "Jumbomoji messages should render without bubble", "Merge branch 'nt/borderless-jubomoji'", "Show all whitelisted contacts in recipient picker", "Only render registered whitelisted addresses", "Merge branch 'nt/show-all-whitelisted'", "Sync translations", "Enable iPad calling for production", "Feature flags for .beta.", "\"Bump build to 3.13.0.1.\"", "Feature flags for .qa.", "\"Bump build to 3.13.0.2.\" (Internal)", "Fix an issue when registering with a v1 reglock", "Feature flags for .beta.", "\"Bump build to 3.13.0.3.\"", "Feature flags for .qa.", "\"Bump build to 3.13.0.4.\" (Internal)", "Fix an issue when registering with a v1 reglock", "\"Bump build to 3.12.4.0.\"", "Suppress database snapshot updates during a device transfer.", "Merge branch 'charlesmchen/suppressSnapshotsDuringTransfer' into release/3.12.4", "\"Bump build to 3.12.4.1.\"", "Merge branch 'release/3.12.4' into release/3.13.0", "Merge branch 'release/3.13.0'", "Update MacOS version.", "Avoid spurious username search matches.", "Merge branch 'charlesmchen/invalidUsernameSearch'", "Strict formatting of disappearing message durations.", "Strict formatting of disappearing message durations.", "Merge branch 'charlesmchen/formatDisappearingMessageTimes'", "Track last fetch date on user profile.", "Improve comments around bulk profile fetching rate limit avoidance.", "Track last fetch date on user profile.", "Track last messaging date on user profile.", "Track messages sent and received from users.", "Fetch missing and stale user profiles.", "Clean up naming around profile fetches.", "Respond to CR.", "Merge branch 'charlesmchen/staleProfiles'", "Track last fetch date on user profile.", "Improve comments around bulk profile fetching rate limit avoidance.", "Track last fetch date on user profile.", "Track last messaging date on user profile.", "Track messages sent and received from users.", "Fetch missing and stale user profiles.", "Clean up naming around profile fetches.", "Respond to CR.", "Merge branch 'charlesmchen/staleProfiles' into release/3.13.0", "Fallback to verifying trust during attestation with just the leaf if we fail to parse the other certs in the chain", "Merge branch 'nt/kbs-fix2' into release/3.13.0", "Fix borderless jubomoji with quotes, etc.", "Adjust jumbomoji sizing", "Fix swipe-to-reply on new borderless messages", "Merge branch 'nt/little-fixes73' into release/3.13.0", "Clean up message bubble measurement.", "Merge branch 'charlesmchen/cleanUpMessageBubbleMeasurement' into release/3.13.0", "Restore thread record checks.", "Tweak readiness checking.", "Merge branch 'charlesmchen/appIsReady' into release/3.13.0", "Fix missing and stale profile fetch.", "Fix missing and stale profile fetch.", "Merge remote-tracking branch 'private/release/3.13.0'", "Fix linting for InfoPlist.strings", "Sync translations", "Feature flags for .beta.", "\"Bump build to 3.13.0.5.\"", "Feature flags for .qa.", "\"Bump build to 3.13.0.6.\" (Internal)", "Fix crash on launch due to bad migration", "Feature flags for .beta.", "\"Bump build to 3.13.0.7.\"", "Feature flags for .qa.", "\"Bump build to 3.13.0.8.\" (Internal)", "Make sure the indexSignalRecipients migration only runs once", "Feature flags for .beta.", "\"Bump build to 3.13.0.9.\"", "Feature flags for .qa.", "\"Bump build to 3.13.0.10.\" (Internal)", "Merge remote-tracking branch 'private/release/3.13.0'", "Modify remote configuration to handle values.", "Modify remote configuration to handle values.", "Modify remote configuration to handle values.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/remoteConfigurationValues'", "Fix assert around logging flags.", "Update MacOS version.", "Fix over-zealous assert in remote config.", "Add the ability to opt out of PINs.", "Merge branch 'nt/pin-opt-out' into release/3.13.0", "Sync translations", "Feature flags for .beta.", "\"Bump build to 3.13.0.11.\"", "Feature flags for .qa.", "\"Bump build to 3.13.0.12.\" (Internal)", "Fix typo", "Merge remote-tracking branch 'private/release/3.13.0'", "Add owsFail() methods.", "Respond to CR.", "Merge branch 'charlesmchen/owsFail'", "Slight tweak to the group v2 change rigidity.", "Merge branch 'charlesmchen/groupsV2ChangeRobustness2'", "Handle invalid groups v2 invites.", "Handle invalid groups v2 invites.", "Handle invalid groups v2 invites.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2invalidInvites'", "Generate haptic feedback on main thread.", "Respond to CR.", "Merge branch 'charlesmchen/hapticFeedbackVsMain'", "Cleanup KBS state management", "Simplify 2FA logic, update copy", "Add translations for Welsh", "Feature flags for .production.", "\"Bump build to 3.13.0.13.\"", "Feature flags for .qa.", "\"Bump build to 3.13.0.14.\" (Internal)", "Merge branch 'release/3.13.0'", "\"Bump build to 3.14.0.0.\"", "Filter more display names.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/moreFilteredNames'", "Evacuate model caches after device transfer.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/deviceTransferVsModelCaches'", "Fix an issue during re-registration where we were clearing the 'hasPendingRestoration' flag too early.", "Add additional logging indicating when an invalid PIN v2 is entered", "Sync translations", "Feature flags for .production.", "\"Bump build to 3.13.1.0.\"", "Feature flags for .qa.", "\"Bump build to 3.13.1.1.\" (Internal)", "IOS-441: On launch: Perform CDS lookup to backfill SignalRecipients without UUID\n\nIntroduces UUIDBackfillTask, which:\n- fetches UUID-less SignalRecipients from the database\n- creates a ContactDiscoveryOperation to lookup their UUIDs\n- updates database with the UUID if available, unregisters otherwise\n\nThis is kicked off on an AppReadiness block submitted during\nappDidFinishLaunching:", "Added tests to exercise UUIDBackfillTask\n\nThis adds a whole bunch of tests for UUIDBackfillTask. This required a\nsmall change to be made in SignalServiceAddress. Currently,\nSignalServiceAddress accesses a singleton cache to force updates to any\nexisting addresses after a UUID is discovered. This breaks a whole bunch\nof test verification.\n\nTo workaround this, I've added a testing_ flag to modify the singleton\nSignalServiceAddressCache to temporarily disable it. This is going to\ncause problems if we ever enable test parallelization, but it's all we\ncan do for now.\n\nThis also adds in incremental backoff logic, changes some of the log\nstatements and disables the task on production.\n\nAlso, adopted some minor feedback Matthew provided in the draft PR,\nincluding:\n- Rename: {signal -> registered}RecipientsWithoutUUID\n- Move to owsFailDebug instead of assertionFailure\n- Adopt `IsNetworkConnectivityFailure` for discerning network failures\n- Add some extra assertions around our registered/unregistered sets", "Additional review feedback:\n\n- Removed static UUIDBackfillTask initializer and removed the\n  registration from AppDelegate. Kicking off the task will be handled\n  with IOS-631.\n- Moved the async perform work to its own function\n- Some minor syntactic changes\n- Updated database fetch to retrieve empty string UUIDs\n- Handles non-e164 numbers fetched from database\n- Leverages the MockSSKEnvironment to deal with the shared\n  SignalServiceAddressCache. Removes added test support.\n- Add tests to exercise new functionality", "Pull request feedback: retry indefinitely on CDS failure\n\nAfter some discussion, we're okay considering that if CDS is down, all\nof Signal is down. This will help protect session state and reduce the\nrisk of divergence.\n\nAlso changed the FeatureFlag guarding this code to\nuseOnlyModernContactDiscovery.", "Update Pods submodule commit", "Merge branch 'mlin/PR/IOS-441'", "Invert the modern CDS FeatureFlag check\n\nAccidentally inverted the condition when I swapped the flags. Thanks\nNora for catching this", "Merge branch 'mlin/PR/IOS-441-Followup_InvertCDSCheck'", "Merge branch 'release/3.13.1'", "Render profile name changes in conversation", "PR Feedback", "Merge branch 'nt/profile-update-messages'", "Render profile name changes in conversation", "PR Feedback", "Pull translations", "Update contact icons", "Feature flags for .production.", "\"Bump build to 3.13.1.2.\"", "Feature flags for .qa.", "\"Bump build to 3.13.1.3.\" (Internal)", "Feature flags for .production.", "\"Bump build to 3.13.2.0.\"", "Merge branch 'release/3.13.2'", "Feature flags for .qa.", "\"Bump build to 3.13.2.1.\" (Internal)", "Sync translations", "IOS-662: Update staging enclave ID\n\nThe staging enclave code was updated to support rate-limiting. Updates\nour staging constant to point to the new ID.", "Merge branch 'mlin/PR/IOS-662'", "Feature flags for .production.", "\"Bump build to 3.13.2.2.\"", "Feature flags for .qa.", "\"Bump build to 3.13.2.3.\" (Internal)", "Fix rare crash when rendering profile name changes", "Feature flags for .production.", "Sync translations", "\"Bump build to 3.13.2.4.\"", "Feature flags for .qa.", "\"Bump build to 3.13.2.5.\" (Internal)", "Fix a crash on launch effecting some users", "Feature flags for .production.", "\"Bump build to 3.13.2.6.\"", "Feature flags for .qa.", "\"Bump build to 3.13.2.7.\" (Internal)", "Merge branch 'release/3.13.2'", "Add MVP legacy group indicator.", "Merge branch 'charlesmchen/groupsV2LegacyGroupIndicator'", "Add remote config for modern CDS and groups v2.", "Add remote config for modern CDS and groups v2.", "Add remote config for modern CDS and groups v2.", "Merge branch 'charlesmchen/remoteConfigForCDSandGroupsV2'", "Re-apply current revision when updating v2 groups in some cases.", "Merge branch 'charlesmchen/reapplyCurrentRevision'", "Allow debug and internal builds to use gv2 without CDS.", "Fix overzealous assert around changes from pending members.", "Merge branch 'charlesmchen/groupsV2allowChangesFromPendingMembers'", "Clean up orphaned accounts from storage service", "Merge branch 'nt/storage-service-tweaks6'", "Generate interface for unknownFields", "Add Codable adherance to proto wrappers", "Maintain unknown fields when updating storage records", "Force refetch the latest manifest after cleaning up unknown identifiers", "Merge branch 'nt/storage-service-unknown-fields'", "Update to the latest version of fastlane", "Add script to update the changelog", "Update changelog for 3.13", "Merge branch 'nt/changelog'", "IOS-631: Suppress message processing pipeline while we have a pending backfill operation\n\nCreates a new root singleton: OWSMessagePipelineSupervisor\n\nAs of right now, this singleton has two responsibilities:\n- Track all message processing pipeline stages that have registered\n  themselves\n- Post processing suspension updates to interested stages\n\nFour classes will now register themselves as pipeline stages:\n- OWSMessageContentQueue\n- YAPDBMessageDecryptQueue\n- IncomingGroupsV2MessageQueue\n- SSKMessageDecryptJobQueue\n\nAt initialization, OWSMessagePipelineSupervisor will take out a pipeline\nsuspension while it waits for a UUIDBackfillTask to complete. Other\ninterested objects are also able to suspend the message processing\npipeline by invoking suspendMessageProcessing(for:) on the supervisor\n(though, currently this is not used by anything except tests)\n\nThis also adds some supporting improvements to UnfairLock. Now,\nUnfairLock closures will return the value returned from its critical\nsection closure.", "Adds a whole bunch of tests for MessagePipelineSupervisor\n\n- Adopt a local dependency property to fit in with existing style\n- Unregister from pipeline supervision in some pipeline stages. This\n  usually shouldn't matter since they're all singletons/children of\n  singletons. I've only added this to classes that are already\n  unregistering existing observations, or don't have any existing\n  observations. Anything that was registering and not unregistering,\n  I've left as is.", "PR Feedback:\n\n- Matthew suggested moving all polite readiness blocks to their\n  impolite variants. There shouldn't be ordering concerns and message\n  processing is important enough to be run impolitely.\n\n- Nora suggested moving some of the message processing checks into\n  MessagePipelineSupervisor. Some of the more complex checks like\n  registration are out of scope of this change. But -[AppContext\n  shouldProcessIncomingMessages] is a minor enough change to include.\n  Now, -shouldProcessIncomingMessages is a precondition for\n  -isMessageProcessingPermitted\n\n- Matthew suggested that GRDB failures should be fatal. So instead,\n  AnySignalRecipientFinder will try! instead of try?.\n\n- Matthew suggested moving some of the MessagePipelineSupervisor\n  logging statements to be lower priority.", "Update Pods submodule commit", "Merge branch 'mlin/PR/IOS-631'", "IOS-445: Do CDS lookup during message send for recipients without UUID\n\nThis adds a new async operation in the message send flow. MessageSender\nwill now verify that the intended recipients of a message all have UUIDs\nbefore proceeding. If any recipients are missing a UUID, it'll kick off\na CDS lookup for the invalid recipients.\n\nWhile this code appears to work, this is a first pass. Looking to get\nsome inital feedback in a pull request. It's unclear to me whether or\nnot this pattern fits in with the existing error propogation flow in\nMessagSender promises. It's also unclear whether or not the error I'm\nusing is correct.\n\nSome other changes that come along for the ride:\n- Add a -perform() method to ContactDiscoveryService to automatically\n  submit itself and its dependencies to its static operation queue", "PR feedback: Rethink of message send flow\n\nChanges when we perform a CDS lookup for any phone-number-only\nrecipients. Now, we do the CDS lookup in a preparation phase prior to\nperforming the message send.\n\nThis also moves some of the error handling within the individual\nOWSMessageSend handlers. Now, unregistered recipient handling is\nfactored out into its own method. _sendMessageToRecipient: will\nconsidered the recipient unregistered if it's missing a UUID.", "Run precommit linter", "PR Feedback: Mark recipients as unregistered earlier\n\nNora suggested that we also explicitly mark unregistered recipients as\nunregistered in response to the message send preparation\nContactDiscoveryOperation.\n\nAlso, she found an opportunistic fix to remove the TSInfoMessage on\nunregistered recipient failures. This isn't the behavior we want anyway.", "Merge branch 'mlin/PR/IOS-445'", "Fix feature flags.", "\"Bump build to 3.14.0.1.\" (Internal)", "Handle when UUID <-> phone number mapping changes", "Update SignalServiceAddressCache when uuid <-> phone number mapping changes", "A bear bones pass at updating the cache/ui after a uuid <-> phone number mapping change", "Add tests around uuid <-> phone number mapping changes", "PR Feedback", "Group v1 state operates only in e164", "Resolve merge conflict", "Merge branch 'nt/uuid-change-handling'", "Update storage service unknown fields when writing to the manifest", "Merge branch 'nt/storage-service-tweaks7'", "Rework message requests for v2 groups.", "Rework message requests for v2 groups.", "Use block mode when blocking threads.", "Only auto-whitelist new groups if we were just added by a member who is in our system contacts or profile whitelist.", "Clean up ahead of CR.", "Clean up ahead of CR.", "Apply copy from design.", "Ensure message request is dismissed if necessary.", "Respond to CR.", "Merge branch 'charlesmchen/messageRequestsVsGroupsV2'", "Design updates for legacy group indicator.", "Design updates for legacy group indicator.", "Merge branch 'charlesmchen/groupsV2LegacyGroupIndicator2'", "Tweak the \"apply group change\" logic.", "Tweak the \"apply group change\" logic.", "Merge branch 'charlesmchen/groupsV2groupChangeTweaks'", "\"Bump build to 3.14.0.2.\" (Internal)", "Add logging around gv2 profile key updates.", "Add logging around gv2 profile key updates.", "Add logging around gv2 profile key updates.", "Merge branch 'charlesmchen/groupsV2auditProfileKeyUpdates'", "Filter out search results with pending message requests.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/searchResultsVsPendingMessageRequests'", "Update account attributes after changes to long form of app version.", "Update account attributes after changes to long form of app version.", "Fix typo.", "Merge branch 'charlesmchen/accountAttributesVsAppVersion'", "Update debug name list.", "Merge branch 'charlesmchen/debugNames'", "Fix broken layout for legacy group indicator.", "Use separate section for conversation settings header.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2legacyGroupIndicatorLayout'", "\"Bump build to 3.14.0.3.\"", "Small fixes.", "Merge branch 'charlesmchen/little-fixes99'", "Fix group v1 membership for desktop", "\"Bump build to 3.14.0.4.\" (Internal)", "Refine scaffolding for testing gv2.", "Refine scaffolding for testing gv2.", "Merge branch 'charlesmchen/groupsV2testing'", "\"Bump build to 3.14.0.5.\" (Internal)", "Add MentionTextView", "ConversationInputTextView subclasses MentionTextView", "Refine MentionTextView, add cut/copy/paste support", "Merge branch 'nt/mentions'", "IOS-674: Clamped fonts are not dynamic after moving out of the clamped range\n\nFixes a minor bug where fonts that are clamped lose their dynamic\nbehavior. Before, we would clamp fonts by creating a new font if the new\nfont's point size fell out of the supported range. Dynamic sizing is\nonly supported in a few cases, and creating fonts in this way would\ndisable dynamic sizing.\n\nIf Signal was launched in a clamped content size category, then the user\ndecreases their text size without quitting Signal, none of our dynamic\ntext would update.\n\nInstead, we'll use UIFontMetrics. This does appear to support a max\npoint size, and will also maintain dynamic scaling behavior.", "Run precommit linter", "Merge branch 'mlin/PR/IOS-674'", "Fix address comparison.", "Merge branch 'charlesmchen/addressComparison'", "AtomicOptional", "Merge branch 'nt/atomic-optional'", "\"Bump build to 3.13.2.8.\" (Internal)", "\"Bump build to 3.13.3.0.\" (Internal)", "Update protobufs for opaque and adjust APIs", "Update to RingRTC v2.4.0", "Update Cocoapods.", "Merge branch 'ringrtc/no-sctp' into release/3.13.3", "\"Bump build to 3.13.3.1.\" (Internal)", "Update to RingRTC v2.4.1", "Update Cocoapods.", "Merge branch 'ringrtc/v2.4.1' into release/3.13.3", "\"Bump build to 3.13.3.2.\" (Internal)", "Feature flags for .beta.", "\"Bump build to 3.13.3.3.\"", "Update Cocoapods.", "Feature flags for .qa.", "\"Bump build to 3.14.0.6.\" (Internal)", "Tweak ydb-to-grdb migration.", "Avoid an assert.", "Merge branch 'charlesmchen/tweakYdbToGrdbMigration'", "Re-style mentions", "Mention protos", "Mentions Picker", "Fix sort order of profiles with first + last name", "Cleanup some old feature flags", "Add mention picker support to attachment flows", "PR Feedback", "Merge branch 'nt/mentions'", "IOS-362: new support flow\n\nMost of the UI work for the new support flow. This still needs some\ntuning, but I wanted to checkpoint some of this work. This adds a couple\nnew views and view controllers to facilitate the new support flow.\n\nWhat's left to be done:\n- Putting together the send-message infrastructure\n- Attach actions to all of the buttons\n- Make sure the colors all match up with the spec\n- Reach out to design for feedback\n- Testing with various accessibility settings", "Add support email send infrastructure\n\nThis adds the infrastructure for uploading logs, creating an email,\nand launching the mail app.", "A whole bunch of UI enhancements:\n\n- Tuned colors to more closely match design spec\n- Made changes to support dynamic theme updates\n- Made some changes to support dynamic text sizing\n- Attached some button actions that hadn't been hooked up yet\n- Better handling of cases where we can't send emails (e.g. user doesn't\n  have a mail account configured)\n- Better handling of cancellation during log upload. Before, we'd\n  continue to open the mail URL anyway\n- Adopt ActionSheetController over UIAlertController\n\nAlso, our clamped fonts now support dynamic size adjustments. Before,\nwe'd return non-dynamic fonts clamped to a given size. Now, we use\nUIFontMetrics to give us automatic adjustments on size category changes.", "Some final changes to prepare for pull request\n\n- Update some missing localizations. To be updated later.\n- Updates to TSConstants to add Signal support email\n- Move views into the views directory\n- Minor renames and reorganizations of code\n- Remove dynamic font changes, to be re-added in a different commit", "Bug fix, pre-iOS 13 dark theme activity indicator was hidden\n\nThe fix: on pre-iOS 13 devices, select our activity indicator style\nbased on the Theme. On iOS 13+ devices, we'll use the new symbol that\ndoes not specify a color.\n\nAlso, rename a method on ComposeSupportEmailOperation to be a bit more\nswifty and fix a mispelled accessibility string.", "A whole bunch of bug fixes, design changes and PR feedback:\n\nBug fixes:\n- Use a localized variant of the subject in localizedEmailSubject\n- Debug switch should default on\n- Fixed a constraint's incorrect RTL behavior\n- Add chevrons to the HelpViewController table view cells\n- VoiceOver action on SupportRequestTextView was totally broken, this\n  fixes it.\n\nDesign changes:\n- Remove navigation bar styling and adopt default translucent behavior\n\nOther PR feedback:\n- Move support constants out of TSConstants\n- Mark OWSTableViewController subclasses as final, remove -contents\n  override and just access the superclass' property like normal.\n- Subviews of ContactSupportViewController should observe Theme changes\n  themselves\n- Perform early layout on the EmojiMoodPickerView's stack view to get\n  correct corner radius\n- EmojiMoodPickerView's Mood enum is now leveraging the Emoji enum\n- A bunch of changes to SupportRequestTextView's placeholder handling.\n  Now, the placeholder stays visible until the user enters text", "Implementing design feedback\n\n- Updated some error strings\n- Adjusted log upload timeout interval\n- Color adjustments, improvements to theme update handling\n- Improvements to content offset focusing\n- Better handling of dynamic type in cell rows\n- Fixed keyboard behavior on iPad form sheet presentation", "Update Pods submodule commit", "Merge branch 'mlin/PR/IOS-362' into release/3.13.3", "Merge branch 'mlin/PR/IOS-674'", "\"Bump build to 3.13.3.4.\"", "\"Bump build to 3.13.3.5.\"", "Merge remote-tracking branch 'private/release/3.13.3'", "\"Bump build to 3.14.0.7.\" (Internal)", "Fix build breakage for Xcode 11.4.1.", "\"Bump build to 3.14.0.8.\"", "Update l10n strings.", "\"Bump build to 3.13.3.6.\"", "\"Bump build to 3.13.3.7.\"", "Add logging around profile updates.", "\"Bump build to 3.13.3.8.\"", "\"Bump build to 3.13.3.9.\"", "Do not log unsatisfiable layout constraints.\n\nThanks Shaun Mirani of ISE for the bug report.", "Feature flags for .production.", "Update to the latest version of fastlane", "Add script to update the changelog", "Update changelog for 3.13.3", "\"Bump build to 3.13.3.10.\"", "Merge branch 'release/3.13.3_'", "\"Bump build to 3.14.0.9.\" (Internal)", "Tweak group changes for robustness.", "Merge branch 'charlesmchen/groupsV2robustChangesEdgeCase'", "Santize strings with mismatched bidi control characters before display", "Merge branch 'nt/bidi'", "Update info.plist.", "Rework profile lifecycle.", "Rework profile lifecycle.", "Update Cocoapods.", "Merge branch 'charlesmchen/profileChecks'", "Convert OWSAttachmentUploadV2 to Swift.", "Implement attachment upload v3.", "Implement attachment upload v3.", "Implement attachment upload v3.", "Implement attachment upload v3.", "Implement attachment upload v3.", "Implement attachment upload v3.", "Implement attachment upload v3.", "Implement attachment upload v3.", "Implement attachment upload v3.", "Implement attachment upload v3.", "Implement attachment upload v3.", "Implement attachment upload v3.", "Implement attachment upload v3.", "Implement attachment upload v3.", "Update Cocoapods.", "Respond to CR.", "Merge branch 'charlesmchen/resumableUploads'", "Resumable attachment download.", "Resumable attachment download.", "Resumable attachment download.", "Resumable attachment download.", "Resumable attachment download.", "Resumable attachment download.", "Resumable attachment download.", "Resumable attachment download.", "Resumable attachment download.", "Update Cocoapods.", "Fix error handling.", "Merge branch 'charlesmchen/resumableDownloads'", "\"Bump build to 3.14.0.10.\" (Internal)", "Fix v3 attachment downloads.", "\"Bump build to 3.14.0.11.\" (Internal)", "Respond to CR.", "IOS-690: Enable modern CDS support in ContactsUpdater\n\nThis change enables support for modern CDS in ContactsUpdater. It\naccomplishes this by making the two CDS operation conform to a single\nprotocol, and then interacting with a generic interface.\n\nThis also makes some minor organizational changes to the contact\ndiscovery operations. There's more that I want to do here but this\nshould work for now. This also fixes a bug where cancelled operations\nmight cause us to unregister all of our SignalRecipients. There's a\nstopgap in place for now, but a more robust fix will come later.\n\nAlso updates the staging CDS enclave ID.", "Check for a nil result set instead of cancellation\n\nA nil result set is always bad if we're expecting completion. If there's\nno error provided, we should make a fallback error.", "Run precommit script", "Update production CDS enclave ID", "Update Pods submodule commit", "Merge branch 'mlin/PR/IOS-690'", "Don't upload v1 groups avatars as v3 attachments.", "Don't upload v1 groups avatars as v3 attachments.", "Don't upload v1 groups avatars as v3 attachments.", "Merge branch 'charlesmchen/noV3groupAvatars'", "Add explicit key type of model read cache.", "Merge branch 'charlesmchen/modelCacheKeys'", "\"Bump build to 3.14.0.12.\" (Internal)", "update keyBackupServiceId for production and staging", "Merge branch 'jimio/updateKBSIDs'", "Avoid conflicts are keys for local user account and recipient.", "Fix over-zealous assert.", "Merge branch 'charlesmchen/modelCacheKeys2'", "\"Bump build to 3.14.0.13.\" (Internal)", "IOS-696: Changes to title in OWSTableContents after -loadView not handled\n\nFixes a minor bug that I discovered while playing with the support\nflow. Navigation titles weren't showing up in the new view controllers.\n\nIt seems OWSTableViewController was only reading an OWSTableContents\ntitle during -loadView. My first pass at the support flow's view\ncontrollers overrode the -contents property, so this was working\noriginally. Later, I started setting -contents during -viewDidLoad which\nis too late for OWSTableViewController.\n\nNow, OWSTableViewController will update the title any time the\nOWSTableContents changes and there's a non-zero length title provided.", "Run precommit script\n\nOld habits die hard", "Merge branch 'mlin/PR/IOS-696'", "Tweak MessageBody to better align with TSMessage", "Add mentions to the database", "Add mentions to orphan data cleaner", "Add support for mentions to drafts", "Mention sending", "Full suppoort for ention send + receive", "Track who was mentioned in a given message in a queryable way", "Allow tapping mentions in message bubbles", "Allow selection mentions using keyboard commands", "Update attachment mention picker style", "Fix mention theme changes", "No backgrounds on mentions in quotes", "Add mention notification settings", "Add search support for mentions", "Add scroll to mention button", "Enable mentions for internal builds", "Design feedback", "PR Feedback", "Merge branch 'nt/mentions-4'", "Fix shortname for contact sync contacts", "Fix rendering of profile name changes with no visual change", "PR Feedback", "Merge branch 'nt/short-name-fix'", "\"Bump build to 3.14.0.14.\" (Internal)", "Adjust CDS file organization\n\nThis commit is just a copy/paste of code to colocate and split up some\nCDS code.", "IOS-705: Adjust feature flags to enable modern CDS in prod\n\nThis enables modern CDS on internal devices in prod. This also removes\nsome of the infrastructure for reporting on modern/legacy comparisons.", "PR Feedback\n\nEnable modern CDS in qa builds instead of internalPreview", "Update Pods submodule commit", "Merge branch 'mlin/PR/IOS-705'", "Update the SignalServiceAddressCache when the local address changes", "Warm the SingalServiceAddressCache earlier", "Fix an issue with SignalRecipient and SignalAccount ModelReadCaches", "evacuateAllCaches sync", "evacuateAllCaches in transaction completion block", "Merge branch 'nt/address-tweaks'", "\"Bump build to 3.14.0.15.\"", "Fix extraneous rendering of scroll down button when at the bottom", "Incorporate Michelle's feedback", "Fix an issue when deleting a portion of a mention", "Fix an extraneous animation when typing a non-mention after @", "Fix mentions scroll resizing issue w/  safe areas", "Merge branch 'nt/mention-fixes'", "Resolve Storage Service profile name churn", "Merge branch 'nt/profile-churn-fix'", "React with thumbs up.", "React with thumbs up.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/reactWithThumbsUp'", "\"Bump build to 3.14.0.16.\" (Internal)", "Update groupsV2maxMemberCount.", "Add trustLevel to SignalServiceAddress", "Fix ensureAccountId", "Merge branch 'nt/address-tweaks-more'", "\"Bump build to 3.14.0.17.\" (Internal)", "Improve handling of local user and uuid mapping edge cases.", "Improve handling of local user and uuid mapping edge cases.", "Improve handling of local user and uuid mapping edge cases.", "Merge branch 'charlesmchen/localUserAndUuidMappingEdgeCases'", "Add pending members.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Merge branch 'charlesmchen/groupsV2addPendingMembers'", "Update 'make group member admin' copy.", "Fix mentions in sent transcripts", "Better MentionPicker resizing behavior", "Merge branch 'nt/a-few-more-mention-tweaks'", "IOS-668: Reorganize how ContactsUpdater interacts with CDS operations\n\n- Removes ContactsUpdater singleton. It wasn't really tracking much\n  state anyway\n- Introduces ContactDiscoveryTask. This creates a\n  ContactDiscoveryOperation (modern or legacy) and updates the\n  SignalRecipients database on completion. Returns a promise.\n- Begin migrating away from operation queues\n\nPromiseKit is weird about priority propogation, so this shouldn't be\nused yet. Since all then closures are asynced, priorities don't\npropogate down to underlying queues. This means the a\nContactDiscoveryTask on the main queue will not boost the priority on\nthe ModernContactDiscoverOperation's owned operation queue", "Migrate ContactDiscoveryOperations to Promises\n\nContactDiscoveryOperations now return Promises and is no longer a\nsubclass of OWSOperation.\n\nLegacyContactDiscoveryOperation needed some small changes, but was not\nrelying on dependent operations, so there wasn't anything too\nsignificant.\n\nModernContactDiscoveryOperation was already using Promises in its\nimplementation. It required surfacing that promise. Dependent operations\nare now represented in an array of sub-promises that are all joined\nbefore completing. CDSBatchOperation was removed.\n\nThis change also makes everything that's not ContactDiscoveryTask\nnon-objc and non-public. Callers should really be using\nContactDiscoveryTask anyway.", "Move everything to the new ContactDiscoveryTask\n\nUUIDBackfillTask and OWSMessageSender were initializing\nContactDiscoveryOperations themselves and rolling their own database\nupdate logic. Instead, they should be leveraging ContactDiscoveryTask.", "Fix up some log statements", "PR feedback:\n\n- Adjust how clients provide QoS information to ContactDiscoveryTask\n- Fix an issue where legacy CDS was reporting a generic server failure\n  as a result of network failures.\n- ContactDiscoveryTask will no longer error on an empty set\n- Remove CDSFeedback operation", "Update to new SignalServiceAddress initializers post-rebase", "Update Pods submodule commit", "Merge branch 'mlin/PR/IOS-668'", "Update Pods submodule commit", "\"Bump build to 3.14.0.18.\" (Internal)", "Ensure model cache robust to UUID mapping edge cases.", "Ensure model cache robust to UUID mapping edge cases.", "Ensure model cache robust to UUID mapping edge cases.", "Ensure model cache robust to UUID mapping edge cases.", "Respond to CR.", "Merge branch 'charlesmchen/modelCacheVsUuidMapping'", "\"Bump build to 3.14.0.19.\" (Internal)", "IOS-723: Crash when trying to send memoji from the emoji keyboard\n\nFixes a bug where a nil MessageBody was passed to a Swift initializer\nexpecting non-nil. To fix, OutgoingMessagePreparer.init will now accept\na nil MessageBody and process it correctly.", "Merge branch 'mlin/PR/IOS-723' into release/3.14.0", "Rework sending of group update messages.", "Merge branch 'charlesmchen/groupsV2updateMessages' into release/3.14.0", "Cache gv2 decryption.", "Cache gv2 decryption.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2decryptionCache' into release/3.14.0", "Mentions Remote Flag", "Merge branch 'nt/mentions-ff' into release/3.14.0", "Fix perf of signal account sorting.", "Fix perf of signal account sorting.", "Fix perf of signal address sorting.", "Respond to CR.", "Merge branch 'charlesmchen/accountAndAddressSorting' into release/3.14.0", "Avoid firing profile change notifications in response to changes to lastFetchDate.", "Merge branch 'charlesmchen/reduceProfileChangeNotifications' into release/3.14.0", "Add Fair and Unfair atomics.", "Merge branch 'charlesmchen/unfairAtomics2' into release/3.14.0", "Refine stale profile fetch.", "Merge branch 'charlesmchen/staleProfileFetches' into release/3.14.0", "Add remove config flag for UUID-based safety numbers.", "Merge branch 'charlesmchen/uuidSafetyNumbers' into release/3.14.0", "\"Bump build to 3.14.0.20.\" (Internal)", "Improve conversation open perf.", "Merge branch 'charlesmchen/conversationOpenPerf' into release/3.14.0", "Tune frequency of UI database snapshot updates.", "Respond to CR.", "Merge branch 'charlesmchen/tuneDatabaseSnapshotUpdates' into release/3.14.0", "Fix edge case around file cleanup.", "Fix edge case around file cleanup.", "Respond to CR.", "Merge branch 'charlesmchen/fixFileCleanup' into release/3.14.0", "Handle empty message bodies.", "Merge branch 'charlesmchen/emptyMessageBody' into release/3.14.0", "\"Bump build to 3.14.0.21.\" (Internal)", "Improve UD manager perf.", "Improve UD manager perf.", "Improve UD manager perf.", "Avoid redundant writes.", "Merge branch 'charlesmchen/udManagerPerf' into release/3.14.0", "Refine UD edge case.", "Merge branch 'charlesmchen/udEdgeCases' into release/3.14.0", "Fix edge case in model read cache.", "Fix edge case in model read cache.", "Merge branch 'charlesmchen/modelReadCacheVsInteractionSortId' into release/3.14.0", "Rework maxGroupsV2MemberCount remote config flag.", "Merge branch 'charlesmchen/maxGroupsV2MemberCount' into release/3.14.0", "\"Bump build to 3.14.0.22.\" (Internal)", "Update l10n strings.", "\"Bump build to 3.14.0.23.\" (Internal)", "\"Bump build to 3.14.0.24.\" (Internal)", "IOS-716: Introduce remote feature flag for modern CDS\n\nAdds a new RemoteConfig flag to enable modern contact discovery. The\nrules are:\n- FeatureFlags.modernContactDiscovery is a prerequisite\n- RemoteConfig.modernContactDiscovery or\n  DebugFlags.forceModernContactDiscovery will enable modern CDS", "Migrate modernContactDiscovery from featureflag to remoteflag\n\nThis changes up some of the logic around how we determine whether or not\nto enable modern contact discovery", "Fixup from rebase", "Run precommit linter", "Merge branch 'mlin/PR/IOS-716' into release/3.14.0", "Update remote config custom flag name.", "Merge branch 'charlesmchen/groupsV2flagName' into release/3.14.0", "Fix perf problems around observation of addressing mapping changes.", "Add unit test around address mapping changes.", "Fix issue in address' Codable impl.", "Respond to CR.", "Merge branch 'charlesmchen/addressChangeObservationPerf' into release/3.14.0", "Fix conversation view edge cases.", "Respond to CR.", "Merge branch 'charlesmchen/conversationViewEdgeCases' into release/3.14.0", "Rework Groups v2 & CDS feature flags.", "Rework Groups v2 & CDS feature flags.", "Enable gv2 support.", "Rework Groups v2 & CDS feature flags.", "Merge branch 'charlesmchen/groupsV2andCDSFeatureFlags' into release/3.14.0", "Convert ContactsViewHelper to singleton.", "Convert ContactsViewHelper to singleton.", "Convert ContactsViewHelper to singleton.", "Improve comments.", "Fix bug.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/singletonContactsViewHelper' into release/3.14.0", "Deduplicate users in contact view helper.", "Merge branch 'charlesmchen/deduplicateUsers' into release/3.14.0", "\"Bump build to 3.14.0.25.\" (Internal)", "\"Bump build to 3.14.0.26.\"", "\"Bump build to 3.14.0.27.\" (Internal)", "\"Bump build to 3.14.0.28.\" (Internal)", "Fix stale thread model.", "Merge branch 'charlesmchen/staleThreadModel' into release/3.14.0", "Merge branch 'release/3.14.0'", "Add performance test around UnfairLock.", "Add performance test around UnfairLock.", "Respond to CR.", "Merge branch 'charlesmchen/unfairLockPerformance' into release/3.14.0", "Improve sticker validation.", "Merge branch 'charlesmchen/nonWebpStickers'", "Move some attestation work off the main thread.", "Merge branch 'charlesmchen/smallFixes321'", "Ignore users recently marked as unregistered by CDS in message sends.", "Ignore users recently marked as unregistered by CDS in message sends.", "Add test UI around skipping unregistered users in message sends.", "Respond to CR.", "Merge branch 'charlesmchen/unregisteredUsersVsCDS' into release/3.14.0", "Avoid reloading models.", "Respond to CR.", "Merge branch 'charlesmchen/avoidReload'", "Improve handling of UD manager edge case.", "Respond to CR.", "Merge branch 'charlesmchen/udManagerEdgeCase'", "Merge remote-tracking branch 'private/release/3.14.0'", "Refine error retry handling.", "Refine error retry handling.", "Merge branch 'charlesmchen/refineErrorRetries'", "Use common run loop mode for some timers", "Merge branch 'nt/little-fixes74' into release/3.14.0", "Fix mention picker contentSize change handling", "Fix mention picker when caching keyboard height", "Fix some mention picker sizing issues", "Fix 'read more' on deleted messages", "Increase mention picker avatar size", "Add mentions megaphone", "Use a blur for the mention picker background", "Add haptic feedback to mention picker", "Merge branch 'nt/mention-stuff' into release/3.14.0", "Feature flags for .beta.", "\"Bump build to 3.14.0.29.\"", "Feature flags for .qa.", "\"Bump build to 3.14.0.30.\" (Internal)", "Merge branch 'release/3.14.0'", "Fix races in share extension completion.", "Merge branch 'charlesmchen/shareExtensionRaces'", "Clean up background task continuity.", "Merge branch 'charlesmchen/backgroundTaskContinuity'", "Add remote config flag for attachmentUploadV3.", "Merge branch 'charlesmchen/attachmentUploadV3RemoteConfig' into release/3.14.0", "Allow receiving link previews from non-whitelisted domains", "Merge branch 'nt/link-previews-for-all' into release/3.14.0", "Fix mention megaphone dismissal", "Remove confusing mention settings", "Merge branch 'nt/little-fixes75' into release/3.14.0", "Update mentions copy.", "Update l10n strings.", "IOS-711: Re-expose existing rate-limit errors in modern CDS\n\nThis change adds retry-after header parsing.\nModernContactDiscoveryOperations will now parse any httpStatusCodes from\nerrors it hits and return build an appropriate ContactDiscoveryError in\nresponse.", "Add some tests to exercise date parsing\n\nDate+SSKTest has a suite of tests that checks parsing of HTTP and\nIOS8601 dates directly\n\nNSURLSessionDataTask+OWS_HTTPTest validates that the Retry-After parsing\nof NSHTTPURLResponse works as expected\n\nAlso, this change renames the NSURLSessionDataTask extension header to\nsomething more generally appropriate", "Make ContactDiscoveryError an NSError subclass\n\nAlso, changes how ContactDiscoveryTask is used by callers. Now, callers\ncheck the provided error's retry after to determine when to schedule the\nnext attempt.\n\n(Except OWSMessageSender for now)", "Add tests for ContactDiscoveryTask.RateLimiter", "Adopt new CDS errors in LegacyContactDiscoveryService\n\nAlso, made some changes for better error handling in\nContactDiscoveryTask clients", "PR feedback", "Run precommit script", "Some last bits of PR feedback", "Update Pods submodule commit", "Merge branch 'mlin/PR/IOS-711' into release/3.14.0", "Fix media upload progress.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/attachmentUploadNotifications' into release/3.14.0", "Update flags for CDS, UUID safety numbers.", "Merge branch 'charlesmchen/modernCDSfeatureFlags' into release/3.14.0", "Feature flags for .beta.", "\"Bump build to 3.14.0.31.\"", "Feature flags for .production.", "\"Bump build to 3.14.0.32.\"", "Feature flags for .qa.", "\"Bump build to 3.14.0.33.\" (Internal)", "Merge branch 'release/3.14.0'", "\"Bump build to 3.15.0.0.\"", "Hide legacy group warning in creation flow behind feature flag.", "Merge branch 'charlesmchen/groupsV2legacyGroupWarning' into release/3.14.0", "Update changelog for 3.14", "Expose more message details in internal builds.", "Merge branch 'charlesmchen/moreMessageDetails' into release/3.14.0", "Update l10n strings.", "Feature flags for .beta.", "\"Bump build to 3.14.0.34.\"", "Feature flags for .production.", "\"Bump build to 3.14.0.35.\"", "Feature flags for .qa.", "\"Bump build to 3.14.0.36.\" (Internal)", "IOS-717: Filter out non-e164s in our CDS lookups\n\nModifies ContactDiscoveryTask to filter out any duplicate e164s. Also\nrenames a bunch of things to make identifier formatting expectations\nmore clear.\n\nA candidate for further improvement: IOS-757: Adopt PhoneNumbers in CDS\nsubsystem", "PR Feedback: ContactDiscoveryTask should just drop non-e164\n\nParsing to e164 is expensive and callers should be handing us e164s\nanyway.", "Merge branch 'mlin/PR/IOS-717'", "Merge remote-tracking branch 'private/release/3.14.0'", "Add dedicated video call button", "Add blurred avatar behind  call  screen", "Redesigned incoming and ongoing call controls", "Move disappearing timer status to subtitle", "Fix translations", "Always use mic off icon for mute button, regardless of state", "Cleanup mute status icon", "Add 'vanity' view when making an outbound call with video", "Allow re-positioning PIP during video calls", "Remove calling feature flag", "Add video call and add to contacts to member sheet", "Fix audio source selection", "Fix call controls on iPad", "Update schema", "Merge branch 'nt/call-redesign'", "\"Bump build to 3.15.0.1.\" (Internal)", "\"Bump build to 3.15.0.2.\" (Internal)", "\"Bump build to 3.15.0.3.\" (Internal)", "\"Bump build to 3.15.0.4.\" (Internal)", "\"Bump build to 3.15.0.5.\" (Internal)", "\"Bump build to 3.15.0.6.\" (Internal)", "\"Bump build to 3.15.0.7.\" (Internal)", "Add 'Profiling' scheme", "Set expiry time in profiling builds", "\"Bump build to 3.14.1.0.\" (Internal)", "Fix issue around updating conversation thread.", "Merge branch 'charlesmchen/conversationThreadUpdates' into release/3.14.1", "Feature flags for .beta.", "\"Bump build to 3.14.1.1.\"", "Feature flags for .production.", "\"Bump build to 3.14.1.2.\"", "\"Bump build to 3.14.2.0.\" (Internal)", "Merge remote-tracking branch 'private/release/3.14.1'", "\"Bump build to 3.15.0.8.\" (Internal)", "Timeout video controls after 5 seconds", "Restyle return to call view", "Don't use CallKit for video calls received while the app is active", "We can always use the metal view for calls now", "Fix a bug where we'd use the wrong adapter after starting a call", "Improve iPad calling experience", "improve pip gesture interaction", "Move writes off the main thread", "Fix call video orientation handling", "Cleanup call adapter management", "Don't unmute when outgoing call is answered", "Better iPhone orientation handling", "Update pods", "Merge branch 'nt/call-redesign-2'", "Update to RingRTC v2.4.3", "Fix metal macros", "Restyle system messages", "Add icons to group updates", "Improve handling of UD edge case.", "Don't load pre-existing profile avatars during profile fetches.", "Updated icoons and design feedback", "Merge branch 'nt/system-message-cleanup'", "Fix remote video orientation handling on iPad", "Calling design feedback", "Use native back button for conversation settings", "Fix an issue where some images can't be interactively dismissed", "Improve trackpad support", "Always show empty inbox state when no threads", "Default screen security to off", "Move delete account to advanced settings", "Allow expanding truncated messages inline", "Merge branch 'nt/little-fixes76'", "Fix 'react to wrong message' issue", "Merge branch 'nt/react-to-wrong-message-fix'", "\"Bump build to 3.15.0.9.\" (Internal)", "\"Bump build to 3.15.0.10.\" (Internal)", "Default screen security on for existing users", "\"Bump build to 3.15.0.11.\" (Internal)", "Re-use existing profile avatars if possible.", "Respond to CR.", "Merge branch 'charlesmchen/reuseProfileAvatars' into release/3.14.2", "Feature flags for .beta.", "\"Bump build to 3.14.2.1.\"", "Feature flags for .production.", "\"Bump build to 3.14.2.2.\"", "Merge remote-tracking branch 'private/release/3.14.2'", "Fix a bug where you can't interact with answer-without-video button", "Update a few system message icons", "Fix pip animation", "Merge branch 'nt/little-fixes77'", "Feature flags for .beta.", "Sync translations", "\"Bump build to 3.15.0.12.\"", "Feature flags for .qa.", "\"Bump build to 3.15.0.13.\" (Internal)", "Revisit resumable attachment uploads.", "Clean up ahead of PR.", "Remove url rewrite in attachment uploads.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/resumableUploadsPart3' into release/3.15.0", "Minor cleanup.", "Merge branch 'charlesmchen/cleanup32'", "Cautious proto address parsing.", "Cautious proto address parsing.", "Merge branch 'charlesmchen/protoAddresses'", "IOS-782: +[Theme sharedInstance] re-enterant initialization\n\nThis bug fixes an issue where if the +[Theme sharedInstance] was first\ninitialized after AppReady and while in dark mode, we'd reenterantly\ncall +sharedInstance and crash on a dispatch_once assert.\n\nThis has been an existing issue that's only manifest recently due to\nunrelated changes (will document below). To workaround this limitation,\nwe need to break the synchronous chain from +sharedInstance to\n-themeDidChange. The most straightforward way to do that is to re-async.\n\nThis is a tiny bit of fallout from dc543ce. That commit did a bunch of\nwork to simplify OWSNavigationController's handling of its navigation\nbar. Before, the navigation bar would be configured during\n-[OWSNavigationController init]. It looks like UIKit lazily initializes\nthe navigation bar at first access, and the navigation bar would call\nout to +[Theme sharedInstance].\n\nNow, that work doesn't happen during -init. This means that the\nsharesheet extension used to indirectly call +[Theme sharedInstance]\nbefore AppReady, but now it doesn't. Now, its first call to +[Theme\nsharedInstance] happens after AppReady.", "Merge branch 'mlin/PR/IOS-782' into release/3.15.0", "Cautious proto address parsing.", "Cautious proto address parsing.", "Improve censorship circumvention in OWSUrlSession.", "Tweak remote config and debug flags around attachment uploads v3.", "Merge branch 'charlesmchen/attachmentUploadV3vsCensorshipCircumvention' into release/3.15.0", "Update donation link in contribution instructions", "Fix tiny bug.", "Improve conversation header for small phones", "Small calling design tweaks", "Cleanup call audio handling", "Hide speaker mode button on iPad", "Merge branch 'nt/call-fixes' into release/3.15.0", "Sync translations", "Feature flags for .beta.", "\"Bump build to 3.15.0.14.\"", "Feature flags for .qa.", "\"Bump build to 3.15.0.15.\" (Internal)", "Merge branch 'patch-1'", "Respond to CR.", "Merge branch 'charlesmchen/attachmentUploadV3vsCensorshipCircumvention2' into release/3.15.0", "Merge remote-tracking branch 'private/release/3.15.0'", "Add some benches and make a small dent on conversation open time", "Nickname support\n\nAdd nickname support. 1:1 threads are now named using the nickname of the contact if available. I expect there'll be design input about how to present this. For now I've gone with putting quotes around the nickname. Also, there's a lot of contact stuff so I'd appreciate checking that I did the correct thing here.", "Consult system nickname preference\n\nCheck the user defaults to see if we should prefer the nickname if we have one.", "Clean up warnings\n\nClean up a bit of dead code and fix warning.", "Merge branch 'gte/contact_namename'", "Optimize 'sortIndex' query for generally being at the latest message", "Merge branch 'nt/little-fixes78' into release/3.15.0", "Clean up censorship circumvention.", "Add test around URL composition.", "Merge branch 'charlesmchen/censorshipCircumventionCleanup' into release/3.15.0", "Re-add muted text, when there is room", "Fix an issue where some old messages had empty 'body'", "For now, always ring video calls. Our mute switch detection is fraught and it's better to ring than to not.", "Sync translations", "Feature flags for .beta.", "\"Bump build to 3.15.0.16.\"", "Feature flags for .qa.", "\"Bump build to 3.15.0.17.\" (Internal)", "Merge remote-tracking branch 'private/release/3.15.0'", "Clean up stale code.", "Always dismiss the call screen immediately if you're in the background", "IOS-784: Improvements to sqlclient script\n\nThis change makes the debug the sqlcipher database with command line\nmuch easier. Leverages simctl to make simulator discovery and\nintrospection super straightforward", "PR Feedback, update schema_dump to support sqlclient updates", "Merge branch 'mlin/PR/IOS-784'", "Properly handle silent mode when ringing video calls", "Handle x-signal-timestamp header", "codegen", "Migration to add serverDeliveryTimestamp", "Merge branch 'nt/server-timestamp-header'", "Merge branch 'nt/fix-video-call-ringer' into release/3.15.0", "Fix localization of conversation dates", "Extend attachment input toolbar behind keyboard.", "Fix thread ordering after the latest message was deleted", "Sync translations", "Fix an issue where pip position isn't preserved", "Feature flags for .beta.", "\"Bump build to 3.15.0.18.\"", "Feature flags for .qa.", "\"Bump build to 3.15.0.19.\" (Internal)", "Merge branch 'release/3.15.0'", "Update changelog for 3.15", "Better permission handling for calls.", "Extend approval footer view behind keyboard", "Slightly adjust navbar spacing", "sync translations", "Fix tinting of attachment images on iOS 11+12", "Feature flags for .beta.", "\"Bump build to 3.15.0.20.\"", "Feature flags for .production.", "\"Bump build to 3.15.0.21.\"", "Feature flags for .qa.", "\"Bump build to 3.15.0.22.\" (Internal)", "Merge branch 'release/3.15.0'", "\"Bump build to 3.15.1.0.\" (Internal)", "\"Bump build to 3.16.0.0.\" (Internal)", "IOS-797: Configuration sync messages incorrectly updating local config on nil message fields\n\nConfiguration sync messages use proto2, so the value for a given field\nmay or may not exist. When we receive an incoming sync message, we\nshould only adopt any properties if they're already set. Otherwise we\nrisk interpreting an unset field as set NO.", "Merge branch 'mlin/PR/IOS-797'", "Fix 3.16 downgraders", "\"Bump build to 3.16.0.1.\" (Internal)", "Fix call time localization", "Feature flags for .production.", "sync translations", "\"Bump build to 3.15.0.23.\"", "Feature flags for .qa.", "\"Bump build to 3.15.0.24.\" (Internal)", "Merge branch 'release/3.15.0'", "Make sure the timestamps are valid, or clamp to 0", "Generate skin tone information for Emoji", "Increase reaction size", "Combine skin tones in reaction counts", "Persist emoji availability", "Persist and render preferred skin tone permutations in reaction picker", "Allow skin tone selection in emoji picker sheet", "Improve dismissability of emoji picker", "Some small tweaks to emoji generation (determinate skin tone order, better 'couple' naming)", "Design feedback", "Fix available cache", "Merge branch 'nt/reaction-skintones'", "Update to RingRTC v2.5.0", "Merge branch 'ringrtc/v2.5.0'", "\"Bump build to 3.16.0.2.\" (Internal)", "Skin tone picker improvements", "Fix off-by-one issue in the group membership views.", "Merge branch 'charlesmchen/groupsV2maxMemberCountPlusOne'", "Fix edge case in textfield filtering.", "Merge branch 'charlesmchen/textfieldFilteringFix'", "Tweak notifications for incoming reactions.", "Tweak notifications for incoming reactions.", "Merge branch 'charlesmchen/reactionNotifications'", "Remove underscore from remote config flag for upload v3.", "Merge branch 'charlesmchen/remoteConfigVsUnderscores'", "Make sure group update info message copy is deterministic.", "Respond to CR.", "Merge branch 'charlesmchen/groupUpdateOrdering'", "Fix assert around additional recipients.", "Merge branch 'charlesmchen/fixAdditionalRecipientsAssert'", "Add support for UUID only sender certificate", "Merge branch 'nt/phone-number-privacy'", "Use protocol contexts in prekey stores.", "Use protocol contexts in prekey stores.", "Use protocol contexts in prekey stores.", "Block prekey operations on message fetching and decryption.", "Block prekey operations on message fetching and decryption.", "Update Cocoapods.", "Merge branch 'charlesmchen/prekeyLifecycle'", "Add a donate link to settings", "Merge branch 'nt/donate-link'", "Play message actions haptic earlier", "\"Bump build to 3.16.0.3.\" (Internal)", "Remove extra migration", "Improve logging around model read cache assert.", "Fix recent regressions.", "Don't block key creation on message process if not yet registered.", "Merge branch 'charlesmchen/warmEmojiCacheVsStorageReady'", "Fail incoming calls when an error is received from CallKit", "Merge branch 'nt/call-fix'", "Add initial handling of 'phone number discoverability' setting", "Storage service support for phone number sharing and discoverability", "PR Feedback", "Merge branch 'nt/phone-number-privacy'", "IOS-791: Megaphone for updated link previews\n\nThis change:\n- Disables link previews on upgrade\n- Introduces a new megaphone to prompt users to re-enable link previews\n- Updates sync message proto to add a v2 link previews flag", "Update proto to re-include legacy link previews flag\n\nAfter some discussion, it was determined that we'd need to keep this\naround to ensure that we'll eventually resolve any unknown fields.\nLeaving around an unregistered flag will permanently leave us with an\nunknown proto field.", "PR feedback: Better transactionality around link preview dismissal\n\nMark the link previews megaphone complete in the same transaction as\nupdating our link preview preference. Added the ability to pass in an\noptional transaction to markAsComplete() to support this.", "Add StorageService proxiedLinkPreview store and forward\n\nUpdated devices still need to persist proxiedLinkPreview state to ensure\nthat any updates they make to storage service maintain existing\nproxiedLinkPreview state.", "IOS-807: Fetch link preview content directly\n\nThis change updates the link preview fetch flow to fetch content\ndirectly rather than through the proxy. This means we can remove the\nallowed domain list and fetch content from most provided domains.\n\nThis almost moves HTML content parsing outside of OWSLinkPreview.\nCurrently we'll still only fetch the same content, but it's extensible\nenough to fetch all sorts of different opengraph tags.\n\nAFHTTPSessionManager will no longer faildebug on a request failure.\nSince we're going to be firing opportunistic fetch requests as we parse\na URL, it's expected that some will fail.", "Pull request feedback and removing unnecessary code\n\n- Rename URL -> Url to follow convention\n- Remove some duplicated/unnecessary code\n- Parse the returned image Data with ImageData", "Update the link preview settings strings to reflect new behavior", "Merge branch 'mlin/PR/IOS-810' into mlin/PR/IOS-718-LinkPreviewsUmbrella", "Fix rebase failure with StorageService proto\n\nAlso, re-run protobuf generation with swift-protobuf-1.8.0 to reduce a\nbunch of diff noise. If we decide to migrate, we should do that in a\nseparate commit.", "Update Pods submodule commit\n\nAlso, CocoaPods manifest now uses the `trunk` name for the specs repo.\nBased on https://github.com/CocoaPods/CocoaPods/issues/9190 and\nhttp://blog.cocoapods.org/CocoaPods-1.8.0-beta/, this should probably be\nfine. But if something breaks, we might want to try rolling back\nPodfile.lock.", "Remove vector data preservation\n\nThis is only necessary if we're doing scaling at runtime. We're not, we\njust need a 1,2,3x asset. Xcode will take care of that\nautomatically.", "Merge branch 'mlin/PR/IOS-718-LinkPreviewsUmbrella'", "Fix contact sharing", "Move haptic feedback to presentation", "sync translations", "Tweak table colors", "Feature flags for .beta.", "\"Bump build to 3.16.0.4.\"", "Feature flags for .qa.", "\"Bump build to 3.16.0.5.\" (Internal)", "Never treat local user as an additional recipient.", "Merge branch 'charlesmchen/localUserVsAdditionalRecipients' into release/3.16.0", "IOS-815: Fix thumbnail scaling for link previews\n\nWe were using pixel size to determine if we should render a preview\nattachment as a thumbnail or a large image. This was causing things like\nTwitter avatars to be drawn large and blurry. Now, we compare based on\ndevice scaling.\n\nAlso, adopts the LinkPreviewImageView for drawing thumbnails. This just\nrounds the corners a bit. Ideally, the corner radius would match the\nbubble, but that'd add a bit of plumbing. It's likely this code is going\nto change a bunch in the future, so we'll just fix that then.", "Merge branch 'mlin/PR/IOS-815'", "IOS-815: Fix thumbnail scaling for link previews\n\nWe were using pixel size to determine if we should render a preview\nattachment as a thumbnail or a large image. This was causing things like\nTwitter avatars to be drawn large and blurry. Now, we compare based on\ndevice scaling.\n\nAlso, adopts the LinkPreviewImageView for drawing thumbnails. This just\nrounds the corners a bit. Ideally, the corner radius would match the\nbubble, but that'd add a bit of plumbing. It's likely this code is going\nto change a bunch in the future, so we'll just fix that then.\n\n(cherry picked from commit e0253d6d49583397c0366008298c1a07a16329cc)", "Fix emoji selection after dismissing skin tone picker", "Merge branch 'nt/little-fixes79' into release/3.16.0", "Feature flags for .beta.", "sync translations", "\"Bump build to 3.16.0.6.\"", "Feature flags for .qa.", "\"Bump build to 3.16.0.7.\" (Internal)", "Add settings for phone number sharing and discoverability", "Invert storage service discoverability flag", "Phone Number Discoverability Onboarding Flow", "Merge branch 'nt/phone-number-privacy'", "Invert storage service discoverability flag", "Wait async calls complete before moving on.", "Fixed two tests related to UIDatabaseSnapshotDelegate.", "A few lines in YDBToGRDBMigrationModelTest fails because of a call to `SDSAnyReadTransaction.unwrapGrdbRead`.\n\nWork around the offending code but only in tests.", "Fixes TSMessageStorageTests, SDSDatabaseStorageTest and OWSMessageManagerTest by disabling GroupsV2 in tests.", "Fixes a test by giving a semi-bogus phone number to work around an assertion.", "Fixes tests by giving a semi-bogus phone number to work around an assertion.", "Fixes tests by giving a semi-bogus phone number to work around an assertion.", "Adds a new mock method to the protocol implementation in the tests.", "Make sure the background task is deallocated after the task finishes.", "Fix broken tests", "Merge remote-tracking branch 'private/release/3.16.0'", "PR Feedback", "Merge branch 'nt/fix-tests2' into release/3.16.0", "Merge branch 'release/3.16.0'", "IOS-819: Quoted contact share fails to render\n\nThis fixes an issue where we'd incorrectly construct a quoted message\nbody for shared contacts.\n\nThis also fixes an issue where ConversationViewItems would incorrectly\nOWSAssertDebug on a body-less message (e.g. sending an image).", "Merge branch 'mlin/PR/IOS-819' into release/3.16.0", "IOS-820: Link preview attachments not received on linked device\n\nFixes an issue where sync transcript messages with \"other attachments\"\n(e.g. link preview attachments and others) would not be downloaded when\nhandling a received sync transcript message.\n\nThis change adopts similar attachment handling to what is performed when\nhandling a data message. See, -[OWSMessageManager\nhandleReceivedEnvelope:withDataMessage...].", "Pull request feedback:\n\n- This changes the `allAttachments` fetch flow to include non-body\nattachments.\n- Quoted thumbnail fetching for sync messages now happens with the rest\nof attachment fetching", "Explicitly touch the interaction on download success", "Fix bracing error", "Merge branch 'mlin/PR/IOS-820' into release/3.16.0", "Point at new CDS encalve", "sync translations", "Feature flags for .beta.", "\"Bump build to 3.16.0.8.\"", "Feature flags for .qa.", "\"Bump build to 3.16.0.9.\" (Internal)", "Merge remote-tracking branch 'private/release/3.16.0'", "Rename ImageMetadata class for clarity.", "Merge branch 'charlesmchen/groupLinks7'", "Avoid races when processing incoming messages or sync transcripts around attachment download.", "Merge branch 'charlesmchen/attachmentDownloadRaceVsNewMessageTransactions'", "Update protos for group links.", "Update protos for group links.", "Model changes for group links.", "Update GroupMembership to reflect requesting members.", "Use Codable enums for group member states.", "Add perf test around group membership serialization.", "Use Codable enums for group member states.", "Respond to CR.", "Add GroupInviteLink and GroupJoinInfo to proto schema.", "Add GroupInviteLink and GroupJoinInfo to proto schema.", "Add group link view.", "Fix whitespace in proto schema.", "Respond to CR.", "Add Debug UI action to copy members between groups.", "Add Debug UI action to make all group members into admins.", "Add UI for sharing group links.", "Add \"share group link QR code\" view.", "Add \"share group link QR code\" view.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/groupLinks4'", "Add signal.group domain to entitlements.", "Add group invite link action sheet.", "Add group invite link action sheet.", "Add group invite link action sheet.", "Add group invite link action sheet.", "Add group invite link action sheet.", "Add group invite link action sheet.", "Add group invite link action sheet.", "Add group invite link action sheet.", "Merge branch 'charlesmchen/groupLinks5'", "Rework link previews thumbnails.", "Preserve transparency when thumbnailing link previews.", "Fix rebase breakage.", "Merge branch 'charlesmchen/linkPreviewThumbnails'", "Populate link previews for group invite links.", "Merge branch 'charlesmchen/groupLinks6'", "Convert Groups v2 to use OWSUrlSession.", "Convert Groups v2 to use OWSUrlSession.", "Merge branch 'charlesmchen/groupLinks8'", "Fix 'join group via invite link that requires approval' issue.", "Fix 'join group via invite link that requires approval' issue.", "Fix 'join group via invite link that requires approval' issue.", "Update \"group update\" info messages to reflect group links.", "Update \"group update\" info messages to reflect group links.", "Update \"group update\" info messages to reflect group links.", "Update \"group update\" info messages to reflect group links.", "Update \"group update\" info messages to reflect group links.", "Merge branch 'charlesmchen/groupLinks9'", "Fix ordering of recipients in message details view.", "Merge branch 'charlesmchen/messageDetailsOrdering' into release/3.16.0", "Update PhotoCaptureViewController.swift\n\nAdd a swipe gesture recognizer to dismiss the capture from camera view.", "Update PhotoCaptureViewController.swift\n\nFix to make sure we're in the right state for the swipe.", "Work on interactive dismiss.", "Fix inital position for drag to dismiss", "Improve dismiss animation", "Clean Up\n\nMoves basic dismiss animation support into the dismiss handler but optionally supports the view controller doing it itself.", "Contrain swipe to vertical. Give protocol a default implementation.", "Tweak Dismiss Animation\n\nMake sure the background view controller is showing by presenting the camera capture over full screen context.\nRemove swipe speed as a dismiss trigger -- it was too easy to accidentlly dismiss the camera capture view. If you're in the camera you don't want quick swipe to dimiss the view and maybe miss what you wanted to take a photo of.\nConstaint dismiss animation to vertical and only dismiss downwards. Tweak the distance required to drag to enage the dismiss action.", "Tweak Dismiss\n\nOnly allow a down swipe to dismiss the camera.\nMake sure to show the conversation view in the background when invoked from there.", "Merge branch 'gte/swipe_dismiss_camera'", "Update proto schema for animated stickers.", "Update proto schema for animated stickers.", "Add support for animated stickers.", "Add support for animated stickers.", "Add support for animated stickers.", "Add support for animated stickers.", "Add support for animated stickers.", "Add support for animated stickers.", "Add support for animated stickers.", "Add support for animated stickers.", "Add possible support for animated lottie, webp, apng.", "Add possible support for animated lottie, webp, apng.", "Add possible support for animated lottie, webp, apng.", "Add possible support for animated lottie, webp, apng.", "Animated sticker support.", "Animated sticker support.", "Animated sticker support.", "Animated sticker support.", "Animated sticker support.", "Respond to CR.", "Fix quoted reply to apng sticker.", "Minor fix around sharing QR codes for group links.", "Slightly improve metadata for webp images.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/animatedStickers'", "Use OWSLinkPreview.workQueue.", "Fix caches that weren't re-warmed after transfer", "Merge branch 'nt/transfer-fix' into release/3.16.0", "Don't insert profile change messages into groups you've quit or threads you've deleted", "profile name change messages should always be marked read", "Group 'quit' message should never be unread", "Notify when the local user is added/invited to a group", "Merge branch 'nt/little-fixes80' into release/3.16.0", "Update to RingRTC v2.5.1", "Merge branch 'ringrtc/v2.5.1'", "Fix broken tests.", "Fix de-bouncing of sticker pack data source change events.", "Reduce sticker change event frequency.", "Merge branch 'charlesmchen/stickerPackDataSourceVsDebounce'", "Remote deprecation.", "Remote deprecation.", "Remote deprecation.", "Remote deprecation.", "Remote deprecation.", "Remote deprecation.", "Remote deprecation.", "Remote deprecation.", "Remote deprecation.", "Remote deprecation.", "Remote deprecation.", "Remote deprecation.", "Remote deprecation.", "Don't make requests against the signal services if the app is expired.", "Remote deprecation.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/remoteDeprecation'", "Allow testers to enable manual censorship circumvention.", "Merge branch 'charlesmchen/internalCensorshipCircumvention'", "Allow user to cancel attachment preparation in the send media flow.", "Respond to CR.", "Merge branch 'charlesmchen/cancelAttachmentPreparation'", "Conversation Pinning", "IOS-822: Support for parsing additional HTML content\n\nThis branch makes improvements to how HTML metadata is parsed. Now,\nwe'll parse other kinds of opengraph tags as well as title, favicon, and\nmeta description.\n\nThis branch also modifies how URL validation is performed. Before,\ninternational URLs were not supported due to NSURL/NSDataDetectors\nhandling of punycode. Now, there are mechanisms to detect non-ASCII URLs\nthat have been parsed and validate that they are comprised of the\ncorrect characters.", "Update Pods submodule commit", "Merge branch 'mlin/PR/IOS-822' into release/3.16.0", "PR Feedback", "Merge branch 'nt/pinned-chats'", "Fix conversation list cell layout", "Update Pods submodule commit\n\nFor real this time. Last try the commit never got pushed up to the pods\nrepo.", "sync translations", "Feature flags for .beta.", "\"Bump build to 3.16.0.10.\"", "Feature flags for .qa.", "\"Bump build to 3.16.0.11.\" (Internal)", "Merge branch 'release/3.16.0'", "\"Bump build to 3.17.0.0.\"", "Update sticker feature flags.", "Tweak CDS and gv2.", "Tweak sticker behavior.", "Merge branch 'charlesmchen/groupsAndCdsTweaks' into release/3.16.0", "Merge branch 'charlesmchen/tweakStickers'", "Rework the 'pending member requests and invites' view.", "Rework the 'pending member requests and invites' view.", "Rework the 'pending member requests and invites' view.", "Rework the 'pending member requests and invites' view.", "Rework the 'pending member requests and invites' view.", "Merge branch 'charlesmchen/groupLinks10'", "Remove \"re-send invites\" UI.", "Handle expired group invite links.", "Apply design updates to group links UI.", "Add \"send group link via signal\" flow.", "Add \"send group link via signal\" flow.", "Add \"send group link via signal\" flow.", "Add \"send group link via signal\" flow.", "Merge branch 'charlesmchen/groupLinks11'", "IOS-823: Add description/date to link preview model\n\nUpdates the proto definition to add a preview description and date\nfield. Date and description metadata from fetched content will be sent\nover the wire. We can't render it locally yet, but at least this will\nallow supporting recipients to display the content.\n\nAlso, made some minor changes to HTMLMetadata to better handle article\npublish/modified date tags.", "PR Feedback: align proto definition", "Merge branch 'mlin/PR/IOS-823' into release/3.16.0", "IOS-824: Link preview UI tweaks\n\nMakes some minor adjustments to the link preview UI in preparation for\nrelease.", "Added a whole bunch more UI changes\n\nThis is now pretty close to the design spec. Most significant change\nhere is adding a new stack view configuration joining the title and the\nthumbnail, both floating above description text.", "Merge branch 'mlin/PR/IOS-824' into release/3.16.0", "sync translations", "Feature flags for .beta.", "\"Bump build to 3.16.0.12.\"", "Feature flags for .production.", "\"Bump build to 3.16.0.13.\"", "Merge branch 'release/3.16.0'", "Feature flags for .qa.", "\"Bump build to 3.17.0.1.\" (Internal)", "Feature flags for .qa.", "\"Bump build to 3.16.0.14.\" (Internal)", "Refine group invite link UI.", "Add \"pending member requests\" banner.", "Add \"pending member requests\" banner.", "Add \"pending member requests\" banner.", "Merge branch 'charlesmchen/groupLinks12'", "Fix user-agent header for v2 POST uploads.", "Merge branch 'charlesmchen/fixUploadV2UserAgent'", "Update conversation settings state to reflect changes immediately.", "Merge branch 'charlesmchen/conversationSettingsVsUpdates'", "Fix race in \"protect temporary file\" logic.", "Merge branch 'charlesmchen/raceInProtectFile'", "Fix download of non-body attachments for sync transcripts.", "Merge branch 'charlesmchen/fixDownloadOfAttachmentsForSyncTranscripts'", "Hide groups that we are not a member of in the conversation picker.", "Merge branch 'charlesmchen/conversationPickerVsNonMemberGroups'", "Fix edge case around dismissing message request view.", "Add UI for pending member requests and ability to cancel.", "Update copy around member requests.", "Merge branch 'charlesmchen/groupLinks13'", "Don't use sticky headers for pinned chats", "Sort pinned threads to the top of the 'recent items' section when sharing", "Standardize on calling 'conversations' 'chats'", "Merge branch 'nt/pinned-chat-tweaks'", "Handle MCNearbyServiceBrowser error callback", "\"Bump build to 3.17.0.2.\" (Internal)", "Merge remote-tracking branch 'private/release/3.16.0'", "\"Bump build to 3.17.0.3.\" (Internal)", "\"Bump build to 3.17.0.4.\" (Internal)", "\"Bump build to 3.17.0.5.\"", "\"Bump build to 3.17.0.6.\" (Internal)", "Update l10n strings.", "Update link previews for group invite links.", "Update link previews for group invite links.", "Merge branch 'charlesmchen/groupLinks14' into release/3.17.0", "Respond to CR.", "Fix copy when cancelling a group request.", "Add debug UI for updating v2 groups immediately.", "Improve handling of cancelled requests.", "Improve handling of group invite link edge cases.", "Improve handling of group invite link edge cases.", "Merge branch 'charlesmchen/groupLinks15' into release/3.17.0", "Improve flow for sharing a group invite link to a single conversation. Add UI Database snapshot flush promise.", "Improve flow for sharing a group invite link to a single conversation. Add UI Database snapshot flush promise.", "Merge branch 'charlesmchen/groupLinks16' into release/3.17.0", "Handle expired group links.", "Clean up codebase.", "Merge branch 'charlesmchen/groupLinks17' into release/3.17.0", "Fix bug in link preview view measurement.", "Merge branch 'charlesmchen/groupLinks18' into release/3.17.0", "IOS-831: Link Preview 1970 date\n\nSome android devices will set the date field in the proto to zero, even\nif a date is available. Currently, iOS devices will display a date if\nthere's ever one set.\n\nThe fix is to just ignore date values of zero.", "Merge branch 'mlin/PR/IOS-831' into release/3.17.0", "Allow app to be remotely expired", "Remote expiration date is not sticky before expiration", "Merge branch 'nt/remote-deprecation' into release/3.17.0", "IOS-829: Link Previews: Better handling of cancelled requests\n\nOWSLinkPreviewManager's network fetches have a size cap. Any requests\nthat go over this cap are cancelled. By default, PromiseKit will not\ncatch/recover any cancellation errors. This would leave our link preview\npromises in a sort of dangling state, not a success but not a failure.\n\nIntroduces a convenience wrapper around catching and rethrowing a\ncancellation error. This is adopted in OWSLinkPreviewManager to rethrow\nany cancelled requests. This makes sense, because anything up the chain\nshouldn't really care whether or not the underlying request was cancelled.", "Merge branch 'mlin/PR/IOS-829' into release/3.17.0", "Add link preview support to share extension and forwarding", "Merge branch 'nt/sharing-link-previews' into release/3.17.0", "Only do a full intersection once per day", "Fix ordering of pinned threads when sharing", "Rev gv2 feature flags", "Display custom copy when prompting for local network access on iOS 14", "Merge branch 'nt/little-fixes81' into release/3.17.0", "Sync translations", "Feature flags for .beta.", "\"Bump build to 3.17.0.7.\"", "Feature flags for .qa.", "\"Bump build to 3.17.0.8.\" (Internal)", "New CDS enclave", "Fix text approval view keyboard animation", "Sync translations", "Feature flags for .beta.", "\"Bump build to 3.17.0.9.\"", "Feature flags for .production.", "\"Bump build to 3.17.0.10.\"", "Feature flags for .qa.", "\"Bump build to 3.17.0.11.\" (Internal)", "\"Bump build to 3.17.0.12.\" (Internal)", "Handle 206 response code in gv2 requests.", "Merge branch 'charlesmchen/groupsV2vs206' into release/3.17.0", "Fix an issue where you couldn't update group from member action sheet", "Add support for the local user to the member action sheet", "Delete mentions megaphone", "Add autorelease pools around attachment upload and download.", "Use serial queues for attachment upload and download.", "Use serial queues for attachment upload and download.", "Merge branch 'charlesmchen/uploadAndDownloadMemory' into release/3.17.0", "IOS-832: Device transfer flow should handle missing folders\n\nA user hit an issue on an iPhone 5s. Device transfer would fail because\ntheir app group was missing the ProfileAvatars directory.\n\nThis directory is lazily created as a post-launch job at background QoS.\nIt's not too big of a deal and it'll be created on demand if necessary.\nThe 5s was probably CPU constrained enough to never have a chance to run\nany background jobs.\n\nThe fix is to just have our recursive filesystem traversal ignore any\nunknown directory errors. This is only used in a couple places and the\nbehavior makes sense in each place.", "Merge branch 'mlin/PR/IOS-832' into release/3.17.0", "Sync translations", "Feature flags for .production.", "\"Bump build to 3.17.0.13.\"", "Feature flags for .qa.", "\"Bump build to 3.17.0.14.\" (Internal)", "Update input if user is removed from group.", "Merge branch 'charlesmchen/groupsV2removedFromGroupVsInput' into release/3.17.0", "Fix bug around throttling group updates.", "Merge branch 'charlesmchen/groupsV2groupUpdateThrottling' into release/3.17.0", "Feature flags for .production.", "\"Bump build to 3.17.0.15.\"", "Feature flags for .qa.", "\"Bump build to 3.17.0.16.\" (Internal)", "IOS-840: Emoji reaction picker truncating some emojis\n\nThis fixes an issue where some emojis in the emoji reaction picker are\ntruncated and replaced with an ellipsis.\n\nThis only occurs on certain devices and I haven't been able to repro in\nthe simulator. A couple devices I've seen this occur on:\n- iPhone X running iOS 13.6 and 13.7\n- iPhone SE 2 running iOS 14b5\n\nThe issue has something to do with the typographic box for certain emoji\nglyphs having a slightly larger size than most other emojis. The actual\nglyph seems to have the same size. Many of the broken emojis have a ZWJ,\nbut there are some correctly sized emojis that also have a ZWJ.\n\nThe emojis that I've used for testing are:\n- \ud83d\udc69\u200d\ud83e\uddb0 (Woman + ZWJ + Red Hair)\n  Typographic size: 36.00x38.19. Image glyph size: 32.00x32.00\n- \ud83d\udc71\u200d\u2640\ufe0f (Blond person + ZWJ + Female)\n  Typographic size: 40.00x38.19. Image glyph size: 32.00x32.00\n\nTo workaround this, we set the line break mode on the emoji label to\nclip. On devices that don't have this issue, nothing changes. On devices\nthat do have this issue, we end up clipping a bit of the typographic\nrect. In testing, it seems that we never end up clipping the actual\nglyph image. But even if we do, it's at least better than truncating.", "Merge branch 'mlin/PR/IOS-840'", "Tiny fix for failDebug during temp cleanup\n\nWe have a comment here explaining why this could fail. We shouldn't\nfail debug if this is expected to occur occasionally", "Tweak capabilities for gv2.", "Merge branch 'charlesmchen/gv2Capabilities' into release/3.17.1", "Inform all removed members with empty group update.", "Inform all removed members with empty group update.", "Clean up \"not in gv2 group\" code path.", "Fix spurious warnings around missing updater info when removed from the group.", "Embed signed change protos when removing users, revoking invites and denying requests.", "Respond to CR.", "Merge branch 'charlesmchen/groupsV2informAllRemovedMembers' into release/3.17.1", "Feature flags for .beta.", "\"Bump build to 3.17.1.0.\"", "Feature flags for .production.", "\"Bump build to 3.17.1.1.\"", "Feature flags for .qa.", "\"Bump build to 3.17.1.2.\" (Internal)", "Merge branch 'mlin/PR/CleanupTempFailure'", "Update changelog for 3.17.1", "Merge branch 'release/3.17.1'", "\"Bump build to 5.0.0.0.\"", "Recover from errors in the ui database observation pipeline.", "Remove redundant variable.", "Merge branch 'charlesmchen/uiDatabaseObservationEdgeCase'", "Enable gv2 creation in public beta.", "Merge branch 'charlesmchen/groupsV2enableGv2CreateInBeta' into release/3.17.2", "Update l10n strings.", "\"Bump build to 3.17.2.0.\"", "Enable mentions in public beta.", "Merge branch 'charlesmchen/mentionsVsPublicBeta' into release/3.17.2", "Feature flags for .beta.", "\"Bump build to 3.17.2.1.\"", "Feature flags for .qa.", "\"Bump build to 3.17.2.2.\" (Internal)", "IOS-842: Improved link preview thumbnail scaling\n\nThis relaxes the thumbnail size requirements on 3x devices. It also pins\nthe minimum thumbnail size to the width of the message bubble.\n\nTo prevent us from inadvertantly scaling down what would be a hero image\nto a thumbnail size, this change also increases the max dimension of any\nfetched link preview thumbnail.", "Merge branch 'mlin/PR/IOS-842'", "Reduce FPS of display link used by DB observer.", "Merge branch 'charlesmchen/reduceDBObserverDisplayLinkFrequency'", "Skip unnecessary queries in attachment finder.", "Merge branch 'charlesmchen/attachmentFinderOptimization'", "Merge remote-tracking branch 'private/release/3.17.2'", "Obtain and add identity keys to offer/answer apis", "Clean up CallService changes.", "Update to RingRTC v2.6.0", "Remove timestamp validity assertion\n\nIt is possible that server machines won't be in sync with millisecond\nprecision. Therefore, since we clamp the age the check is not helpful.", "Update to RingRTC v2.7.0", "Clean up branch.", "Merge branch 'ringrtc/no-dtls'", "\"Bump build to 5.0.0.1.\" (Internal)", "Fix spurious test failures.", "Try to fix broken test.", "Merge branch 'charlesmchen/testsVsDatabaseAccess'", "Touch less; touch more carefully.", "Fix broken tests.", "Merge branch 'charlesmchen/touchLess'", "Debounce updating CVC to reflect profile updates.", "Merge branch 'charlesmchen/debounceOtherProfileUpdates'", "Rename singleton accessors.", "Rename singleton accessors.", "Rename singleton accessors.", "Fix broken tests.", "Merge branch 'charlesmchen/singletonAccessors'", "Rename singleton accessors.", "DRY singleton accessors.", "DRY singleton accessors.", "DRY singleton accessors.", "DRY singleton accessors.", "DRY singleton accessors.", "DRY singleton accessors.", "DRY singleton accessors.", "DRY singleton accessors.", "DRY singleton accessors.", "DRY singleton accessors.", "DRY singleton accessors.", "Fix rebase breakage.", "Merge branch 'charlesmchen/singletonAccessors2'", "Reduce modal activity indicator display delay.", "Merge branch 'charlesmchen/modalActivityDelay'", "Rewrite linked devices view.", "Rewrite linked devices view.", "Rewrite linked devices view.", "Fix rebase breakage.", "Merge branch 'charlesmchen/linkedDevicesView'", "Improve spurious asserts.", "Merge branch 'charlesmchen/asserts'", "All v1 groups for developers.", "Merge branch 'charlesmchen/groupsV1support'", "Avoid collection view layout and measurement during CVC configuration.", "Merge branch 'charlesmchen/hideCollectionViewContentDuringLoad'", "Defer load of bottom bar in conversation view.", "Respond to CR.", "Merge branch 'charlesmchen/deferBottomBarLoad'", "Rename OWSMessageSender -> MessageSender.", "Rename OWSMessageSender -> MessageSender.", "Rework message sending.", "Rework message sending.", "Rework message sending.", "Merge branch 'charlesmchen/messageSendCompletion'", "Update Cocoapods.", "Remove 404-as-409 handling.", "Merge branch 'charlesmchen/no404as409'", "\"Bump build to 5.0.0.2.\" (Internal)", "Fix missing contactsManager in conversation list view.", "\"Bump build to 5.0.0.3.\" (Internal)", "Remove stale property.", "\"Bump build to 5.0.0.4.\" (Internal)", "Remove old databaseStorage property.", "Add user-agent to initial WebSocket request", "Add iOS version to user-agent string", "Merge branch 'nt/websocket-useragent'", "Research Megaphone", "PR Feedback", "Merge branch 'nt/research-megaphone'", "Fix message request view.", "Merge branch 'charlesmchen/inviteRequestView' into release/3.17.2", "Never show verified group indicator if group is empty.", "Respond to CR.", "Tweak flags.", "Feature flags for .beta.", "\"Bump build to 3.17.2.3.\"", "Feature flags for .production.", "\"Bump build to 3.17.2.4.\"", "Feature flags for .qa.", "\"Bump build to 3.17.2.5.\" (Internal)", "Merge branch 'release/3.17.2'", "\"Bump build to 5.0.0.5.\" (Internal)", "\"Bump build to 3.17.3.0.\"", "\"Bump build to 3.17.3.1.\"", "Feature flags for .beta.", "\"Bump build to 3.17.3.2.\"", "Rev the groups v2 capability and remote config flag.", "Merge branch 'charlesmchen/revGroupsV2CapabilityAndRemoteConfig' into release/3.17.3", "Only show legacy group indicators if gv2 create is enabled.", "Merge branch 'charlesmchen/legacyGroupWarningVsRemoteConfig' into release/3.17.3", "Feature flags for .production.", "\"Bump build to 3.17.4.0.\"", "Feature flags for .beta.", "\"Bump build to 3.17.4.1.\"", "Feature flags for .qa.", "Merge branch 'release/3.17.4'", "Delete stale delegate extension", "Merge branch 'nt/improve-cursor-movement' into release/3.17.4", "Feature flags for .production.", "\"Bump build to 3.17.4.2.\"", "Feature flags for .beta.", "\"Bump build to 3.17.4.3.\"", "Feature flags for .qa.", "Merge branch 'release/3.17.4'", "\"Bump build to 5.0.0.6.\" (Internal)", "\"Bump build to 3.17.5.0.\"", "Feature flags for .production.", "\"Bump build to 3.17.5.1.\"", "Feature flags for .beta.", "Tweak feature flags.", "\"Bump build to 3.17.6.0.\"", "Feature flags for .qa.", "Merge branch 'release/3.17.6'", "Tweak feature flags.", "Feature flags for .beta.", "\"Bump build to 3.17.6.1.\"", "Feature flags for .qa.", "Merge branch 'release/3.17.6'", "Feature flags for .beta.", "\"Bump build to 3.18.0.0.\"", "Update l10n strings.", "\"Bump build to 3.18.0.1.\"", "Improve acknowledgements generation", "Merge branch 'nt/ack' into release/3.18.0", "Fix regression in ImageMetadata", "Merge branch 'nt/fix-borderless' into release/3.18.0", "Workaround android not sending content-type for some stickers", "PR Feedback", "Merge branch 'nt/sticker-workaround' into release/3.18.0", "Don't include deleted threads in the badge count", "Merge branch 'nt/mark-unread-fix' into release/3.18.0", "Increase the vertical insets of placeholders and text inputs to keep them vertically aligned when the system is set to use smaller font and it contains only a line of text. Fixes #4273", "Enabled torch for video recording.\n\nMaking use of existing flash mode property to set the `flashMode` when recording a video.", "Accepts PDF data from Sarari to share to Signal. Fixes #4377", "translations: \"couple weeks\" to \"couple of weeks\".\n\nReword PIN reminder to slightly more neutral-sounding international English.", "Added custom notification sounds\n\n* user can add custom notification sounds from Files app (aiff, wav, or caf files)\n* former OWSSound enum is now named OWSStandardSound, OWSSound turned into an alias for NSUInteger\n* custom sounds get IDs based on the hash of the file name", "PR Feedback", "Merge branch 'nt/public-prs' into release/3.18.0", "Update l10n strings.", "\"Bump build to 3.18.0.2.\"", "Merge branch 'release/3.18.0'", "Revert version number to 5.0.0.", "Feature flags for .qa.", "\"Bump build to 5.0.0.7.\"", "Update Cocoapods.", "\"Bump build to 3.18.0.3.\"", "Merge branch 'release/3.18.0'", "\"Bump build to 5.0.0.8.\"", "\"Bump build to 5.0.0.9.\" (Internal)", "Update CDS enclave for staging.", "Merge branch 'charlesmchen/stagingCDS'", "Enable mentions in public beta.", "\"Bump build to 3.18.0.4.\"", "Update the copy around legacy groups.", "Update the copy around legacy groups.", "Merge branch 'charlesmchen/legacyGroupCopy' into release/3.18.0", "Let display link come to rest when no pending snapshot update.", "Merge branch 'charlesmchen/displayLinkAtRest' into release/3.18.0", "Warning when trying to user to v2 group if doesn't support v2 groups.", "Merge branch 'charlesmchen/addToGroupVsV2' into release/3.18.0", "Fix build warnings.", "Merge branch 'charlesmchen/fixBuildWarnings'", "Let last member leave group.", "Respond to CR.", "Merge branch 'charlesmchen/lastMemberLeaveGroup' into release/3.18.0", "Update l10n strings.", "\"Bump build to 3.18.0.5.\"", "Merge branch 'release/3.18.0'", "\"Bump build to 5.0.0.10.\" (Internal)", "Disable auto-scroll via scroll continuity if app not in foreground.", "Merge branch 'charlesmchen/scrollContinuityVsBackground' into release/3.18.0", "Rework copy around editing membership access.", "Merge branch 'charlesmchen/membershipAccessCopy' into release/3.18.0", "Show \"add group members\" access in conversation settings UI.", "Merge branch 'charlesmchen/addGroupMembersAccess' into release/3.18.0", "Hide requests in conversation settings to reflect remote config.", "Merge branch 'charlesmchen/requestsViewVsRemoteConfig' into release/3.18.0", "Simplify disappearing message configuration in CVC. Report gv2-3 capability.", "Merge branch 'charlesmchen/gv2betaTweaks' into release/3.18.0", "Tweak link preview colors in dark mode", "Fix an issue with thread mapping", "Fix action sheet max-width on smaller displays", "Fix emoji details sheet text color", "Fix endless safety number prompt", "Don't try and render a safety number when we don't have a phone number.", "Merge branch 'nt/little-fixes82' into release/3.18.0", "Update l10n strings.", "\"Bump build to 3.18.0.6.\"", "Merge branch 'release/3.18.0'", "\"Bump build to 5.0.0.11.\" (Internal)", "Remove VALID_ARCHS build setting\n\nWe had it set to the default modern 32-bit and 64-bit iOS\narchitectures anyway, and Xcode 12 doesn't provide it anymore, so it\nbroke the simulator build under Xcode 12. Removing it shouldn't change\nanything for us.", "Merge branch 'jrose/remove-VALID_ARCHS'", "GitHub: Clarify linting error to refer to precommit.py\n\n...instead of just clang-format, since precommit.py does other linting\nas well.", "Merge branch 'jrose/clarify-lint-error'", "Make test_messageIsSent less flaky by flushing the global queue\n\nA synchronous barrier block will not run until all prior submitted\nitems run, and all of the work setting up this test is synchronously\nsubmitted to the global background queue.", "Merge branch 'jrose/make-test_messageIsSent-less-flaky'", "Fix leaks of various CF types", "OWSHTTPSecurityPolicy: Assert that loaded certificates are valid\n\nThese are loaded from our own bundle, so we should be able to\nguarantee validity.", "Merge branch 'jrose/fix-leaks-of-CF-types'", "Fix mute button on CallKit screen in iOS 14. Fixes #4567", "Fix select photos dialog when screen security is enabled. Fixes #4569", "PR Feedback", "Merge branch 'nt/ios14-fixes' into release/3.18.0", "Fix missing assertion in KeyBackupService", "Merge branch 'nt/kbs-fix3' into release/3.17.6", "Feature flags for .production.", "\"Bump build to 3.17.6.2.\"", "Merge branch 'release/3.17.6' into release/3.18.0", "Update l10n strings.", "\"Bump build to 3.18.0.7.\"", "Merge branch 'release/3.18.0'", "\"Bump build to 5.0.0.12.\" (Internal)", "Fix missing action sheet.", "Merge branch 'charlesmchen/groupInviteLinkSupportError' into release/3.18.0", "Disable iCloud capability.", "Merge branch 'charlesmchen/disabledICloudCapability'", "Enforce uniqueness when migrating SignalRecipients from YDB.", "Merge branch 'charlesmchen/recipientUniqueness' into release/3.18.0", "Show admin & verified status in gv2 member list.", "Merge branch 'charlesmchen/gv2AdminVsVerified' into release/3.18.0", "Try to record who approved your request to join a v2 group.", "Merge branch 'charlesmchen/whoApprovedYourRequest' into release/3.18.0", "Support \"sgnl\" form of group links.", "Merge branch 'charlesmchen/groupLinksAltForm' into release/3.18.0", "Default to requiring admin approval for join requests.", "Merge branch 'charlesmchen/groupsV2defaultToApprovingRequests' into release/3.18.0", "\"Bump build to 3.18.0.8.\"", "Feature flags for .production.", "\"Bump build to 3.18.0.9.\"", "Feature flags for .qa.", "Merge branch 'release/3.18.0'", "\"Bump build to 5.0.0.13.\" (Internal)", "Update changelog for 3.18", "Update changelog for 3.18", "Fix compilation with Xcode 12", "Add backwards compatible support for new photo library APIs", "Merge branch 'nt/xcode-12'", "Convert font style convenience methods to properties.", "Merge branch 'charlesmchen/fontStylesAsProperties'", "Update l10n strings.", "\"Bump build to 3.18.1.0.\"", "Merge branch 'release/3.18.1'", "\"Bump build to 3.19.0.0.\"", "Feature flags for .beta.", "\"Bump build to 3.19.0.1.\" (Internal)", "Merge branch 'release/3.19.0'", "Feature flags for .qa.", "Restore 5.0.0 version.", "\"Bump build to 5.0.0.14.\" (Internal)", "Fix build break.", "\"Bump build to 3.19.0.2.\" (Internal)", "Merge branch 'release/3.19.0'", "\"Bump build to 5.0.0.15.\" (Internal)", "Check previous KBS enclaves during registration", "Silently migrate master key to new KBS enclave when necessary", "Make best attempt to delete keys from the previous enclave when migrating", "Don't use new KBS enclave in production yet", "Merge branch 'nt/kbs-migration'", "Enable delete for everyone for everyone", "Merge branch 'nt/doe-on' into release/3.19.0", "Display who added you to a v2 group more often.", "Merge branch 'charlesmchen/groupsV2whoAddedYou' into release/3.19.0", "Add logging gv2 insertion.", "Add support for \"joingroup\"-form group invite links.", "Merge branch 'charlesmchen/groupsV2inviteLinkAction' into release/3.19.0", "Update l10n strings.", "\"Bump build to 3.19.0.3.\"", "Merge branch 'release/3.19.0'", "\"Bump build to 5.0.0.16.\" (Internal)", "Force mentions in public beta.", "\"Bump build to 3.19.0.4.\"", "Merge branch 'release/3.19.0'", "\"Bump build to 5.0.0.17.\" (Internal)", "\"Bump build to 5.0.0.18.\" (Internal)", "Elaborate logging around signed prekey clean up.", "Block prekey handling until message processing is complete.", "Update Cocoapods.", "Merge branch 'charlesmchen/signedPrekeyRotationLogging' into release/3.19.0", "Update Cocoapods.", "Update l10n strings.", "\"Bump build to 3.19.0.5.\"", "Add logging around quoted reply preview lifecycle.", "Tweak asserts around disappearing messages configuration.", "Remote obsolete remote config & feature flags around gv2.", "Respond to CR.", "Update Cocoapods.", "Merge branch 'charlesmchen/groupsV2remoteRemoteConfig'", "Groups v2 and mentions splash.", "Groups v2 and mentions splash.", "Groups v2 and mentions splash.", "Groups v2 and mentions splash.", "Groups v2 and mentions splash.", "Groups v2 and mentions splash.", "Groups v2 and mentions splash.", "Fix rebase breakage.", "Merge branch 'charlesmchen/groupsV2Splash'", "Merge remote-tracking branch 'private/release/3.19.0'", "Fix broken tests.", "Merge branch 'charlesmchen/fixTests3'", "Update l10n strings.", "Feature flags for .production.", "\"Bump build to 3.19.0.6.\"", "Merge branch 'release/3.19.0'", "Don't scroll to deleted quoted replies", "Show sending state for deleted message", "Use 'Delete for me' phrasing in more places", "PR Feedback", "Merge branch 'nt/doe-tweaks' into release/3.19.0", "\"Bump build to 3.19.0.7.\"", "Feature flags for .beta.", "\"Bump build to 3.19.0.8.\"", "Feature flags for .qa.", "Merge branch 'release/3.19.0'", "\"Bump build to 5.0.0.19.\" (Internal)", "Update changelog for 3.19", "\"Bump build to 3.19.1.0.\"", "Update Cocoapods.", "Update l10n strings.", "Update remote config.", "Merge branch 'charlesmchen/tweakRemoteConfig' into release/3.19.1", "Feature flags for .production.", "\"Bump build to 3.19.1.1.\"", "Merge remote-tracking branch 'private/release/3.19.1'", "Fix issue view once messages in v2 groups.", "Merge branch 'charlesmchen/viewOnceVsGroupsV2' into release/3.19.1", "\"Bump build to 3.19.1.2.\"", "Merge branch 'release/3.19.1'", "Feature flags for .qa.", "\"Bump build to 5.0.0.20.\" (Internal)", "Update Cocoapods.", "\"Bump build to 5.0.0.21.\" (Internal)", "\"Bump build to 3.20.0.0.\" (Internal)", "Fix overzealous assert around censorship circumvention.", "Merge branch 'charlesmchen/censorshipCircumventionAssert' into release/3.20.0", "Add flag around gv2 splash.", "Merge branch 'charlesmchen/groupsV2splashFlag' into release/3.20.0", "Avoid assert around gif stickers.", "Merge branch 'charlesmchen/gifStickers' into release/3.20.0", "Fix issues around large type in conversation settings.", "Fix issues around large type in conversation settings.", "Merge branch 'charlesmchen/conversationSettingsVsLargeType' into release/3.20.0", "Improve logging around send failures.", "Rework updates to recipient devices.", "Rework updates to recipient devices.", "Rework updates to recipient devices.", "Merge branch 'charlesmchen/logSendFailures' into release/3.20.0", "Update feature flags and remote config for v3.20.", "Update feature flags and remote config for v3.20.", "Merge branch 'charlesmchen/featureFlagsAndRemoteConfig' into release/3.20.0", "Perform bulk profile fetches by UUID.", "Merge branch 'charlesmchen/bulkProfileFetchByUuid' into release/3.20.0", "Fix storage service sync bug with archiving", "Add date to voice memo file name", "Allow sharing audio and generic attachments", "Change gv2 invite message request text", "Merge branch 'nt/little-fixes83' into release/3.20.0", "Rework how groups are auto-whitelisted.", "Rework how groups are auto-whitelisted.", "Rework how groups are auto-whitelisted.", "Merge branch 'charlesmchen/groupsVsAutoWhitelist'", "Update l10n strings.", "Feature flags for .beta.", "\"Bump build to 3.20.0.1.\"", "Merge remote-tracking branch 'private/release/3.20.0'", "Feature flags for .qa.", "Restore 5.0.0 version.", "\"Bump build to 5.0.0.22.\" (Internal)", "Mandatory profile sharing", "Merge branch 'nt/profile-sharing' into release/3.20.0", "Update l10n strings.", "Add file extension to shared group link QR codes.", "Merge branch 'charlesmchen/groupLinkQRCodeFileExtension' into release/3.20.0", "\"Bump build to 3.20.0.2.\"", "Convert ModelReadCache assert into logging.", "Merge branch 'release/3.20.0'", "\"Bump build to 5.0.0.23.\" (Internal)", "Group Calling", "Call grid", "rendering", "Speaker view and overflow view", "Rudimentary pip support", "Group call members sheet", "Add logic for fetching real group credentials", "Copy", "Fix local video", "PR and design feedback", "Merge branch 'nt/group-calling'", "Switch Argon2 pod name", "Fix message request for dark theme", "Fix some of the performance tests.", "Merge branch 'charlesmchen/fixPerfTests'", "Add debug UI around prekeys and sessions.", "Merge branch 'charlesmchen/prekeyAndSessionDebugUI'", "Refine gv2 UI.", "Refine gv2 UI.", "Refine gv2 UI.", "Refine gv2 UI.", "Refine gv2 UI.", "Merge branch 'charlesmchen/groupsV2UITweaks' into release/3.20.0", "Fix lottie assets for gv2 splash.", "Rename the gv2 splash id.", "Rename the gv2 splash id.", "Merge branch 'charlesmchen/gv2SplashAssets' into release/3.20.0", "Fix missing l10n strings.", "Update l10n strings.", "\"Bump build to 3.20.0.3.\"", "Update changelog for 3.20", "Feature flags for .production.", "\"Bump build to 3.20.0.4.\"", "Merge branch 'release/3.20.0'", "\"Bump build to 5.0.0.24.\" (Internal)", "\"Bump build to 3.20.1.0.\" (Internal)", "Feature flags for .beta.", "\"Bump build to 3.21.0.0.\" (Internal)", "\"Bump build to 3.21.1.0.\" (Internal)", "Update Cocoapods.", "\"Bump build to 3.21.0.1.\" (Internal)", "Update Cocoapods.", "\"Bump build to 3.21.1.1.\" (Internal)", "Fix message request double dismiss", "Merge branch 'nt/little-fixes84' into release/3.21.0", "When the app is foregrounded, try and scroll the unread indicator to the top", "Merge branch 'nt/little-fixes85' into release/3.21.0", "Fix 1:1 call mute regression", "Merge branch 'nt/little-fixes86' into release/3.21.0", "Update l10n strings.", "\"Bump build to 3.21.0.2.\"", "Change default behavior for group invite links to not require approval.", "Merge branch 'charlesmchen/groupsV2inviteLinksDefaultNoApproval' into release/3.21.0", "Merge branch 'release/3.21.0'", "Fix merge.", "\"Bump build to 5.0.0.25.\" (Internal)", "Update to RingRTC v2.7.3", "Update Cocoapods.", "Merge branch 'ringrtc/v2.7.3' into release/3.21.0", "Improve logging around missed calls.", "Merge branch 'charlesmchen/missedFirstCalls' into release/3.21.0", "\"Bump build to 3.21.0.3.\" (Internal)", "Merge branch 'release/3.21.0'", "\"Bump build to 5.0.0.26.\" (Internal)", "Ensure app readiness during app launch.", "Ensure app readiness during app launch.", "Ensure app readiness during app launch.", "Merge branch 'charlesmchen/applyAppReadiness' into release/3.20.1", "\"Bump build to 3.20.1.1.\"", "Merge branch 'release/3.20.1' into release/3.21.0", "Re-show message requests splash on launch if profile name is missing.", "Merge branch 'charlesmchen/missingProfileName' into release/3.20.1", "\"Bump build to 3.20.1.2.\"", "Never clear the local profile name.", "Re-upload protected profiled names.", "Merge branch 'charlesmchen/dontClearLocalProfileName' into release/3.20.1", "\"Bump build to 3.20.1.3.\"", "Merge branch 'release/3.20.1' into release/3.21.0", "Reduce emoji-related queries on launch.", "Merge branch 'charlesmchen/reduceEmojiQueries' into release/3.21.0", "Rework debug log file handling.", "Merge branch 'charlesmchen/extraDebugLogs' into release/3.21.0", "\"Bump build to 3.21.0.4.\"", "Update l10n strings.", "\"Bump build to 3.21.0.5.\"", "Fix production build break.", "\"Bump build to 3.21.0.6.\"", "Feature flags for .production.", "\"Bump build to 3.21.0.7.\"", "Improve logging around missing ephemeral prekeys.", "Merge branch 'charlesmchen/missingEphemeralPrekey' into release/3.20.1", "Update Cocoapods.", "Small device transfer fixes", "Merge branch 'nt/transfer-fixes' into release/3.20.1", "Update l10n strings.", "\"Bump build to 3.20.1.4.\"", "Merge branch 'release/3.20.1' into release/3.21.0", "Restore l10n strings.", "Update l10n strings.", "Feature flags for .beta.", "\"Bump build to 3.21.0.8.\"", "Feature flags for .production.", "\"Bump build to 3.21.0.9.\"", "Merge branch 'release/3.21.0'", "\"Bump build to 5.0.0.27.\" (Internal)", "Allow pasting in a tsdevice: URL to link a device under TESTABLE_BUILD\n\nThis is useful for testing in the simulator, which doesn't have camera\naccess. You still have to get the URL out of the QR code, though.", "Merge pull request #2649 from signalapp/jrose/paste-to-link-device\n\nAllow pasting in a tsdevice: URL to link a device under TESTABLE_BUILD", "GitHub: Speed up checking out a repository when linting\n\nWe only need two commits: the merge commit and the base ref.", "Merge pull request #2650 from signalapp/jrose/faster-linting\n\nGitHub: Speed up checking out a repository when linting", "Re-add NSBonjourServices key", "Ignore deleted or archived pinned threads.", "Sync translations", "\"Bump build to 3.21.0.10.\"", "Merge branch 'release/3.21.0'", "\"Bump build to 5.0.0.28.\" (Internal)", "\"Bump build to 3.22.0.0.\" (Internal)", "\"Bump build to 5.0.0.29.\" (Internal)", "\"Bump build to 5.0.0.30.\"", "Use onboarding flow for missing profile names.", "Merge branch 'charlesmchen/missingProfileNameVsAppLaunch'", "Use onboarding flow for missing profile names.", "Process incoming v2 group messages using separate queues.", "Merge branch 'charlesmchen/perGroupProcessing' into release/3.22.0", "Remove message requests splash.", "Merge branch 'charlesmchen/removeMessageRequestsSplash'", "Merge branch 'release/3.22.0'", "Migrate groups from v1 to v2.", "Merge branch 'charlesmchen/groupsV2migration1'", "Migrate groups from v1 to v2, part 2.\n\n* Add legacy group upgrade action sheet.\n* Add 'group update info messages' around migrations.\n* Add new limits around group size.\n* Rename migration modes to \"manual\", \"auto-migration.\"\n* Add legacy groups action sheets.\n* Try to fill in missing UUIDs before migrating groups.\n* Ignore \"known unregistered\" users during group migrations.", "Merge branch 'charlesmchen/groupsV2migration2'", "Migrate groups from v1 to v2, part 3.\n\n* Pull out GroupMigrationActionSheet.\n* Add group migration action sheets.\n* Make changes to enable testing migrations.\n* Rewrite banners in Swift.\n* Refine group migration logic; add support for testability.", "Merge branch 'charlesmchen/groupsV2migration3'", "Migrate CVC \"bottom view\" logic to Swift.\n\nMigrate CVC \"bottom view\" logic to Swift.", "Fix rebase breakage.", "Migrate CVC \"bottom view\" logic to Swift.", "Refine group migrations & related UI.", "Tweak migrate-on-launch behavior.", "Improve group id mapping.", "Improve group id mapping.", "Fill in missing UUIDs for group migrations on launch.", "Clean up ahead of PR.", "Merge branch 'charlesmchen/groupsV2migration4'", "Refine group migrations.\n\n* Finalize group migration flags.\n* Refine group migration failure copy.\n* Improve copy warning about members invited and dropped by a migration.", "Merge branch 'charlesmchen/groupsV2migration5'", "Refine group migrations.", "Merge branch 'charlesmchen/groupsV2migration6'", "Update Cocoapods.", "Improve logging around messages without renderable content.", "Merge branch 'charlesmchen/emptyMessages'", "Improve logging around message sends.", "Merge branch 'charlesmchen/logMessageSends' into release/3.22.0", "Update Cocoapods.", "Small fixes.", "Merge branch 'charlesmchen/networkManagerError'", "Update l10n strings.", "Merge branch 'release/3.22.0'", "Refine group migrations.", "Only prepare group members for migration just before the migration.", "Only prepare group members for migration just before the migration.", "Only prepare group members for migration just before the migration.", "Only prepare group members for migration just before the migration.", "Only prepare group members for migration just before the migration.", "Only prepare group members for migration just before the migration.", "Merge branch 'charlesmchen/groupsV2migration7'", "Get audio flowing with group calls", "Only use 'joinedGroupMembers' when the local user hasn't joined", "Pass the VideoCaptureController to createGroupCall", "Hook into Jim's branch with video support", "Move away from reliance on joinedGroupMembers", "Assume video is on if videoMuted is false", "Correctly letter box video in grid", "Fix pip bugs, don't recycle RemoteVideoView", "Fix ReturnToCallWindow for group calls", "Call control hiding", "Update RingRTC", "Fix group call audio", "Design feedback", "Enable for QA", "Re-add simulator so we can merge group calls", "Merge branch 'nt/group-calling'", "\"Bump build to 5.0.0.31.\" (Internal)", "\"Bump build to 5.0.0.32.\" (Internal)", "\"Bump build to 5.0.0.33.\" (Internal)", "SwiftLint: attributes should be on preceding lines\n\nSwiftLint's 'attributes' check isn't quite what we want (it assumes\nattributes should be on the same line as variables, and we have them\non their own line always), but it's close enough to be useful to turn\non.", "Merge remote-tracking branch 'private/jrose/swiftlint-attributes'", "Fix broken test.", "Merge branch 'charlesmchen/fixTests32'", "Don't letter box when grid is almost square", "Fix pip on iPad", "Show join indicator, reconnecting indicator, and alert on unexpectedly ended call", "Fix video overflow row on iPad", "Fix incorrect direct call to mute", "Allow audio device switching", "Fix flashing when local device state changes", "Add notification when user joins / leaves call", "Fix group call simulator", "Allow RingRTC to send/receive opaque call messages", "PR Feedback", "PR Feedback", "Merge branch 'nt/group-calling'", "Add support for Emoji introduced in iOS 14.2", "Fix script to handle emoji with overlapping names", "Merge branch 'nt/emoji-13.0'", "Improve logging around messages without renderable content.", "Update Cocoapods.", "Fix sharing of heic images taken on iPhone 12 Pro", "Merge branch 'nt/little-fixes87' into release/3.21.1", "\"Bump build to 3.21.1.2.\"", "Feature flags for .production.", "\"Bump build to 3.21.1.3.\"", "\"Bump build to 3.21.1.4.\"", "Add multipeer delegate that may be not actually optional", "Merge remote-tracking branch 'private/release/3.21.1'", "\"Bump build to 3.22.0.0.\" (Internal)", "Tweak group migration feature flags.", "Merge branch 'charlesmchen/groupMigrationFlags' into release/3.22.0", "Update l10n strings.", "Feature flags for .beta.", "\"Bump build to 3.22.0.1.\"", "Update Cocoapods.", "\"Bump build to 3.22.0.2.\"", "Update Cocoapods.", "Update gv2 splash copy.", "Update to RingRTC v2.8.0", "Merge branch 'release/3.22.0'", "Feature flags for .qa.", "\"Bump build to 5.0.0.34.\" (Internal)", "\"Bump build to 5.0.0.35.\" (Internal)", "Fix regression in group call UI", "Don't fail device transfer if a non-essential file no longer exists", "Merge branch 'nt/device-transfer-fix' into release/3.22.0", "\"Bump build to 3.22.0.3.\"", "Merge branch 'release/3.22.0'", "\"Bump build to 5.0.0.36.\" (Internal)", "Merge remote-tracking branch 'private/release/3.21.0' into release/3.21.2", "\"Bump build to 3.21.2.0.\"", "Merge branch 'release/3.21.2'", "Update l10n strings.", "\"Bump build to 3.21.2.1.\"", "Merge branch 'release/3.21.2'", "Update l10n strings.", "Merge remote-tracking branch 'private/release/3.21.2' into release/3.22.0", "Update Cocoapods.", "Improve logging around sessions.", "Improve logging around sessions.", "Improve logging around sessions.", "Improve logging around sessions.", "Merge branch 'charlesmchen/sessionLogging' into release/3.22.0", "Update gv2 splash copy.", "Block message sends during blocking migrations phase.", "Block message sends in groups with blocking migrations.", "Block message sends in groups with blocking migrations.", "Block message sends in groups with blocking migrations.", "Merge branch 'charlesmchen/groupMigrationsPhase3Lockdown' into release/3.22.0", "Fix code generation issue around TSAttachment.contentType.", "Merge branch 'charlesmchen/attachmentsVsCodeGeneration'", "Archive sessions instead of deleting them when linked devices change", "After a session reset, archive previous sessions instead of deleting them", "Update pods", "Merge branch 'nt/fix-missing-session-issues'", "Sync translations", "Update pods", "Further attempt to fix missing file handling during device transfer", "\"Bump build to 3.22.0.4.\"", "Allow device transfer restoration to complete with missing files.", "Fix submission of logs from launch failure", "Sync translations", "\"Bump build to 3.22.0.5.\"", "Fix crash when decoding emoji availability", "Re-upload push tokens after transfer completes", "\"Bump build to 3.22.0.6.\"", "Handle emoji availability deserialization failures.", "Handle emoji availability deserialization failures.", "Handle emoji availability deserialization failures.", "Handle emoji availability deserialization failures.", "Merge branch 'charlesmchen/emojiCacheCrash' into release/3.22.0", "\"Bump build to 3.22.0.7.\"", "Revert changes to CVC scroll behavior\n\nThis reverts commit e26ccaa08af7d22f0c16fb84fc3e29c6ec6bcaf0.", "Feature flags for .production.", "\"Bump build to 3.22.0.8.\"", "Merge branch 'release/3.22.0'", "Use staging service.", "\"Bump build to 5.0.0.37.\" (Internal)", "\"Bump build to 5.0.0.38.\" (Internal)", "\"Bump build to 5.0.0.39.\" (Internal)", "Simulate group migrations phase 3.", "\"Bump build to 5.0.0.40.\" (Internal)", "Revert \"Simulate group migrations phase 3.\"\n\nThis reverts commit 4273626c526e22ec234142c8e6283c99f8c6798e.", "Revert \"Use staging service.\"\n\nThis reverts commit 662e794393c8eb1059cc8feec218fca7fba7b0c9.", "Proto builders: dramatically speed up add*() using in-place mutation\n\nThe Swift compiler ought to be smart enough to prove that\ncopy-out/mutate/copy-in is the same as mutate-in-place for structs,\nbut it currently isn't clever enough to do that.\n(See https://bugs.swift.org/browse/SR-11895.)", "Proto wrappers: use structs when ObjC compatibility isn't needed\n\nShaves off about 20% of a deep serialization benchmark (that's\nunfortunately using code that isn't checked in yet).\n\nAlso removes Equatable from oneof enums, which wasn't really doing the\nright thing anyway when there were non-primitive payloads because the\nproto classes didn't override isEqual.", "Protobuf: Regenerate wrappers for Swift-only protos\n\nAnd update clients to match (mostly let -> var, but some dropping of\n@objc and Equatable as well)", "Merge 'jrose/faster-protos' (#2691)", "\"Bump build to 5.0.0.45.\" (Internal)", "\"Bump build to 5.0.0.46.\" (Internal)", "\"Bump build to 5.0.0.47.\" (Internal)", "Configure for testing group migrations on staging.", "\"Bump build to 5.0.0.48.\" (Internal)", "Revert \"Configure for testing group migrations on staging.\"\n\nThis reverts commit 01357565c81a0a6faca156cc1879ac997cc0b635.", "Properly update UI when group call audio/video state changes", "Add redirect settings to OWSURLSession and allow modifying the request before redirect", "Always show the participants button regardless of how many people are in the call", "Update to dev build of RingRTC with lobby peeking, media key state", "Fix localization", "Add scaffolding for Group Call messages", "Tweak database fields and update RingRTC", "Update to vlad's branch with working eraId and creator", "Update pods", "Add GroupCallUpdate proto definition", "Send a group call update message when joining and leaving a group call", "Handle incoming GroupCallUpdate messages\n\nThis builds out infrastructure to fetch updated PeekInfo structs from\nRingRTC on a GroupCallUpdate. There are still a bunch of TODOs to\nresolve once RingRTC adds PeekInfo.", "Rebase with RingRTC API. Hook up stateless peek", "Add GroupCallMessage interaction finder. Build GroupCallMessage participant strings", "Notify the user when a group call begins", "Add a JoinCall button in group call info messages\n\nAlso, fixes a bug where we were taking out nested transactions", "Peek group call state in CVC -viewWillAppear:", "Minor cleanup", "Run precommit script", "Add missing localization for Join Call button", "PR Feedback from Nora", "Small design tweaks", "IOS-945: CVC join call button\n\nSwaps out the join call button when a group call is active. When a group\ncall is active, the usual button is swapped for a more prominent \"Join\nbutton\".", "Small tweaks to hook up join button", "Fix small group call message bug", "Small additional fix", "Re-work out remote video management", "Allow sending media keys to linked devices", "Update RingRTC", "\"Bump build to 5.0.0.42.\" (Internal)", "\"Bump build to 5.0.0.43.\" (Internal)", "\"Bump build to 5.0.0.44.\" (Internal)", "Update styling of Join Call buttons\n\nSlightly adjust constraints to match design spec. Adjust colors for\ndifferent control states and dark mode.\n\nOWSSystemMessageCell now allows buttons to be configured per interaction", "Letter box video always on group calls.", "Don't notify for muted threads when a call starts", "\"Bump build to 5.0.0.45.\" (Internal)", "Fix a few overzealous asserts", "Fix participants sheet backdrop", "Don't show join notifications when you initially join the call", "Define max width for in call notifications", "Increase mute indicator size on iPad", "Reduce spacing between pip and overflow video", "When turning off video, default speakerphone to on.", "Animate presentation and dismissal of group call", "Open group call lobby when tapping notification", "Stable ordering of call participants", "Enable/update group call action based on current call and thread", "Return to call action support\n\nAlso, tweaks how we notify error messages to muted threads.", "Respect server received timestamp in group call message", "Improve opening of group call on notification", "Update RingRTC and add speaker support", "Don't request video for devices that are off screen", "Update RingRTC", "Fix PIP pinning on iOS 14.2", "\"Bump build to 5.0.0.49.\" (Internal)", "Update to RingRTC 2.8.2", "Merge branch 'nt/group-calling4'", "\"Bump build to 5.0.0.50.\" (Internal)", "Update to RingRTC v2.8.3", "Skip group auto-migrations if not registered.", "Fix toast in group link view.", "Add generic error for obj-c.", "Fix group migration edge cases.", "Fix group migration edge cases.", "Prevent legacy group creation after migrations are blocking.", "Merge branch 'charlesmchen/groupMigrationBeta'", "Update l10n strings.", "\"Bump build to 5.0.0.51.\" (Internal)", "Remove spurious assert in group migration logic.", "Fix small issues.", "Merge branch 'charlesmchen/smallFixes'", "Better temporary enforcement of max device limit", "Update UI after call ends", "Add 'call is full' UI", "Merge branch 'nt/group-calling5'", "Sync translations", "Feature flags for .beta.", "Enable group calling for beta", "\"Bump build to 3.23.0.0.\"", "\"Bump build to 5.0.0.51.\" (Internal)", "\"Bump build to 5.0.0.52.\" (Internal)", "\"Bump build to 5.0.0.53.\" (Internal)", "\"Bump build to 5.0.0.54.\" (Internal)", "Don't peek unless group calling is enabled", "Feature flags for .qa.", "\"Bump build to 5.0.0.55.\" (Internal)", "Update service protos.", "Add eraId to GroupCallUpdate messages\n\nBy including eraId in GroupCallUpdate messages, we're able to identify\nseparate group calls after the fact. Each unique eraId will result in a\nnew entry in the database, even if the group call has since ended.", "Enable call bar button for current call conversation", "Logging and renames", "Adopt leftover PR feedback from #2696", "PR Feedback\n\n- Fix a bug where user notifications wouldn't be posted for incoming\n  messages with eraId.\n- Adopt OWSFormat for localized numbers", "Fix typo: motify -> notify", "Merge branch 'mlin/PR/eraId-improvements'", "Don't show group migration banners if user is not a full member.", "Merge branch 'charlesmchen/groupMigrationFixes'", "Refine group migration UI.", "Merge branch 'charlesmchen/groupMigrationUITweaks'", "Update l10n strings.", "\"Bump build to 5.0.0.56.\" (Internal)", "\"Bump build to 3.22.1.0.\" (Internal)", "Workaround an iOS 11 bug in unicode parsing", "Merge branch 'nt/ios11-fix' into release/3.22.1", "\"Bump build to 3.22.1.1.\"", "Merge branch 'release/3.22.1' into release/3.23.0", "Sync translations", "\"Bump build to 3.23.0.1.\"", "\"Bump build to 5.0.0.57.\" (Internal)", "\"Bump build to 5.0.0.58.\" (Internal)", "Merge branch 'release/3.23.0'", "Adjust feature flags for beta", "Sync translations", "Update to RingRTC 2.8.5", "Feature flags for .beta.", "\"Bump build to 5.0.0.59.\"", "Feature flags for .qa.", "\"Bump build to 5.0.0.60.\" (Internal)", "Don't crash when a receipt is received with an unknown type", "Feature flags for .beta.", "\"Bump build to 5.0.0.61.\"", "Feature flags for .qa.", "\"Bump build to 5.0.0.62.\" (Internal)", "\"Bump build to 5.0.0.63.\" (Internal)", "\"Bump build to 5.0.0.64.\" (Internal)", "Add error view to GroupCallMemberView\n\nThis is used to inform the user about a blocked user or missing media\nkeys.", "Present action sheet when user requests info about error\n\nAlso, add mising GroupCallErrorView.swift file from last commit", "Add Debug UI to modify user's verification state", "Autohide error label if the grid cell is too small\n\nAlso, some tweaks to more closely match design spec.", "Minor UI tweaks to more closely match figma spec", "Tiny bit of cleanup and organization", "Update copy", "Remove grayscale effect", "Pull request feedback", "Merge branch 'mlin/PR/GroupCallGridError' into release/5.0.0", "IOS-987: Update copy for calls started by local user\n\nReported as untranslatable here:\nhttps://community.signalusers.org/t/beta-feedback-for-the-upcoming-ios-3-23-release/18507/37", "Merge branch 'mlin/PR/IOS-987' into release/5.0.0", "\"Bump build to 5.0.0.65.\" (Internal)", "\"Bump build to 5.0.0.66.\" (Internal)", "\"Bump build to 5.0.0.67.\" (Internal)", "\"Bump build to 5.0.0.68.\" (Internal)", "\"Bump build to 5.0.0.69.\" (Internal)", "\"Bump build to 5.0.0.70.\" (Internal)", "Display a toast for speaker view\n\nAdds a toast view at the bottom of a group call informing the user of\nspeaker view. Remains visible until the user shows speaker view.", "Disable interaction on speaker toast", "Pull request feedback\n\n- Toast should scroll vertically as the user swipes to speaker view\n- Use constant for KeyValueStore identifier", "Merge branch 'mlin/PR/SpeakerViewToast' into release/5.0.0", "Add new translucentDark style for ActionSheets\n\nAdopted in GroupCallViewController. This changes how\nActionSheetController is built to have a single backdrop view. In the\ntranslucentDark style, this backdrop is a UIVisualEffectView.\n\nCreates a new enum, Theme.ActionSheet, to track different color\nbehaviors for action sheet themes.", "PR feedback and bug fixes\n\nMost significantly, corner masking wasn't working correctly pre-iOS 14.\nThis is because UIStackView's backing layer doesn't support\n-cornerRadius. To work around this, we add the stack view to a wrapper\nview. The corner radius is applied to that instead with masksToBounds\nset true.", "Merge branch 'mlin/PR/GroupCallActionSheetStyle' into release/5.0.0", "Update to RingRTC 2.8.7", "Use remote config for group calling", "\"Bump build to 5.0.0.71.\" (Internal)", "\"Bump build to 5.0.0.72.\" (Internal)", "Fix edge cases in device linking UI flow.", "Merge branch 'charlesmchen/deviceLinking' into release/5.0.0", "Add darkTranslucent styling option for SafetyNumberConfirmationSheet", "Tweak height constraints in SafetyNumberConfirmationSheet\n\nCurrently, SafetyNumberConfirmationSheet interactive dismissal causes\nsubviews to get compressed. Ideally, the entire sheet should just\ntranslate off the bottom edge of the screen.\n\nThis change makes this happen by adjusting the bottom edge constraint of\nthe confirmation sheet once the sheet is below its minimized size.", "Disable interactive dismissal. Correct the hairline color.\n\nAlso, fixes a bug where table view cell configuration was happening\ninside the animation block for height changes.", "Fix an issue with pinned content offsets in SafetyNumberConfirmationSheet", "Run linter script", "Merge branch 'mlin/PR/SafetyNumberSheetStyle' into release/5.0.0", "Alert user of safety number changes in group call\n\n- Present SafetyNumberConfirmationSheet for all group members before\n  joining call from lobby.\n- Present SafetyNumberConfirmationSheet for newly joined participants\n  with a safety number mismatch\n- If the call is minimized or backgrounded, present a notification.", "PR Feedback. Code cleanup.\n\nThe only real significant behavior change here is now you can dismiss\nthe safety number sheet is you haven't joined the call yet. You'll still\nbe prevented from joining until verifying safety numbers.\n\nWhile in a call, you're still forced to act on the safety number sheet.", "Merge branch 'mlin/PR/GroupCallSafetyNumberAlerts' into release/5.0.0", "Show activity indicator if we don't have media keys\n\nIt's expected that we won't have media keys for a short duration after\nconnecting. Show a spinner for a few seconds before we present the error\nstate UI.\n\nCurrently this looks at the connectionDate. Really, it should be looking\nat the time we first learn of a participant. That's coming next.", "Use remote device connection date for showing spinner\n\nWe shouldn't care when the local device connected. We should show the\nspinner whenever we recently learn of a new remote device. Even if we've\nbeen connected to the call for a while.", "Lint lint lint", "Remove our own remote device connection date tracking\n\nRingRTC does this for us with `addedTime`", "Merge branch 'mlin/PR/GroupCallSpinner' into release/5.0.0", "Fix a bug when users are added/removed from group during a call", "Sync translations", "Update changelog for 5.0", "Feature flags for .production.", "\"Bump build to 5.0.0.74.\"", "Feature flags for .beta.", "\"Bump build to 5.0.0.75.\"", "\"Bump build to 5.0.0.76.\" (Internal)", "Enable gv2 migration for production", "Feature flags for .production.", "Sync translations", "\"Bump build to 5.0.0.77.\"", "\"Bump build to 5.0.0.78.\" (Internal)", "Update to RingRTC 2.8.8", "Fix pip when no one else is in the call", "Preserve scroll state when returning from pip", "\"Bump build to 5.0.1.0.\"", "Update changelog for 5.0.1", "Update changelog for 5.0.1", "\"Bump build to 5.1.0.0.\" (Internal)", "Rewrite conversation view.", "Text Measurement.", "Merge branch 'charlesmchen/cvc68'", "Disable re-use of message components.", "Feature flags for .qa.", "\"Bump build to 5.1.0.1.\" (Internal)", "Fix broken NS_SWIFT_NAME.", "\"Bump build to 5.1.0.2.\" (Internal)", "Clean up codebase.", "Clean up codebase.", "Clean up codebase.", "Clean up codebase.", "Merge branch 'charlesmchen/cvc69'", "Fix measurement in release builds", "\"Bump build to 5.1.0.3.\" (Internal)", "IOS-838: ConversationInputTextView cursor adjustments don't behave properly\n\nAt the moment, when trying to drag the input/selection cursor(s) in\nthe ConverationInputTextView, as soon as you reach the top or bottom\nedge of a draft with >4 lines, you'll immediately scroll to the very top\nor the very bottom.\n\nThis is because we're currently overriding the default implementation of\nsetContentOffset:animated: to always perform the adjustment without\nanimation. We do this because we don't want the animated content offset\nadjustment to interfere with the growing the bounds of the text view.\nThis can cause the text to overshoot the updated bounds pre-iOS 13.\n\nBut we only grow the text view in response to the text changing. So\ninstead of disabling all content offset animations, we can get away with\njust disabling content offset animations while the text is changing.\n\nSo this commit:\n- Sets a flag between -textViewShouldChange... and -textViewDidChange:\n- On iOS 13 and later, we'll always respect the animate argument of\n  setContentOffset:animated:\n- Pre-iOS 13, we'll ignore the animate parameter if the flag is set", "PR Feedback. Adopt similar behavior in AttachmentTextView", "Merge branch 'mlin/PR/IOS-838' into release/5.0.1", "Sync translations", "\"Bump build to 5.0.1.1.\"", "Merge branch 'release/5.0.1' into release/5.1.0", "Merge branch 'release/5.1.0'", "Fix measurement in release builds", "Merge branch 'release/5.1.0'", "\"Bump build to 5.1.0.4.\" (Internal)", "Remove support for CVC measurement on main thread.", "Improve perf of text measurement cache keys.", "Merge branch 'charlesmchen/cvc70'", "Use labels to render body text where possible.", "Fix broken tests.", "Tweak body text tap handling.", "Merge branch 'charlesmchen/cvc71'", "Fix build break.", "Merge CVItemViewModel and CVItemViewModelImpl.", "Remove CVItemViewModelBridge protocol.", "Revert \"Remove CVItemViewModelBridge protocol.\"\n\nThis reverts commit 81a012a02e1a210bfc0fbf165335aa047c622e96.", "Rename CVItemViewModel, CVItemViewModelImpl.", "Fix the body media dismiss animations.", "Merge branch 'charlesmchen/cvc72'", "Fix body text label configs.", "\"Bump build to 5.1.0.5.\" (Internal)", "Add support for lightweight generics in ObjC functional utilities\n\nNSArray supports lightweight generics in ObjC. Our extension on NSArray\nfor map/filter/reduce does not. This change tweaks the interface to\nbetter support generics.\n\nAlso, fixes some tests that weren't compiling.", "Merge branch 'mlin/PR/ObjCGenericsSupport_FunctionalUtil'", "Change group calling to a remote kill switch", "Add megaphone for group calls", "Show a tooltip for starting a group call", "Add missing files..", "Sync translations", "\"Bump build to 5.0.2.0.\"", "Merge branch 'release/5.0.2'", "\"Bump build to 5.1.0.6.\" (Internal)", "\"Bump build to 5.1.0.7.\" (Internal)", "Restore ellipses to truncated text.", "Improve scroll continuity vs. auto-scroll.", "Fix footer colors for remotely deleted messages.", "Ensure layout validity before access.", "Serialize access to avatar cache.", "Merge branch 'charlesmchen/cvc73'", "Fix \"mark as read\" for early read receipts.", "Update Cocoapods.", "Merge branch 'charlesmchen/cvc74'", "Fix edge cases are collection view layout preparation.", "Merge branch 'charlesmchen/cvc75'", "Update l10n strings.", "Feature flags for .beta.", "\"Bump build to 5.1.0.8.\"", "Feature flags for .qa.", "\"Bump build to 5.1.0.9.\" (Internal)", "Fix overzealous assertion during device transfer", "Feature flags for .beta.", "\"Bump build to 5.1.0.10.\" (Internal)", "\"Bump build to 5.1.0.11.\"", "Feature flags for .qa.", "\"Bump build to 5.1.0.12.\" (Internal)", "Fix pods", "Fix more overzealous error handling in device transfer", "fix keyboard dismissal", "Merge branch 'nt/cvc6' into release/5.1.0", "Enable usernames and phone number privacy for internal builds", "Feature flags for .beta.", "\"Bump build to 5.1.0.13.\"", "Feature flags for .qa.", "\"Bump build to 5.1.0.14.\" (Internal)", "Strip internal symbols from Pods frameworks\n\nSee https://github.com/CocoaPods/CocoaPods/issues/10277", "Merge branch 'jrose/strip-pod-symbols'", "\"Bump build to 5.1.0.15.\" (Internal)", "Fix peek and pop with CVC perf improvements\n\n- Permit a nil navigation controller if we're in a preview platter\n- Instead of directly pushing onto the navigation controller's stack,\n  ask the split view controller to present the thread when we pop.\n- Instead of hiding the input toolbar when shown in a preview platter,\n  set the bottomViewType to .none. Content insets are determined by the\n  bottom bar size. Even if the input toolbar is hidden, we were still\n  using its height in our content inset. This fixes that.", "Merge branch 'mlin/PR/CVCPerf_PeekAndPop' into release/5.1.0", "Allow copying a tsdevice URL to the pasteboard under TESTABLE_BUILD\n\nThe \"secondary device\" side of ea85d7aebd.", "Respond to CRs.", "Merge branch 'charlesmchen/cleanup62' into release/5.1.0", "Modify layout to handle performBatchUpdates().", "Modify layout to handle performBatchUpdates().", "Modify layout to handle performBatchUpdates().", "Modify layout to handle performBatchUpdates().", "Modify layout to handle performBatchUpdates().", "Respond to CRs.", "Modify layout to handle performBatchUpdates().", "Modify layout to handle performBatchUpdates().", "Modify layout to handle performBatchUpdates().", "Modify layout to handle performBatchUpdates().", "Modify layout to handle performBatchUpdates().", "Respond to CR.", "Merge branch 'charlesmchen/cvc76' into release/5.1.0", "Fix measurement of audio attachments.", "Merge branch 'charlesmchen/cvc77' into release/5.1.0", "Try multiple quality levels when exporting video.", "Merge branch 'charlesmchen/cvc78' into release/5.1.0", "Fix forwarding media from gallery view.", "Merge branch 'charlesmchen/cvc79' into release/5.1.0", "Fix thread safety issue in recipient picker.", "Fix thread safety issue in recipient picker.", "Merge branch 'charlesmchen/cvc80' into release/5.1.0", "Ensure audio waveform view adapts to large widths.", "Ensure audio waveform view adapts to large widths.", "Respond to CR.", "Merge branch 'charlesmchen/cvc81' into release/5.1.0", "DRY up handling of network failures.", "Improve landing of loads.", "Improve landing of loads.", "Respond to CR.", "Merge branch 'charlesmchen/cvc82' into release/5.1.0", "Fix stalled loads.", "Merge branch 'charlesmchen/cvc83' into release/5.1.0", "Update input accessory view placeholder height immediately.", "Observe changes to input height in input accessory view placeholder.", "Fix auto-scroll issue around first message in thread.", "Fix auto-scroll issue around first message in thread.", "Fix auto-scroll issue around first message in thread.", "Fix auto-scroll issue around first message in thread.", "Revert \"Fix auto-scroll issue around first message in thread.\"\n\nThis reverts commit 5a3ca232489ccf454ba566d35bdf67f59f6ace86.", "Fix auto-scroll issue around first message in thread.", "Merge branch 'charlesmchen/cvc84' into release/5.1.0", "\"Bump build to 5.1.0.16.\" (Internal)", "Undo special cased safety number sheet styling\n\nAlso reduce some verbose logs", "PR Feedback: Error log -> fail debug", "Merge branch 'mlin/PR/MinorCallingFixes' into release/5.1.0", "Merge branch jrose/copy-linking-url'", "Update Argon2", "Eliminate usage of unsaved SignalRecipients", "Update l10n strings.", "Exit early from updateContentInsetsAnimated().", "Respond to CR.", "Merge branch 'charlesmchen/cvc85' into release/5.1.0", "Bug fixes.", "Respond to CR.", "Merge branch 'charlesmchen/cvc86' into release/5.1.0", "All loads to land near edge of load window.", "All loads to land near edge of load window.", "Respond to CR.", "Merge branch 'charlesmchen/cvc87' into release/5.1.0", "Feature flags for .beta.", "\"Bump build to 5.1.0.17.\"", "Feature flags for .qa.", "\"Bump build to 5.1.0.18.\" (Internal)", "Merge remote-tracking branch 'private/release/5.1.0'", "\"Bump build to 5.1.0.19.\" (Internal)", "\"Bump build to 5.1.0.20.\" (Internal)", "Fix RTL body text alignment", "Fix text measurement", "Cleanup fix for optimized builds", "Merge branch 'nt/little-fixes90' into release/5.1.0", "Keep signed prekeys for 30 days", "IOS-999: Issues sending/receiving still webp images on iOS\n\nMetadata stripping relies on CoreGraphics, but CoreGraphics doesn't\nsupport WebP. When attempting to send a static WebP, we fail to send\nbecause we fail to strip metadata.\n\nWe should account for this by checking the destination formats\nCoreGraphics supports. If it doesn't support the type we're trying to\nstrip, we'll fall back to just converting it to png/jpeg.", "Merge branch 'mlin/PR/IOS-999'", "Adopt UIContextMenu style preview interactions\n\niOS 13 added support for peek/pop style interactions on non-force touch\ndevices. ViewControllerPreviewing has been deprecated and replaced with\nUIContextMenu.\n\nThis change adopts the new API on iOS 13+ devices. iOS 12 force touch\ndevices will continue to support the old style behavior. This also\nenables support for haptic touch/long press interactions on devices that\ndo not support force touch.", "Disable preview for currently selected thread", "Post-rebase cleanup", "Fix blank cells on preview dismissal\n\nFixes an issue where data source updates triggered by a previewed\nConversationViewController's dismissal caused the previewed row in\nConversationListViewController to appear blank during the dismissal\nanimation.", "Merge branch 'mlin/PR/PeekAndPopForHapticTouch' into release/5.1.0", "Simplify logging.", "Simplify logging.", "Merge remote-tracking branch 'origin/charlesmchen/logging' into release/5.0.3", "Updates pods", "Small fixes.", "Small fixes.", "Small fixes.", "Merge branch 'charlesmchen/logging2' into release/5.0.3", "\"Bump build to 5.0.3.0.\"", "Update changelog for 5.0.3", "Small fixes.", "Small fixes.", "Merge branch 'charlesmchen/cvc88' into release/5.1.0", "Merge remote-tracking branch 'private/release/5.0.3' into release/5.1.0", "Fix \"last admin leaves group.\"", "Merge branch 'charlesmchen/leaveGroupFixes' into release/5.1.0", "Fix border for view once messages.", "Merge branch 'charlesmchen/viewOnceBorder' into release/5.1.0", "Feature flags for .beta.", "\"Bump build to 5.1.0.21.\"", "Feature flags for .qa.", "\"Bump build to 5.1.0.22.\" (Internal)", "Update l10n strings.", "Merge branch 'release/5.1.0'", "Fix longpress on system message", "Fix text measurement bug", "Merge branch 'nt/little-fixes91' into release/5.1.0", "Enable linked phones for internal builds", "Update CVC contentInset after keyboard presentation/dismissal.", "Update CVC contentInset after keyboard presentation/dismissal.", "Merge branch 'charlesmchen/keyboardHeightVsContentInsets' into release/5.1.0", "Refine query filtering.", "Merge branch 'charlesmchen/filterEdgeCase' into release/5.1.0", "\"Bump build to 5.1.0.23.\" (Internal)", "Feature flags for .beta.", "\"Bump build to 5.1.0.24.\"", "Feature flags for .qa.", "\"Bump build to 5.1.0.25.\" (Internal)", "Update l10n strings.", "Enable manual group migrations for internal users.", "Merge remote-tracking branch 'private/release/5.1.0'", "Merge branch 'charlesmchen/groupMigrationsInternalManualMigrations' into release/5.1.0", "Make sure \"re-add dropped members\" action sheet auto-dismisses on success.", "Merge branch 'charlesmchen/autoDismissReaddMembersActionSheet' into release/5.1.0", "Refine CVC updates.", "Refine CVC updates.", "Refine CVC updates.", "Respond to CR.", "Merge branch 'charlesmchen/cvcRefineUpdates' into release/5.1.0", "Merge branch 'release/5.1.0'", "\"Bump build to 5.1.0.26.\" (Internal)", "Feature flags for .beta.", "\"Bump build to 5.1.0.27.\"", "Feature flags for .qa.", "\"Bump build to 5.1.0.28.\" (Internal)", "Fix \"delete all messages\".", "Ensure valid layout when single media has footer overlay.", "Fix 'scroll to bottom' during keyboard animations.", "Respond to CR.", "Actionless UI", "Hook up collision resolution actions", "Add localizations", "Fix bug around closing conversations", "Fix up navigation items, minor bug fixes and cleanup", "Run linter", "PR Feedback\n\n- More robust handling of large button labels in the collision view\n  controller\n- Fixes for VoiceOver labels and navigation\n- Fixes for layout issues when rotating\n- Update copy for collision banner\n- Remove banner shadow for all banners", "Run precommit. Happy new year!", "Merge branch 'mlin/PR/MessageRequestCollisionDetection'", "Automatic session reset", "Wait to reset again until initial message queue has been drained", "Merge branch 'nt/automatic-session-reset'", "Merge branch 'charlesmchen/minorFixes2021.01.05' into release/5.1.0", "\"Bump build to 5.1.0.29.\" (Internal)", "Fix glitch in sticker suggestions toolbar presentation/dismissal animation.", "Fix video play button; auto-play videos opened in media gallery.", "Improve handling of missing profiles in group migrations.", "Fix spurious assert around comparing group models with dropped members.", "Surface group updates exception group migrations in the inbox snippet.", "Add logging around remote attestation verification.", "Clean up.", "Fix handling of max content widths in the message cell layout.", "Avoid spurious asserts during long-running scroll gestures.", "Improve handling of missing profiles in group migrations.", "Add logging around remote attestation verification.", "Respond to CR.", "Merge branch 'charlesmchen/minorFixes2021.01.05.1' into release/5.1.0", "Unify and localize support request emails", "Update l10n strings.", "Feature flags for .beta.", "\"Bump build to 5.1.0.30.\"", "Feature flags for .production.", "\"Bump build to 5.1.0.31.\"", "Feature flags for .qa.", "\"Bump build to 5.1.0.32.\" (Internal)", "Merge branch 'release/5.1.0'", "Fix rebase breakage.", "\"Bump build to 5.2.0.0.\"", "\"Bump build to 5.1.1.0.\"", "\"Bump build to 5.1.1.1.\" (Internal)", "Merge branch 'release/5.1.1'", "Add strings for 'Get started' banner", "Sync translations", "Remove camera preview from Attach menu", "Merge branch 'jrose/remove-attach-menu-camera-preview' into release/5.2.0", "Use Quick Look for interacting with generic attachments", "Merge branch 'jrose/quick-look-generic-attachments' into release/5.2.0", "Update l10n strings.", "Update l10n strings.", "Fix glitch in reactions component.", "Respond to CR.", "Merge branch 'charlesmchen/reactionsGlitch' into release/5.2.0", "Elaborate logging around image validation.", "Refine log levels.", "Merge branch 'charlesmchen/logImageValidation' into release/5.2.0", "\"Bump build to 5.2.0.1.\" (Internal)", "Update l10n copy.", "Update l10n copy.", "Update l10n strings.", "Group link promotion.", "Group link promotion.", "Group link promotion.", "Group link promotion.", "Group link promotion.", "Group link promotion.", "Group link promotion.", "Group link promotion.", "Merge branch 'charlesmchen/groupLinkPromotion' into release/5.2.0", "Tweak max group name length.", "Merge branch 'charlesmchen/maxGroupNameLength' into release/5.2.0", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Add auto-download settings for media.", "Update Cocoapods.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/autoDownloadSetting' into release/5.2.0", "Update l10n strings.", "Update l10n strings.", "IOS-1014: Fail to send video attachment after scrubbing and trimming\n\nFixes an issue where scrubbing and trimming a video attachment will\ncause the send to fail.\n\nThis was caused by an issue with how we prerender trimmed video during a\nscrub gesture. This fixes this by only performing the render when\nnecessary.\n\nAdditionally, this changes up some of the lifecycle around rendering\ntrimmed videos. Replaces the NSOperation with a promise chain to avoid\nunnecessary queue hopping.", "Cleanup and bug fixing\n\n- Better comments\n- Fix issues around how cancelled promises propogate\n- Opportunistic bug fixing with alert presentation", "Remove minimum activity timer", "Rebase and lint", "Merge branch 'mlin/PR/IOS-1014_VideoTrimFailure' into release/5.2.0", "Update the link preview user agent\n\nThere have been reports of some websites not vending link preview\ncontent because of an invalid user agent. Including a version seems to\nfix this.", "Merge branch 'mlin/PR/UpdateLinkPreviewUserAgent' into release/5.2.0", "Fix first responder issue with share extension in landscape", "Allow sharing to multiple threads", "PR Feedback", "Merge branch 'nt/share-extension-cleanup' into release/5.2.0", "Add onboarding banner to ConversationListViewController", "Dark mode support. Better handling of landscape.", "More bug fixing\n\nDon't show banner in archive view\nOnly count visible threads when determining if we should hide the banner", "Lint", "Merge branch 'mlin/PR/GettingStartedBanner' into release/5.2.0", "Refine the attachment download indicators.", "Refine the attachment download indicators.", "Refine the attachment download indicators.", "Update Cocoapods.", "Merge branch 'charlesmchen/autoDownloadSetting2' into release/5.2.0", "Revert \"Merge branch 'mlin/PR/GettingStartedBanner' into release/5.2.0\"\n\nAccidentally merged a stale local copy of this branch. Reverting...\n\nThis reverts commit 5a8c3a7bec3400b04dd74033c7f96126d0d4b985, reversing\nchanges made to e8f1b4a3683c6ff263bef09ac7a63a4140f43b64.", "Refine auto-download defaults.", "Merge branch 'charlesmchen/autoDownloadSetting3' into release/5.2.0", "Revert \"Revert \"Merge branch 'mlin/PR/GettingStartedBanner' into release/5.2.0\"\"\n\nThis reverts commit d810122228a9e38de72e92268bc803b58cb2745c.", "Only enable banner for new users", "Merge branch 'mlin/PR/GettingStartedBannerV2' into release/5.2.0", "First part of new empty inbox view", "Merge branch 'mlin/PR/NewInboxViewPt1' into release/5.2.0", "Add a preference for contact/profile avatars", "Actually post the notification", "Precommit script", "PR Feedback", "Merge branch 'mlin/PR/ProfileAvatarPreference' into release/5.2.0", "Create threads for all new contacts", "Remotely control full intersection interval", "Merge branch 'nt/cds-tweaks' into release/5.2.0", "Change PhotoLibrary video attachments to match share sheet behavior\n\nPreviously: all videos exported using AVFoundation's \"medium\" quality,\nfalling back to \"low\" quality if that was still too big\n\nNow: videos that are already <100MB mp4s are sent as is, others go\nthrough SignalAttachment.compressVideoAsMp4. This is the same as the\nshare sheet behavior.\n\nWe don't actually /like/ this behavior, but now it's all controlled in\none place. The next commit will start changing it.", "Scale video attachments to 640px instead of AVFoundation's \"medium\"\n\nThe preset name is \"640x480\", but in practice it's \"max longest\ndimension of 640\", as tested on a widescreen vertical video. This is\nstill better quality than \"medium\", which seems to be \"longest\ndimension of 480\".", "Always re-encode video attachments\n\nThis is more consistent, results in smaller videos, and makes sure\nwe're stripping metadata.", "Make sure the photo picker always gets the latest version of an image", "Merge branch 'jrose/better-video-attachments' into release/5.2.0", "Replace decryption errors with single 'session refresh' message", "Fix build break.", "Sync translations", "\"Bump build to 5.2.0.2.\" (Internal)", "Re-add missing localizations", "Sync translations", "Feature flags for .beta.", "\"Bump build to 5.2.0.3.\"", "Use refresh icon for session refresh", "Ignore mutual groups where the local user is not a member or the remote user is not a full member.", "Group link promo design feedback", "Sync translations", "Fix tests", "Don't show mutual groups for deleted threads", "Fix some banner misbehavior on iOS 12\n\nFixes a collection view batched update crash on iOS 12\nAdds a bottom layout margin to the banner for home button devices\nBanner now listens for external changes to active card set\nClear banner on successful PIN restoration", "Merge branch 'mlin/PR/iOS12_Banner_Fixes' into release/5.2.0", "Add FUNDING.yml to display sponsor button in GitHub\n\nDisplays the Sponsor button on top of the GitHub interface. This file is similar to the FUNDING.yml file on the Signal-Desktop repository.", "Sync translations", "Feature flags for .production.", "\"Bump build to 5.2.0.4.\"", "Feature flags for .beta.", "\"Bump build to 5.2.0.5.\"", "Feature flags for .qa.", "\"Bump build to 5.2.0.6.\" (Internal)", "Update changelog for 5.2", "\"Bump build to 5.2.1.0.\" (Internal)", "\"Bump build to 5.3.0.0.\" (Internal)", "Make sure to strip image metadata losslessly when possible\n\nUses the nigh-undocumented CGImageDestinationCopyImageSource instead\nof CGImageDestinationAddImageFromSource to avoid having ImageIO\nre-encode the image contents.* If that fails, falls back to the\nstandard resize-as-JPEG logic in all cases rather than just reporting\na failure to strip metadata.\n\n* https://developer.apple.com/library/archive/qa/qa1895/_index.html", "Merge branch 'jrose/better-metadata-stripping' into release/5.3.0", "Fix message cell layout glitch.", "Merge branch 'charlesmchen/messageLayoutEdgeCase' into release/5.3.0", "Fix JPEG compression to 0.6 after some investigation", "Resize images-as-documents and pasted images as well\n\nHaving multiple entry points for this is confusing. If we ever add\nback a \"send full quality\" option, we'll support it everywhere.", "Compress all images as JPEG except those that are \"sticker-like\"\n\nThis makes for a more uniform experience and optimizes for bandwidth\nwhen attaching a JPEG that's under our threshold but still pretty big.\nPreviously we'd send that along after stripping metadata, but now\nwe'll recompress it regardless.\n\nSticker-like images are opted out because they usually contain content\nthat's better represented in a compressed lossless format due to the\nuse of solid colors...and also we don't want to lose transparency if\nwe don't need to.\n\nNote that isBorderless is sometimes equivalent to the \"sticker-like\"\ncheck, but we don't want to rely on that here. isBorderless is a\npresentation option.", "Encode images to PNG instead of JPEG if they have an alpha channel", "Merge branch 'jrose/compress-all-image-attachments' into release/5.3.0", "Make the \"File\" attachment directly open the file picker\n\n...never the photo picker. This removes the notion of \"attach a photo\nas a file\", which the previous commits have made equivalent to\nattaching a photo any other way.", "Remove unused localizable strings from previous changes", "Merge branch 'jrose/file-picker' into release/5.3.0", "Clean up code in ImagePickerController after a0c3beaa06", "Improve logging around dropped incoming messages.", "Merge branch 'charlesmchen/logNonRenderableMessages' into release/5.3.0", "SSK: Flush DispatchQueue.main after every test\n\nThere are a lot of events that get dispatched onto the main queue\n(often /from/ the main queue), and processing them during the setup\nfor the subsequent test can cause problems. In particular, the\nnotification for setting up a local number in -[OWSMessageManagerTest\ntest_GroupUpdate] was occasionally being processed in the subsequent\n-test_GroupUpdateWithAvatar, depending on how long GRDB took to set up\nin the second test.", "Merge branch 'jrose/flush-main-dispatch-queue' into release/5.3.0", "SSK: Treat two more errors as \"network failure\"\n\nThis avoids a spurious owsFailDebug.", "Merge branch 'jrose/message-request-network-failures' into release/5.3.0", "Convert profile view to Swift.", "Convert profile view to Swift.", "Update profile updates to support bio + bioEmoji.", "Update profile fetches to support bio + bioEmoji.", "Add profile bio view.", "Add profile bio view.", "Display profile bio.", "Add profile bio fields to database schema.", "Display profile bio.", "Display profile bio.", "Display profile bio.", "Display profile bio.", "Revert bad asset.", "Fix bad asset.", "Respond to CR.", "Respond to CR.", "Fix typo from spec.", "Merge branch 'charlesmchen/profileBios' into release/5.3.0", "Design tweaks.", "Respond to CR.", "Merge branch 'charlesmchen/designTweaks2021.01.14.1' into release/5.3.0", "Respond to CR.", "Increase sticker size limits to match Android.", "Remove iCloud entitlements", "Delete ISSUE_TEMPLATE.md\n\nMoving it to new location", "Add bug report template", "Add config.yml with links to Signal docs and community\n\nFeel free to modify in any way you see fit!", "Tweak some URLs and fix a typo in the issue template.", "Fix sorting of non-contacts with last names.", "Merge branch 'nt/little-fixes92' into release/5.3.0", "Add low bandwidth mode setting for calls\n\n- New setting in data settings to enable low bandwidth mode for different\nnetwork interfaces\n- Call service now informs RingRTC of preferred bandwidth mode on call\nconnect and reachability changes", "Update copy", "Precommit script", "Update Pods submodule commit", "Merge branch 'mlin/PR/LowBandwidthMode' into release/5.3.0", "\"Bump build to 5.3.0.1.\" (Internal)", "Fixes a couple issues reported by Randall:\n\n- Add content inset for the banner\n- Allow interactions in the gradient portion of the banner", "Merge branch 'mlin/PR/BannerContentOffsetFix' into release/5.3.0", "Fix over-zealous assert.", "Merge branch 'charlesmchen/minorFix' into release/5.3.0", "Fix hot region around bio emoji button.", "Merge branch 'charlesmchen/fixes2021.01.15' into release/5.3.0", "Add kill switch for automatic session reset", "Fix message cell layout glitch.", "Handle pending and failed view once messages.", "SSK: Flush DispatchQueue.main after every test\n\nThere are a lot of events that get dispatched onto the main queue\n(often /from/ the main queue), and processing them during the setup\nfor the subsequent test can cause problems. In particular, the\nnotification for setting up a local number in -[OWSMessageManagerTest\ntest_GroupUpdate] was occasionally being processed in the subsequent\n-test_GroupUpdateWithAvatar, depending on how long GRDB took to set up\nin the second test.", "Increase sticker size limits to match Android.", "Remove iCloud entitlements", "Delete ISSUE_TEMPLATE.md\n\nMoving it to new location", "Add bug report template", "Add config.yml with links to Signal docs and community\n\nFeel free to modify in any way you see fit!", "Tweak some URLs and fix a typo in the issue template.", "Fix sorting of non-contacts with last names.", "Update pods", "Show appearance settings on iOS 11 + 12", "Fix quoted reply of animated stickers.", "Feature flags for .production.", "\"Bump build to 5.2.1.1.\"", "Feature flags for .beta.", "\"Bump build to 5.2.1.2.\"", "Merge branch 'release/5.2.1' into release/5.3.0", "Show the Share sheet if a file attachment doesn't support Quick Look\n\nThis restores the old behavior if Quick Look isn't going to be\nhelpful.", "Feature flags for .qa.", "\"Bump build to 5.3.0.2.\" (Internal)", "Update pods", "Feature flags for .production.", "\"Bump build to 5.2.1.3.\"", "Feature flags for .beta.", "\"Bump build to 5.2.1.4.\"", "Merge branch 'release/5.2.1' into release/5.3.0", "\"Bump build to 5.3.0.3.\" (Internal)", "Don't try to play a video if we're not looking at a video\n\nAvoids an owsFailDebug.", "Merge branch 'jrose/no-video' into release/5.3.0", "SSK: Don't notify / mark unread for people leaving the group", "SSK: (re-)unify the decision of whether to notify for an interaction", "Merge branch 'jrose/no-notification-for-leaving-a-group' into release/5.3.0", "Consistently propagate attachment properties when cloning attachments\n\nPreviously we had two different ways attachments got cloned: through\nthe cloneAttachment() method, which made a temporary file with the\noriginal attachment contents, and ad hoc after recompression or\nsimilar. Neither preserved all the properties of the original\nattachment; now, both go through a common helper function.", "Merge branch 'jrose/SignalAttachment-replacingDataSource' into release/5.3.0", "Stop disabling CA animations during All Media loading\n\nThis was affecting the initial presentation slide-in of the All Media\nview. UIView.performWithoutAnimation(_:) is sufficient for not\nanimating the items being inserted.", "Localize All Media section headers\n\nThey already used Foundation's DateFormatter but now they'll localize\nthe entire string instead of just the components. In practice this\nmeans showing \"2021 January\" instead of \"January 2021\" when\nappropriate.", "Merge branch 'jrose/minor-all-media-improvements' into release/5.3.0", "Fix build warnings in the debugger.", "Merge branch 'charlesmchen/buildWarnings' into release/5.3.0", "Hide profile name length and about/bio behind feature flag.", "Hide profile name length and about/bio behind feature flag.", "Merge branch 'charlesmchen/profileChangesFeatureFlag' into release/5.3.0", "Clean up.", "Limit message send flows to max 5 recipients.", "Merge branch 'charlesmchen/stickerTweaks3' into release/5.3.0", "Remove feature flag for profile changes.", "Add animated sticker pack.", "Merge branch 'charlesmchen/animatedStickerPack' into release/5.3.0", "Sticker refinements.", "Merge branch 'charlesmchen/stickerTweaks' into release/5.3.0", "Rework sticker sharing flow.", "Rework sticker sharing flow.", "Rework sticker sharing flow.", "Rework sticker sharing flow.", "Merge branch 'charlesmchen/stickerTweaks2' into release/5.3.0", "Update design of conversation list view cells.", "Update design of conversation list view cells.", "Update design of conversation list view cells.", "Update design of conversation list view cells.", "Update design of conversation list view cells.", "Respond to CR.", "Merge branch 'charlesmchen/conversationListRefinements' into release/5.3.0", "Fix race in model read cache.", "Merge branch 'charlesmchen/modelReadCacheRace' into release/5.3.0", "Improve attachment progress indicators.", "Improve attachment progress indicators.", "Improve attachment progress indicators.", "Improve attachment progress indicators.", "Improve attachment progress indicators.", "Improve attachment progress indicators.", "Improve attachment progress indicators.", "Improve attachment progress indicators.", "Improve attachment progress indicators.", "Port attachment downloads logic to Swift.", "Port attachment downloads logic to Swift.", "Port attachment downloads logic to Swift.", "Port attachment downloads logic to Swift.", "Allow cancellation of attachment downloads.", "Allow cancellation of attachment downloads.", "Allow cancellation of attachment downloads.", "Update attachment progress UI appearance. Overhaul OWSURLSession completion handling.", "Overhaul attachment downloads pipeline.", "Overhaul attachment downloads pipeline.", "Overhaul attachment downloads pipeline.", "Overhaul attachment downloads pipeline.", "Overhaul attachment downloads pipeline.", "Overhaul attachment downloads pipeline.", "Update Lottie assets.", "Update Cocoapods.", "Merge branch 'charlesmchen/attachmentProgress' into release/5.3.0", "Don't allow keyboard to occlude content in profile views.", "Merge branch 'charlesmchen/profileViewsVsKeyboard' into release/5.3.0", "Skip media downloads during calls.", "Skip media downloads during calls.", "Skip media downloads during calls.", "Merge branch 'charlesmchen/autoDownloadVsCalls' into release/5.3.0", "Reuse media views.", "Reuse media views.", "Reuse media views.", "Reuse media views.", "Reuse media views.", "Use separate caches for still and animated media views.", "Use separate caches for still and animated media.", "Reuse media views.", "Reuse media views.", "Reuse media views.", "Merge branch 'charlesmchen/reuseMessageMediaViews2' into release/5.3.0", "Refine file size formatting.", "Respond to CR.", "Merge branch 'charlesmchen/fixFileSizeFormatting' into release/5.3.0", "Show tapped avatar in conversation settings full screen", "Add close button", "Lint", "PR Feedback\n\nAlso fixes a bug where only group admins could view an avatar.", "Reduce profile avatar size cap\n\nThe server was rejecting 4 MB data blobs. Reduced down to something the\nserver handles. This is such an extreme size for a png that we'll\nlikely never hit it.", "Merge branch 'mlin/PR/FullScreenAvatar' into release/5.3.0", "Reduce unnecessary table loads in ManageStickersViewController", "Precommit", "PR Feedback", "Fix tests", "Merge branch 'mlin/PR/StickerManagementPerfOptimizations' into release/5.3.0", "Add Wallpaper enum", "System message wallpaper styling.", "Add wallpaper styling for date header", "Style unread header", "Style thread details for wallpaper", "Add wallpaper support for deleted messages", "Add wallpaper support for borderless messages", "Fix gutter measurement", "Fix outgoing borderless footer text color", "Only show sender / footer bubbles if has wallpaper", "wallpaper settings", "Ensure gradient wallpapers aspect fill their container", "Remove vibrancy, incorporate design feedback", "Fix wallpaper reload", "Wallpaper settings flows", "Cleanup gradient aspect fill", "Fix some iPad bugs in set wallpaper view", "Include wallpapers in transfer", "Add wallpaper preview view", "PR Feedback", "Fix multi-select styling to better support wallpapers", "Cleanup thread details, reduce wallpaper file size", "Update pods", "Merge branch 'nt/wallpapers' into release/5.3.0", "Fix merge issue", "Fix wallpaper threading issue", "Add builder for error messages.", "Refine handling of unverified safety number changes.", "Refine handling of unverified safety number changes.", "Refine handling of unverified safety number changes.", "Refine handling of unverified safety number changes.", "Small fixes.", "Respond to CR.", "Fix GRDB schema migration.", "Update Cocoapods.", "Merge branch 'charlesmchen/unverifiedSafetyNumberChanges' into release/5.3.0", "Never show profile bio for local user.", "Use dynamic type in contact cell subtitles.", "Merge branch 'charlesmchen/designTweaks2021.01.21' into release/5.3.0", "Fix system message multi-select", "Dim in dark mode by default", "Add some confirmations when clearing/resetting wallpapers.", "Sync translations", "Refine sending of null message after session reset.", "Refine sending of null message after session reset.", "Refine sending of null message after session reset.", "Merge branch 'charlesmchen/sessionResetNullRefinement' into release/5.3.0", "Feature flags for .beta.", "\"Bump build to 5.3.0.4.\"", "Feature flags for .qa.", "\"Bump build to 5.3.0.5.\" (Internal)", "Speed up presentation of conversation picker, eliminate 'loading' state", "Contain ConversationPicker footer to the bounds of its view controller", "Add support for sharing suggestions", "Add privacy setting to disable sharing suggestions", "Fix a crash when sharing", "Show sharing suggestions megaphone on linked devices", "Handle presenting from siri suggestion", "Merge branch 'nt/more-sharing-stuff' into release/5.3.0", "Feature flags for .beta.", "\"Bump build to 5.3.0.6.\"", "Feature flags for .qa.", "\"Bump build to 5.3.0.7.\" (Internal)", "Sync translations", "Only show sticker tooltip if sticker pack installed on linked device.", "Fix over-zealous assert around de-deduplicating group membership.", "Avoid duplicate download indicators in media galleries.", "Improve upload progress.", "Fix alignment issues in conversation list cells.", "Fix alignment issues in the conversation list cells.", "Update design of the conversation list cells.", "Update design of the conversation list cells.", "Update design of the conversation list cells.", "Update design of the conversation list cells.", "Update design of the conversation list cells.", "Update design of the conversation list cells.", "Update design of the conversation list cells.", "Update design of the conversation list cells.", "Merge branch 'charlesmchen/minorFixes2021.01.22' into release/5.3.0", "Feature flags for .beta.", "\"Bump build to 5.3.0.8.\"", "Feature flags for .qa.", "\"Bump build to 5.3.0.9.\" (Internal)", "Update design of the conversation list cells.", "Fix name label compression", "Merge branch 'charlesmchen/minorFixes2021.01.22.2' into release/5.3.0", "Fix selection state", "Feature flags for .beta.", "\"Bump build to 5.3.0.10.\"", "Feature flags for .qa.", "\"Bump build to 5.3.0.11.\" (Internal)", "Tiny bits of avatar feedback\n\n- Add edit button for contact threads\n- Scale up avatars to full screen\n- New contacts will inherit profile avatar", "Merge branch 'mlin/PR/TinyAvatarTweaks' into release/5.3.0", "Remove sticker tooltip", "Merge branch 'mlin/PR/RemoveStickerTooltip' into release/5.3.0", "Fix collection view content inset adjustments\n\nThe wallpaper can't be subview index 0 in ConversationViewController.\nUIViewController will only automatically adjust content insets for\nscroll view's at index 0.\n\nInstead, let's make it index 1 and set the layer's z-index behind the\ncollection view.", "Merge branch 'mlin/PR/ConversationViewController_WallpaperContentInsetFix' into release/5.3.0", "Add blur setting to wallpaper preview", "Add protection behind swipe-to-reply", "Add protection behind the send failure badge", "make messages bubbles black/white when wallpaper is enabled", "Tweak unread indicator divider color", "Tweak blur protection styling", "Merge branch 'nt/wallpapers-4' into release/5.3.0", "Disable system contact fetches in SAE.", "Avoid OOM crashes in SAE.", "Avoid OOM crashes in SAE.", "Merge branch 'charlesmchen/shareExtensionOOM' into release/5.3.0", "Fix issues around message details view.", "Merge branch 'charlesmchen/fixMessageDetails' into release/5.3.0", "Update design of the conversation list cells.", "Fix scroll state issue when presenting CVC with no unread messages.", "Merge branch 'charlesmchen/minorFixes2021.01.22.3' into release/5.3.0", "Fix issue where banner sporadically appears after pin restoration\n\nWe shouldn't be reading from the UI database snapshot\n\nAdditionally, adds extra parameter to notify conversation list view\ncontroller to dismiss without animation", "Merge branch 'mlin/PR/FixBannerAppearanceOnPinRestoration' into release/5.3.0", "Profile bio refinements.", "Respond to CR.", "Merge branch 'charlesmchen/profileBioRefinements' into release/5.3.0", "Update l10n strings.", "Tweak conversation list colors and alignment", "Feature flags for .beta.", "\"Bump build to 5.3.0.12.\"", "Feature flags for .qa.", "\"Bump build to 5.3.0.13.\" (Internal)", "Reuse cover views when rebuilding sticker management table\n\nCreating fresh cover views resets the animation playback and causes\nweird flicker. If we just cache the views that we're already using then\nwe can avoid the flicker.\n\nEventually we should move this table towards reusable cells, but until\nthen, reusable image views will have to do.", "PR Feedback\n\nAdopt NSCache in the ManageStickersViewController coverView cache", "Merge branch 'mlin/PR/CacheCoverViews' into release/5.3.0", "Fixes a leak in OWSURLSession\n\nNSURLSession maintains a strong reference to its delegate and requires\nexplicit invalidation to clean up its state, otherwise it leaks memory.\n\nThis change introduces an proxy delegate for the underlying\nNSURLSession. OWSURLSession retains the NSURLSession, NSURLSession\nretains the proxy delegate.\n\nThe proxy delegate will retain the OWSURLSession and create a retain\ncycle only while there are outstanding URLSessionTasks. Once all tasks\nhave been resolved, the cycle is broken and everything will be dealloced\n(assuming no external references to the OWSURLSession still exist).", "Rename strong reference property to satisfy swift lint\n\nCalling it \"strongDelegate\" tricks swift lint into correcting the\nproperty to be weak. Renamed it \"strongReference\" to work around this.", "Merge branch 'mlin/PR/FixOWSURLSessionLeak' into release/5.3.0", "Normalize images before getting pixel size", "Consolidate blurring logic", "Show  status indicators when marked unread", "Timestamps should always be primary text color", "Don't use pure black for message bubbles", "PR Feedback", "Fix group short display name to support nicknames", "Merge branch 'nt/little-fixes94' into release/5.3.0", "Fix progress indicators for stickers.", "Sync translations", "Improve sticker loading behavior", "Improve sticker horizontal list view reuse", "Fix issue where sticker suggestions linger after sending attachment", "Only use primary color for timestamp when unread", "Merge branch 'nt/sticker-cleanup' into release/5.3.0", "Feature flags for .beta.", "\"Bump build to 5.3.0.14.\"", "Feature flags for .qa.", "\"Bump build to 5.3.0.15.\" (Internal)", "Fix build warnings.", "Fix build warnings; fix crash around url session errors.", "Update project to keep symbols in Debug config\n\nAlso makes changes to our Podfile to suppress warnings in projects not\nactively being worked on while in the Debug configuration\n\nFixes the Profile configuration so it works on the simulator", "Warn for ZKGroup, take a different approach for debug symbols\n\nJordan highlighted that we might be able to get away with just setting\nCOPY_PHASE_STRIP off for the resulting product. It appears to work\ngreat!", "Merge branch 'mlin/PR/KeepSymbolsInDefaultConfig'", "Merge remote-tracking branch 'origin/charlesmchen/cleanup2021.01.23' into release/5.3.0", "Sync translations", "Reduce blurred wallpaper pixelization", "Fix stickers sent from linked devices", "Feature flags for .production.", "\"Bump build to 5.3.0.16.\"", "Feature flags for .beta.", "\"Bump build to 5.3.0.17.\"", "Feature flags for .qa.", "\"Bump build to 5.3.0.18.\" (Internal)", "Update changelog for 5.3", "Merge branch 'release/5.3.0'", "Fix broken test.", "Fix broken test.", "Fix crash in OWSURLSession.", "Render enter profile bio.", "Never display outgoing attachment progress for attachments from linked device.", "Fix cell layout edge cases around long sender names.", "Use nickname in group short names, part 1.", "Use nickname in group short names, part 2.", "Use nickname in group short names, part 2.", "Merge branch 'charlesmchen/nicknameVsGroupMemberShortName' into release/5.3.1", "improve wallpaper preview flow", "Handle keyboard done in bio view controller", "Sync translations", "Feature flags for .production.", "\"Bump build to 5.3.1.0.\"", "Feature flags for .qa.", "\"Bump build to 5.3.1.1.\" (Internal)", "Merge branch 'release/5.3.1'", "Ignore message transcripts for null messages\n\nThis can happen when your primary device has used a null message to\nreset a session and your secondary device gets it via sync.", "Merge branch 'jrose/null-messages-are-not-errors' into master", "\"Bump build to 5.4.0.0.\" (Internal)", "Create a new GRDB storage adapter after grdb schema migrations.", "Create a new GRDB storage adapter after grdb schema migrations.", "Create a new GRDB storage adapter after grdb schema migrations.", "Create a new GRDB storage adapter after grdb schema migrations.", "Update Cocoapods.", "Update Cocoapods.", "Respond to CR.", "Merge branch 'charlesmchen/databaseSchemaMigrationsVsReload'", "Fix \"empty snippet\" issue in conversation list view.", "Fix \"empty snippet\" issue in conversation list view.", "Merge branch 'charlesmchen/emptySnippet'", "Fix \"empty snippet\" issue in conversation list view.", "Fix \"empty snippet\" issue in conversation list view.", "Protect oversize text messages from auto-download settings.", "Merge branch 'charlesmchen/oversizeTextVsAutoDownload' into release/5.3.2", "Fix crash selecting recent photo.", "Merge branch 'charlesmchen/invalidPhotoSelection' into release/5.3.2", "Fix rare crash around downloading quoted thumbnails.", "Merge branch 'charlesmchen/quotedThumbnailCrash' into release/5.3.2", "Fix system message cell measurement", "Merge branch 'nt/little-fixes96' into release/5.3.2", "Attempt to fix wallpaper crash", "Merge branch 'nt/little-fixes95' into release/5.3.2", "Update l10n strings.", "Feature flags for .beta.", "\"Bump build to 5.3.2.0.\"", "Feature flags for .production.", "\"Bump build to 5.3.2.1.\"", "Feature flags for .qa.", "\"Bump build to 5.3.2.2.\" (Internal)", "Merge branch 'release/5.3.2'", "Integrate RingRTC opaque-only api changes", "Integrate RingRTC bandwidth mode api changes", "Update to RingRTC v2.9.0", "Update Cocoapods.", "Honor bandwidth settings in individual calls.", "Merge branch 'ringrtc/v2.9.0'", "Update changelog for 5.3.2", "\"Bump build to 5.4.0.1.\" (Internal)", "\"Bump build to 5.4.0.2.\" (Internal)", "Fix issue around sharing a sticker pack URL to just the currently open conversation.", "Merge branch 'charlesmchen/shareStickerUrlToSameConversation'", "Adjust attachment progress style and layout.", "Adjust attachment progress style and layout.", "Merge branch 'charlesmchen/attachmentProgressSizes'", "Improve \"group update info message\" copy when joining group via group link.", "Merge branch 'charlesmchen/joinGroupViaInviteLinkCopy'", "Merge branch 'release/5.3.2'", "Add SignalClient to the Podfile", "Add SignalClient to SignalServiceKit's podspec", "SSK: Add a test for sticker decryption", "SSK: Switch from HKDFKit to SignalClient.hkdf(...) in Swift sources", "SSK: Move RemoteAttestation HKDF use to Swift/SignalClient", "SSK: Convert OWSProvisioningCipher to Swift for SignalClient HKDF", "SSK: Use a named constant for provisioning cipher info data", "Update Pods for SignalClient adoption", "Update Pods for SignalMetadataKit using SignalClient", "GitHub: install iOS target for Rust (using the correct toolchain)", "Implement AxolotlKit<->SignalClient SessionRecord migration\n\nThis is accomplished by serializing into and out of the protobuf\nformat used by SignalClient.", "Rename the SignalClient test protocol to avoid conflicts", "Use SignalClient for message encryption\n\nAnd update for SMKSecretSessionCipher's adoption of SignalClient as\nwell.", "Update for the removal of SMKEnvironment", "Update Pods", "Fix inverted check (== instead of !=)", "SSK: Update for removal of SMK{Sender,Server}Certificate", "SSK: Remove workaround from before Curve25519Kit adopted SignalClient", "SSK: Update for 'throws' removal in SignalClient", "Update for SignalClient.StoreContext", "Update Pods for SignalClient's API improvements", "Accomodate differences in UUID formatting checking cert validity", "Transition OWSMessageDecrypter to SignalClient\n\nThis is the last bit of code that uses AxolotlKit.SessionCipher!", "SSK: Clean up uses of SignalClient now that EC*Key uses SignalClient", "SSK: Fix session migration for absent pre-key IDs\n\nDoing this correctly means going \"back\" to proto2 for SessionRecords,\nbecause we need to distinguish between \"0\" and \"absent\" in the\nserialized protobuf data. (Note that we can do this independently of\nSignalClient properly making this distinction because the proto3\nimplementation we're using, prost, will omit scalar proto3 fields\nwhose values match their defaults.)", "SSK: Account for reset sessions in SignalClient/AxolotlKit migration", "SSK: Use SignalClient for session archive operations\n\nFor now, this means some extra translation between AxolotlKit and\nSignalClient types, but it helps pave the way for lazily migrating the\ndatabase to store protobuf-serialized records instead of\nNSCoding-archived ones.", "SSK: Remove -maxSessionSenderChainKeyIndexForAccountId:transaction:\n\nThis was the last part of SignalServiceKit that poked inside\nAxolotlKit's SessionRecord, and SignalClient doesn't currently expose\nthe same information. However, it was only being used as a heuristic\nfor merging phone number and UUID contacts when you already had a\nsession with each, and this just won't happen anymore except in rare\ncircumstances. (Specifically, all messages will have UUIDs, so a UUID\ncontact is always more up to date.)", "SSK: Migrate SSKSessionStore to Swift\n\nThis is a no-change migration /except/ that I've dropped entry points\nthat are unused in the app or tests.", "SSKSessionStore: Only use AxolotlKit types when talking to the db\n\nThis puts up the facade for the future we'll eventually want: the\ndatabase contains serialized protobuf data, not AxolotlKit\nSessionRecord objects. This also allows us to transparently handle\nfetches when the database can contain *either* SessionRecords or\nserialized data---we only need to check which we have.", "SSKSessionStore: fix containsSession to check for an /active/ session\n\nThis is how it's being used: not just that you've /ever/ had a session\nwith a contact/device, but that you /currently/ have a session with\nthem.", "Make OWSAccountIdFinder's methods into class methods\n\nOWSAccountIdFinder is no longer used for dependency injection in\nSignalMetadataKit, so there's no need to allocate empty NSObjects just\nto call the methods.\n\nNo functionality change.", "Rename SSKSessionStore.containsSession() to containsActiveSession()", "SSK: propagate untrusted identity errors when ensuring sessions\n\nRegression introduced in \"Use SignalClient for message encryption\"", "Cleanup in SignalMetadataKit", "Merge branch 'feature/SignalClient-adoption'", "Update Cocoapods.", "\"Bump build to 5.4.0.3.\" (Internal)", "Fix accessibility in chat history items.", "Fix accessibility in chat history items.", "Merge branch 'charlesmchen/chatHistoryAccessibility'", "Improve internal logging around manual migrations.", "Merge branch 'charlesmchen/manualMigrationLogging'", "\"Bump build to 5.4.0.4.\" (Internal)", "Fix accessibility in chat history items.", "Fix accessibility in chat history items.", "Merge branch 'charlesmchen/chatHistoryAccessibility'", "Update l10n strings.", "Feature flags for .beta.", "\"Bump build to 5.4.0.5.\"", "Feature flags for .qa.", "\"Bump build to 5.4.0.6.\" (Internal)", "Update Cocoapods.", "PinProgressView -> AnimatedProgressView\n\nRenames and edits some of the interface for PinProgressView to make it a\nbit more general. Adds additional properties like the ability to\nconfigure whether or not it should hide itself during animation.", "Move AnimatedProgressView to its own file", "PR Feedback\n\n- Ensure we hide views behind existing usage of PinProgressView\n- Add main thread assertions\n- Unset completion handler whenever calling to ensure it's only called\n  once", "Merge branch 'mlin/PR/GeneralizePinProgressView'", "\"Bump build to 5.3.3.0.\"", "Don't fail trying to send a null message to an untrusted identity\n\nIn this case we have bigger problems than just a broken session, and\nthe user needs to manually trust the identity again (even if that's\njust by sending a message themself)", "SSK: Adopt SignalClient.SessionRecord.hasCurrentState", "SSK: Begin storing sessions in serialized protobuf form", "SSK: In Swift code, always use Logger rather than OWSLogger\n\nLogger includes the file/line information; OWSLogger does not.", "Bump the database schema version", "Merge branch 'jrose/serialized-sessions-in-db'", "Update l10n strings.", "\"Bump build to 5.4.0.7.\" (Internal)", "Add voice memo duration to VoiceOver description.", "Re-incorporate ZXingObjC license into acknowledgements\n\nUpdates cocoapods-binary to preserve licenses", "Only offer to re-add dropped group members that are known to be re-addable.", "Fetch profiles for dropped profiles when opening a thread.", "Merge branch 'charlesmchen/readdDropMembers' into release/5.3.3", "Add logging around 413 errors.", "Disable OWSURLSession caches by default.", "Merge branch 'charlesmchen/attachmentUpload413' into release/5.3.3", "Respond to CR.", "Hide attachment progress indicators if message send has failed.", "Hide attachment progress indicators if message send has failed.", "Respond to CR.", "Merge branch 'charlesmchen/attachmentProgressVsSendFailures' into release/5.3.3", "Merge branch 'charlesmchen/voiceOverVoiceMemoDuration'", "Modify Debug UI to generate fake contacts with large noise avatars.", "Reduce memory usage in system contacts fetch.", "Merge branch 'charlesmchen/systemContactsFetchMemoryUsage' into release/5.3.3", "Merge branch 'jrose/acknowledgements'", "Update libPhoneNumber to v8.12.17", "Improve handling of missing group change protos.", "Merge branch 'charlesmchen/missingGroupChangeProtos'", "Rework app readiness.", "Rework app readiness.", "Rework app readiness.", "Rework app readiness.", "Update Cocoapods.", "Merge branch 'charlesmchen/reworkAppReadiness'", "Enforce max attachment upload sizes more strictly.", "Enforce max attachment upload sizes more strictly.", "Merge branch 'charlesmchen/maxAttachmentUploadSize'", "Do not linkify message bodies if there is a pending message request.", "Do not linkify message bodies if there is a pending message request.", "Hide link previews if there is a pending message request.", "Merge branch 'charlesmchen/linkifyVsPendingMessageRequest' into release/5.3.3", "Merge branch 'release/5.3.3'", "Use OWSURLSession when generating link previews.", "Respond to CR.", "Merge branch 'charlesmchen/moreOWSURLSession'", "Update l10n strings.", "Update l10n strings.", "Feature flags for .beta.", "\"Bump build to 5.4.0.8.\"", "Feature flags for .qa.", "\"Bump build to 5.4.0.9.\" (Internal)", "Enforce max group name byte length.", "Rename group change classes.", "Merge branch 'charlesmchen/maxGroupNameLength2'", "Update and prebuild SignalClient (and CocoaLumberjack, by dependency)\n\nThis requires declaring a generic \"Release\" configuration in the\nPodfile for the prebuilds to use.", "Merge branch 'jrose/prebuild-SignalClient'", "Refine handling of \"request approve\" vs. \"member added\".", "Merge branch 'charlesmchen/groupAddVsApproveCopy'", "Elaborate date/time info in VoiceOver labels.", "Respond to CR.", "Merge branch 'charlesmchen/voiceOverTime'", "Fix application of extra headers.", "Merge branch 'charlesmchen/overwriteUserAgent'", "Add additional validation group avatars we receive\n\nStrengthens validation requirements for group avatars a user sets. Also,\nchecks these requirements on avatars we receive.\n\nIntroduces a data migration to drop any large group avatars.\n\nThis fixes an issue some users were reporting of jetsaming in the share\nextension. All group avatars are stored in-memory on TSGroupModel.\nUntil we have a better strategy for memory management here, we'll want\nto keep group avatars small.", "PR Feedback", "Additional PR Feedback\n\nOur stored avatars are still PNG. Fallback to the png content type and\nfile extension if the underlying data is png.", "Merge branch 'mlin/PR/OversizeAvatarFix'", "Don't store group threads in memory when sharing", "Fix problems with clear chat history", "Attempt to resolve crash when opening the app from a notification", "Disable Apple's \"Quick Look\" feature on iOS versions that they no longer support.", "Limit profile name component length to 26 glyphs.", "Merge branch 'charlesmchen/profileNameMaxGlyphCount'", "Improve contact FTS, nicknames.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/ftsAllNamesOfUserPart1'", "Update Cocoapods.", "Update l10n strings.", "Feature flags for .production.", "\"Bump build to 5.4.0.10.\"", "Feature flags for .beta.", "\"Bump build to 5.4.0.11.\"", "Feature flags for .qa.", "\"Bump build to 5.4.0.12.\" (Internal)", "Revert \"Merge branch 'jrose/prebuild-SignalClient'\"\n\nThis reverts commit 632e28680e3d41f9e57dd02bd78ca05de4f959b1, reversing\nchanges made to a411ecbb7370e460d1ddbc0ad3e24107d0d39f62.", "Feature flags for .production.", "\"Bump build to 5.4.0.13.\"", "Update Cocoapods.", "\"Bump build to 5.4.0.14.\"", "Feature flags for .beta.", "\"Bump build to 5.4.0.15.\"", "Feature flags for .qa.", "\"Bump build to 5.4.0.16.\" (Internal)", "Fix App Store Release build.", "Feature flags for .production.", "\"Bump build to 5.4.0.17.\"", "Feature flags for .beta.", "\"Bump build to 5.4.0.18.\"", "Feature flags for .qa.", "\"Bump build to 5.4.0.19.\" (Internal)", "Update changelog for 5.4", "Re-apply \"Update and prebuild SignalClient\"\n\nAlso pulls in an update for SignalCoreKit build flags that were\ncausing a problem.", "Merge branch 'jrose/reapply-prebuild-SignalClient'", "Refine group link copy.", "Merge branch 'charlesmchen/groupLinkCopy'", "Feature flags for .qa.", "\"Bump build to 5.5.0.0.\"", "Update Cocoapods.", "Update l10n strings.", "\"Bump build to 5.5.0.1.\"", "Fix message processing perf tests", "Preserve orientation when stripping image metadata", "Merge branch 'jrose/image-orientation-metadata'", "Don't require cache evacuation to happen on the main thread to avoid deadlocks", "Update Cocoapods.", "\"Bump build to 5.5.0.2.\" (Internal)", "\"Bump build to 5.5.0.3.\" (Internal)", "Feature flags for .beta.", "\"Bump build to 5.5.0.4.\"", "Feature flags for .qa.", "\"Bump build to 5.5.0.5.\" (Internal)", "Update l10n strings.", "Fix 'online' flag for message sending", "Remove legacy 'silent' flag", "Remove OWSMessageServiceParams", "Merge branch 'nt/online-fix'", "Don't install swiftlint, it's built in now", "CI: Run on pushes to master and release branches", "Merge branch 'nt/test-fixes2'", "Add new table view controller with new style.", "Add new table view controller with new style.", "Add new table view controller with new style.", "Refine headers and footers in the new table view.", "Refine new table style.", "Respond to CR.", "Revert changes in settings views.", "Merge branch 'charlesmchen/tableView2'", "Design changes for onboarding", "PR Feedback", "A whole bunch of autolayout prioritization for iPhone 5s/SE\n\nAlso improvements to animations around keyboard offset changes", "Updated Profile management UI", "Split apart profile update and profile creation UI", "PR Feedback", "Merge branch 'mlin/PR/ProfilePageDesignChanges' into mlin/PR/RegistrationDesignChanges", "Design changes for the updated PIN page", "Merge branch 'mlin/PR/PINPageDesignChanges' into mlin/PR/RegistrationDesignChanges", "Other various changes to the onboarding flow\n\n- Fixes issue around delayed touch events\n- Improved handling of keyboard constraints\n- Fixes issue around captcha dismissal popping to the wrong view\n  controller\n- Some copy changes", "Copy changes, sizing tweaks, animation fixes", "Merge branch 'mlin/PR/MinorOnboardingFixes' into mlin/PR/RegistrationDesignChanges", "Lint", "Merge branch 'mlin/PR/RegistrationDesignChanges'", "Improve hiding of banners.", "Improve hiding of banners.", "Respond to CR.", "Merge branch 'charlesmchen/bannerHiding'", "Update l10n strings.", "\"Bump build to 5.5.0.6.\" (Internal)", "Feature flags for .beta.", "Fix production build.", "\"Bump build to 5.5.0.7.\"", "Feature flags for .qa.", "\"Bump build to 5.5.0.8.\" (Internal)", "\"Bump build to 5.5.0.9.\" (Internal)", "Set the proto address during initialization", "Don't expose a CVComponentView to the CVComponentDelegate\n\nInstead of the delegate showing the share sheet for a tapped-on\nattachment, let the CVComponentGenericAttachment do it itself. This\nkeeps the delegate from dealing with any specific component views\nwithin the conversation.", "Merge branch 'jrose/no-CVComponentView-in-CVComponentDelegate'", "Couple leftover bugs from the onboarding changes\n\n- PIN setup copy needs to be left as-is. So we'll go back to our old\n  pinned font behavior. Design is aware of this and looking into better\n  support for dynamic type.\n- Profile creation should present keyboard\n- Re-add animated presentation of profile settings page", "Only present profile creation keyboard on large devices", "Ignore QuickType bar frame changes", "PR Feedback", "Merge branch 'mlin/PR/OnboardingBugs'", "Process messages in the same transaction they were decrypted in", "PR Feedback", "Merge branch 'nt/processing-perf'", "Improve robustness of sticker handling.", "Improve robustness of sticker handling.", "Merge branch 'charlesmchen/stickerRobustness'", "\"Bump build to 5.5.0.10.\" (Internal)", "Update l10n strings.", "Feature flags for .production.", "\"Bump build to 5.5.0.11.\"", "Feature flags for .beta.", "\"Bump build to 5.5.0.12.\"", "Feature flags for .qa.", "\"Bump build to 5.5.0.13.\" (Internal)", "\"Bump build to 5.5.0.14.\" (Internal)", "\"Bump build to 5.5.0.15.\" (Internal)", "\"Bump build to 5.5.0.16.\" (Internal)", "\"Bump build to 5.5.0.17.\" (Internal)", "Fix sending of delivery receipts", "Merge branch 'nt/little-fixes99'", "Update l10n strings.", "Feature flags for .production.", "\"Bump build to 5.5.0.18.\"", "Add logging around auto-whitelisting of group conversations.", "Merge branch 'charlesmchen/autoWhitelistGroups'", "Feature flags for .qa.", "\"Bump build to 5.6.0.0.\"", "\"Bump build to 5.6.0.1.\" (Internal)", "Eliminate usage of decrypt job queue", "Remove signaling key support", "Batch message decryption and processing", "Add appropriate restrictions to when message processing can run.", "Get rid of obsolte SSKMessageDecryptJobQueue", "Begone OWSMessageReceiver", "Begone OWSBatchMessageProcessor", "lint fix", "Fix tests", "Simplify MessageProcessing promises", "Merge branch 'nt/more-processing-improvements'", "Allow group migrations to work if a member never had a versioned profile.", "Merge branch 'charlesmchen/groupMigrationVsNoVersionedProfile'", "\"Bump build to 5.6.0.2.\" (Internal)", "\"Bump build to 5.6.0.3.\" (Internal)", "\"Bump build to 5.6.0.4.\" (Internal)", "\"Bump build to 5.6.0.5.\" (Internal)", "\"Bump build to 5.6.0.6.\" (Internal)", "Remove the last use of HKDFKit outside of AxolotlKit\n\n...in favor of SignalClient.", "Update SignalClient, and stop using cocoapods-binary to build it\n\nIncludes updates for SignalMetadataKit and SignalServiceKit for the\nchange requiring SenderCertificates to always have UUIDs.", "Merge branch 'jrose/update-SignalClient'", "Update l10n strings.", "Fix handling of SMK decryption errors", "Use CallKit for video calls on iOS 14+", "Filter as e164.", "Respond to CR.", "Respond to CR.", "Merge branch 'charlesmchen/filterAsE164'", "Batch processing of synced contacts.", "Batch processing of synced contacts.", "Respond to CR.", "Merge branch 'charlesmchen/batchSyncedContacts'", "\"Bump build to 5.6.0.7.\" (Internal)", "Update l10n strings.", "Feature flags for .beta.", "\"Bump build to 5.6.0.8.\"", "Feature flags for .qa.", "\"Bump build to 5.6.0.9.\" (Internal)", "Update SignalClient to fix Rust build", "Merge branch 'jrose/update-SignalClient'", "\"Bump build to 5.6.0.10.\"", "\"Bump build to 5.6.0.11.\" (Internal)", "Don't insert decryption errors for blocked conversation", "Fix excessive threadless errors", "Use server timestamp to validate UD messages", "Merge branch 'nt/little-fixes102'", "Feature flags for .beta.", "\"Bump build to 5.6.0.12.\"", "Feature flags for .qa.", "\"Bump build to 5.6.0.13.\" (Internal)", "Update l10n strings.", "Feature flags for .production.", "\"Bump build to 5.6.0.14.\"", "Update changelog for 5.6", "\"Bump build to 5.7.0.0.\"", "\"Bump build to 5.7.0.1.\" (Internal)", "Feature flags for .qa.", "\"Bump build to 5.7.0.2.\" (Internal)", "\"Bump build to 5.7.0.3.\" (Internal)", "\"Bump build to 5.7.0.4.\" (Internal)", "Add helpful warning log if remote is untrusted", "Update to RingRTC v2.9.4", "Update Cocoapods.", "Merge branch 'ringrtc/v2.9.4'", "Remember to free OpenSSL-allocated memory", "Merge branch 'jrose/openssl-memory'", "Update KBS constants to match the latest staging deployment.", "Respond to CR.", "Restore two-enclave configuration.", "Merge branch 'jon/restore_kbs_staging'", "Add logging around profile key rotation.", "Add logging around profile key rotation.", "Add logging around profile key rotation.", "Respond to CR.", "Merge branch 'charlesmchen/logProfileKeyRotation'", "Most of the work for profile spoofing in group membership\n\nThis separates the logic for finding spoofed profiles from the view\ncontroller responsible for reporting collisions to the user", "Better write handling", "Improve sorting of collisions", "PR Feedback\n\nThe most significant change here is we defer initial loading of\ncollision interactions. We shouldn't block the main thread during\nconversation presentation.\n\nInstead, we'll perform it at UserInitiatedQoS. Once complete, we'll call\n-ensureBannerState. Subsequent banner state updates will use the cached\ninteractions to find name collisions.", "Additional PR Feedback\n\n- Remove some test-only code\n- Since we're prewarming our collision finder off the main thread, the\n  ready flag should be made thread-safe.", "Lint", "Merge branch 'mlin/PR/GroupMembershipNameCollisions'", "\"Bump build to 5.7.0.5.\" (Internal)", "Feature flags for .beta.", "\"Bump build to 5.7.0.6.\"", "Feature flags for .qa.", "Update l10n strings.", "Feature flags for .beta.", "\"Bump build to 5.7.0.7.\"", "Feature flags for .qa.", "\"Bump build to 5.7.0.8.\" (Internal)", "Initial App settings restyling", "Allow the navigation bar color to exactly match its underlying color", "Change over a bunch of tables and design feedback", "Enable theme settings for pre iOS 13", "Add logging and about to help settings", "Update profile settings view styles", "Add account settings", "Update wallpaper stylings", "Fix empty bio navbar", "Add chats settings", "Notification settings restyle", "Present profile subviews in modal", "Re-style privacy settings, group creation, compose, and other miscellany", "Add internal settings view", "Resolve merge conflicts", "Merge branch 'nt/table-revamp'", "Update l10n strings.", "\"Bump build to 5.7.0.9.\" (Internal)", "MediaGalleryFinder: factor out common SQL query builder", "Database: Remove @escaping from all synchronous transaction callbacks", "SSK: Make OrderedDictionary a struct and improve it a bit\n\n- Now a struct, meaning no need for a clone() method\n- Now a RandomAccessCollection indexed by Int\n- Removed the subscript setter that EarlyMessageManager was using to\n  make the reordering behavior more explicit\n- Generalized insert(key:value:isAppend:) to insert(key:at:value:)\n- Added removeSubrange(_:)", "Rewrite the All Media collection view controller\n\n- Measure an entire section all at once, so items don't jump around\n- Load individual items lazily by section instead of by plain index\n- Search for more sections by enumerating timestamps\n\nDoes not handle deletes yet. Also I haven't removed all the old APIs.", "MediaGallery: use OrderedDictionary as the backing store\n\n...rather than a flat list of loaded MediaGalleryItems. This is\nsimilar to the ad hoc approach in MediaTileViewController in the\nprevious commit, but is consistent across MediaPageViewController as\nwell.\n\nStill not handled yet: deletions, also avoiding redundant database\naccess", "MediaGallery: Filter recently-deleted items from database queries\n\nAnd rewrite and simplify the rest of deletion logic appropriately.\n(Thanks to Nora for the strategy.)\n\nThere is one tough case here: database updates have happened\n/externally/ (say, from a disappearing message expiring), in which\ncase the database will be updated but the MediaGallery model will not.\nIn this case we've broken the invariant that we have the correct count\nfor each month-section, and need to put a hold on database access\nuntil the model has been updated. The only effect of this is in the\npage-based media VC, where we'll exit out of the browser rather than\nadvancing to the next item if the item we were looking at was deleted\n/and/ the next item hasn't been loaded yet. (This can happen if you're\nat the start of a message with many items and the whole message gets\ndeleted.)", "MediaGallery: handle new messages coming in by reloading\n\nThe tile view will only reload the sections that changed. The page\nview will reload its current item. This is necessary to keep the\nMediaGallery model in sync with the database, but as a side benefit it\nalso means the All Media view gets live updates as new messages come\nin.", "MediaGallery: avoid full searches in favor of per-section searches\n\nAlso, share more infrastructure with the tile view.", "MediaGallery: add back the \"substantial requests only\" check\n\nThis avoids repeated database accesses for ranges that are mostly\nloaded already.\n\nAlso, don't rebuild items that are already loaded, since overlapping\nranges are still expected in this design.", "MediaGallery: use named constants for all batch sizes", "MediaGallery: delete old Finder API, including its Yap implementation", "MediaGallery: final cleanups\n\n- AssertIsOnMainThread\n- prefer 'guard' for early exits\n- lock down access control\n- doc comment for the class itself", "MediaGallery: fix multi-threading bug caught by previous commit!", "Merge branch 'jrose/MediaGallery'", "Refine new table style.", "Merge branch 'charlesmchen/table2tweaks'", "Fix screen security switch", "Design feedback", "Further design feedback", "Small copy tweak", "Update plus icon", "Hide navbar background when scrolled to top", "Show specific biometry type screen lock will use", "Merge branch 'nt/table-revamp'", "MediaGallery: fix bug in estimating database fetch size", "MediaGallery: make our headers non-Gregorian-calendar-friendly\n\nSome calendars have year numbers change in the middle of months; some\ncalendars occasionally reset the year number. Switch to a\nDateInterval-based representation in GalleryDate to avoid these\npitfalls.", "Merge branch 'jrose/media-gallery-follow-up'", "Update l10n strings.", "Feature flags for .beta.", "\"Bump build to 5.7.0.10.\"", "Feature flags for .qa.", "\"Bump build to 5.7.0.11.\" (Internal)", "Feature flags for .beta.", "\"Bump build to 5.7.0.12.\"", "Feature flags for .qa.", "\"Bump build to 5.7.0.13.\" (Internal)", "Revert \"Hide navbar background when scrolled to top\"\n\nThis reverts commit 734a26ad7164202fc0c9e272144151b8d1c9efaf.", "Feature flags for .beta.", "\"Bump build to 5.7.0.14.\"", "Feature flags for .qa.", "\"Bump build to 5.7.0.15.\" (Internal)", "Hide navbar background when scrolled to top", "Fix disappearing navbar", "\"Bump build to 5.7.0.16.\" (Internal)", "MediaGallery: load later sections if all earlier sections are loaded\n\nThe collection view loads earlier sections if you're scrolled near the\ntop and later sections if you're scrolled near the bottom. However, if\nthere's only a page of loaded content, you can be near the top /and/\nthe bottom. Therefore, we need to potentially load later sections even\nif you're at the top, because you might be at the beginning.", "Merge branch 'jrose/media-gallery-top-and-bottom'", "Fix bug where navbar turns dark during interactive modal dismissal", "Add assert on new iOS version", "A few small color and font tweaks", "Animate navbar style changes", "Merge branch 'nt/little-fixes103'", "little settings fixes", "Sync translations", "Feature flags for .beta.", "\"Bump build to 5.7.0.17.\"", "Feature flags for .qa.", "\"Bump build to 5.7.0.18.\" (Internal)", "MediaGallery: when loading the initial sections, we start at one end\n\n...unless you clicked on an individual message to get into the\ngallery. In the All Media case, we don't need to fetch later sections\nbecause we started at the end.", "MediaGallery: handle empty All media view correctly", "MediaGallery: pin to the bottom when content insets change\n\nIf you're scrolled to the end, you probably want to stay scrolled to\nthe end rather than keep the same top position. This applies both when\nthe footer bar shows up (in multi-select mode) and when the scroll\nview is initially loaded, fixing a bug where the bottom row is cut\noff. Unfortunately, the latter fix does not seem to work on older\niOSs, but it doesn't make things worse either.", "Merge branch 'jrose/media-gallery-initial-scroll'", "Update l10n strings.", "Feature flags for .production.", "\"Bump build to 5.7.0.19.\"", "Feature flags for .beta.", "\"Bump build to 5.7.0.20.\"", "Feature flags for .qa.", "\"Bump build to 5.7.0.21.\" (Internal)", "\"Bump build to 5.8.0.0.\" (Internal)", "Update changelog for 5.8", "\"Bump build to 5.8.0.1.\" (Internal)", "\"Bump build to 5.8.0.2.\" (Internal)", "Improve group change logging.", "Merge branch 'charlesmchen/internalGroupChangeSetLogging'", "Tweak table colors in dark mode", "Make sure settings views reload when changed by outside events", "Add new delete account flow", "more little tweaks", "Merge branch 'nt/little-fixes104'", "Add new delete account flow", "PR Feedback", "Merge branch 'nt/delete-account'", "Clear SignalAttachment caches when we get a memory warning", "Allow settings cells to span multiple lines, restyle disappearing messages cell", "Merge branch 'nt/little-fixes105'", "Feature flags for .beta.", "\"Bump build to 5.8.0.3.\"", "Feature flags for .qa.", "\"Bump build to 5.8.0.4.\" (Internal)", "Update l10n strings.", "Update l10n strings.", "Update l10n strings.", "Feature flags for .beta.", "\"Bump build to 5.8.0.5.\"", "Feature flags for .qa.", "\"Bump build to 5.8.0.6.\" (Internal)", "\"Bump build to 5.8.0.7.\" (Internal)", "\"Bump build to 5.8.0.8.\" (Internal)", "Fix large sticker downloads.", "Merge branch 'charlesmchen/largeStickerDownloads'", "Ensure we're never using a profile key that is newer than our latest profile on the service", "Fix local profile key changed notification", "PR Feedback", "Merge branch 'nt/profile-key-rotation'", "Avoid profile key conflicts.", "Improve storage service sync handling of profile changes", "PR Feedback", "Merge branch 'charlesmchen/profileKeyConflicts'", "\"Bump build to 5.8.0.9.\" (Internal)", "\"Bump build to 5.8.0.10.\" (Internal)", "Update l10n strings.", "\"Bump build to 5.8.0.11.\" (Internal)", "Feature flags for .beta.", "\"Bump build to 5.8.0.12.\"", "Feature flags for .qa.", "\"Bump build to 5.8.0.13.\" (Internal)", "\"Bump build to 5.8.0.14.\" (Internal)", "Feature flags for .beta.", "\"Bump build to 5.8.0.15.\"", "Feature flags for .qa.", "\"Bump build to 5.8.0.16.\" (Internal)", "Use CGImageSource for downsampling attachments", "\"Bump build to 5.8.0.17.\" (Internal)", "\"Bump build to 5.8.0.18.\" (Internal)", "Animate message send and receive.", "Animate multi-select UI appearance/disappearance", "Animate quoted replies", "Block loads while animating selection change", "Tweak selection animations to be slide in / out", "Merge branch 'nt/animations'", "\"Bump build to 5.8.0.19.\" (Internal)", "Update l10n strings.", "Feature flags for .beta.", "\"Bump build to 5.8.0.20.\"", "Feature flags for .qa.", "\"Bump build to 5.8.0.21.\" (Internal)", "Fixes some name collision bugs\n\n- Fixes up content alignment issues from parallel changes to table view\n  styling.\n- Re-adds view controller presentation within a nav controller (stemming\n  from parallel changes to table view styling)\n- Fixes a bug around overzealous collision detection\n\nAlso fixes an unrelated issue. Setting up cv banners performs layout, which\ncan cause the conversation view controller's trait collection to change.\nThis can lead to us reenterantly setting up banners and updating trait\ncollection.\n\nThe workaround is to just call -ensureBannerState asynchronously from\n-traitCollectionDidChange to break the synchronous chain.", "PR Feedback\n\nSince we've moved action buttons into the same cell, there's no need for\nthis extra autolayout constraint on the avatar", "Merge branch 'mlin/PR/NameCollisionBugFixes'", "Update precommit.py for swiftlint 0.43.1", "Fix status bar issue", "Actually thumbnail attachments on the attachment preview view", "Merge branch 'nt/little-fixes107'", "Revert \"Merge branch 'nt/animations'\"\n\nThis reverts commit 1ec4ae3b050bef001f64f281672d16f52ca4a3f9, reversing\nchanges made to 1ed1371c71f072a128f39e737d22d2f4536597ad.", "Fix issue around profile key updates for groups with stale group state.", "Respond to CR.", "Merge branch 'charlesmchen/profileKeyUpdatesVsStaleGroupState'", "Update l10n strings.", "Feature flags for .production.", "\"Bump build to 5.8.0.22.\"", "Feature flags for .beta.", "\"Bump build to 5.8.0.23.\"", "Feature flags for .qa.", "\"Bump build to 5.8.0.24.\" (Internal)", "Update changelog for 5.8", "\"Bump build to 5.9.0.0.\" (Internal)", "\"Bump build to 5.9.0.1.\" (Internal)", "\"Bump build to 5.9.0.2.\" (Internal)", "Fix \"required revision\" checks.", "Improve logging around malformed group attribute blobs.", "Merge branch 'charlesmchen/profileKeyUpdateRaceChecks'", "\"Bump build to 5.9.0.3.\" (Internal)", "\"Bump build to 5.9.0.4.\" (Internal)", "Avoid profile key rotation loop.", "Avoid profile key rotation loop.", "Merge branch 'charlesmchen/profileKeyRotationLoop'", "\"Bump build to 5.9.0.5.\" (Internal)", "SSK: Migrate TestProtocolRunner to SignalClient\n\nPreviously this manually initialized two sessions through an\nAxolotlKit-provided helper. Rather than expose a similar helper for\nSignalClient, TestProtocolRunner now sends an empty message in both\ndirections to initialize the sessions.", "Update SignalMetadataKit to remove AxolotlKit dependency", "Move AxolotlKit model classes into SSK and remove the dependency\n\nWe still need the AxolotlKit model classes to migrate old sessions,\nbut we don't need any of the actual protocol support. This also\nmeans we can drop HKDFKit.\n\nAdditionally, we do still use some utilities from AxolotlKit:\n\n- AxolotlExceptions.h: NSException names, should eventually be\n  replaced by NSErrors everywhere\n\n- NSData+keyVersionByte.h: prepend/remove public key type byte,\n  should eventually be replaced by strong types (ECPublicKey)\n\n- SPKProtocolContext.h: defines the SPKProtocol{Read,Write}Context\n  marker protocols, should be replaced by direct use of\n  SDSAny{Read,Write}Transaction", "SSK: Remove SPKProtocolContext\n\nBrought over for convenience in the previous commit, but no longer\nneeded now that everything's in one framework.", "Pre-compute some of SessionMigrationPerfTest's AxolotlKit input data\n\nIn migrating off AxolotlKit we no longer have the capability to set up\nAxolotlKit sessions from scratch. To replicate that, load a keyed\narchive created from AxolotlKit data.", "Build (but don't run) the perf tests along with the regular tests", "Strip out unneeded parts of the AxolotlKit model classes\n\n- Remove Chain protocol\n- Delete most SessionState mutators\n- Expose SessionState.receivingChains directly\n- Remove ChainAndIndex class", "Prefix AxolotlKit session model classes with \"Legacy\"\n\nPreKeyRecord, PreKeyBundle, and SignedPreKeyBundle are still used\noutside of serialized sessions, so it doesn't make sense to mark them\n\"Legacy\" just yet. Additionally, the keyed archiver overrides have to\nbe set up before any instances are unarchived, which is trickier for\nthese remaining model types.", "Remove 'SignalClient.' prefixes where no longer needed", "Merge branch 'jrose/remove-AxolotlKit'", "\"Bump build to 5.9.0.6.\" (Internal)", "\"Bump build to 5.9.0.7.\" (Internal)", "\"Bump build to 5.9.0.8.\" (Internal)", "\"Bump build to 5.9.0.9.\" (Internal)", "\"Bump build to 5.9.0.10.\" (Internal)", "New build system.", "Merge branch 'charlesmchen/newBuildSystem'", "Rework dependency access.", "Rework dependency access.", "Rework dependency access.", "Make dependency accessors final where possible.", "Update Cocapods.", "Merge branch 'charlesmchen/dependencies2'", "Clean up app readiness.", "Clean up app readiness.", "Merge branch 'charlesmchen/cleanupReadiness'", "Clean up app readiness.\n\nRemove backup.", "Update Cocoapods.", "Merge branch 'charlesmchen/removeBackup'", "Remove YapDatabase.\n\nApply asset from design.\n\nFix rebase breakage.", "Update Cocoapods.", "Merge branch 'charlesmchen/removeYapDatabase2'", "Respond to CR.", "Fix broken tests.", "Respond to CR.", "Respond to CR.", "Update Cocoapods; fix linking issue.", "Fill in missing profile names more aggressively.", "Merge branch 'charlesmchen/unknownProfileNames'", "Ensure local profile key credentials are updated in lockstep with local profile key.", "Ensure profile key credentials are updated in lockstep.", "Merge branch 'charlesmchen/localProfileKeyCredential'", "Update Cocoapods.", "Revert to old build system.", "Revert to old cocoapods.", "Revert changes to Cocoapods.", "Update l10n strings.", "Add more logging to EarlyMessageManager", "Add an internal setting to keep muted chats archived when receiving new messages", "Convert all non-sticker images to jpg", "Add eight hour and always mute options.", "Store mute as millisecond timestamp", "Sync mute with storage service", "Fix extensions in post YDB world", "Copy tweaks", "Merge branch 'nt/mute-changes'", "Don't start message fetch job in share extension", "\"Bump build to 5.9.0.11.\" (Internal)", "\"Bump build to 5.9.0.12.\" (Internal)", "Feature flags for .beta.", "\"Bump build to 5.9.0.13.\"", "Feature flags for .qa.", "\"Bump build to 5.9.0.14.\" (Internal)", "Don't clear profile when profile key changes.", "Merge branch 'charlesmchen/updateProfileKeyWithoutClear'", "\"Bump build to 5.9.0.15.\" (Internal)", "Feature flags for .qa.", "\"Bump build to 5.9.0.16.\" (Internal)", "fix pods", "Update label for unknown phone number types", "Add support filter selection to contact us flow", "Merge branch 'nt/little-fixes111'", "Fix groups v2 bug", "Merge branch 'nt/little-fixes115' into release/5.8.1", "\"Bump build to 5.8.1.0.\"", "Update changelog for 5.9", "Merge branch 'release/5.8.1'", "\"Bump build to 5.9.0.17.\" (Internal)", "\"Bump build to 5.9.0.18.\" (Internal)", "Feature flags for .beta.", "\"Bump build to 5.9.0.19.\"", "Feature flags for .qa.", "\"Bump build to 5.9.0.20.\" (Internal)", "Display updated action sheet when tapping safety number change 'learn more'", "\"Bump build to 5.9.0.21.\" (Internal)", "Update l10n strings.", "Feature flags for .beta.", "\"Bump build to 5.9.0.22.\"", "Feature flags for .qa.", "\"Bump build to 5.9.0.23.\" (Internal)", "Swipe left for message details.", "Re-style message detail view", "Cache message recipients", "Redesign swipe for details animation to mimic swipe to reply", "Improve message details presentation performance", "Fix retain cycles", "Fix keyboard interaction with swipe-to-details", "Merge branch 'nt/message-details-redesign'", "Attempt to recover database if corruption was detected", "Make database recovery async", "protect database recovery from orphan data cleaner", "Change device transfer hotswap to avoid database corruption.", "Revert database recovery attempts, just flag when we detect corruption and prevent app launch.", "PR Feedback", "Merge branch 'nt/device-transfer-corruption'", "Sync translations", "Increase notification delay", "Feature flags for .beta.", "\"Bump build to 5.9.0.24.\"", "Feature flags for .qa.", "\"Bump build to 5.9.0.25.\" (Internal)", "\"Bump build to 5.9.0.26.\" (Internal)", "\"Bump build to 5.9.0.27.\" (Internal)", "\"Bump build to 5.9.0.28.\" (Internal)", "\"Bump build to 5.9.0.29.\" (Internal)", "\"Bump build to 5.9.0.30.\" (Internal)", "\"Bump build to 5.9.0.31.\" (Internal)", "Bump GRDB schema version.", "\"Bump build to 5.9.0.32.\" (Internal)", "Refine error handling in group profile fetching.", "Refine error handling in group profile fetching.", "\"Bump build to 5.8.2.0.\"", "Merge branch 'charlesmchen/groupMigrationMultipleErrors'", "Merge branch 'release/5.8.2'", "\"Bump build to 5.9.0.33.\" (Internal)", "\"Bump build to 5.9.0.34.\" (Internal)", "\"Bump build to 5.9.0.35.\" (Internal)", "\"Bump build to 5.9.0.36.\" (Internal)", "Add MobileCoin pod dependency.", "Payments: Update proto schema.", "Payments: feature flags", "Respond to CR.", "Port feature flag scripts to Python.", "Payments: Models", "Payments: Models (generated changes)", "Clean up ahead of PR.", "Payments: SSK Business Logic", "Clean up ahead of PR.", "Respond to CR and proto schema/reconciliation review.", "Small improvements around payments.", "Respond to CR.", "Revisions to payments in SSK.", "Payments changes in SignalMessaging.", "Rework payments error handling.", "Integrate with SwiftLog / MC SDK logging. Refine payments.", "Integrate with SwiftLog / MC SDK logging. Refine payments.", "Payments UI.", "Rework down state of payment custom keyboard.", "Clean up ahead of PR.", "Clean up ahead of PR.", "Add the \"disable payments\" flow.\n\n* Show memo message in send payment view.", "Add internal section to payment details view.\n\nFix bug in payment details view.\n\nAdd \"add money for payment\" UI flow.\n\nAdd \"add money for payment\" UI flow.\n\nAdd \"add money for payment\" UI flow.", "Payments entropy, storage service, backup + restore flows.\n\n* Update how payments state is stored in storage service.\n* Build 'view passphrase' UI flow.\n* Build 'restore payments wallet' UI flow.\n* Rework the 'view passphrase' UI flow.", "Update Cocoapods.", "Block \"send payment\" flow until transaction verifies.", "Respond to CR.", "Add debug flag to simulate requests not completing.", "Update to MobileCoin SDK 0.14.0-ish.", "Improve custom payments keyboard.", "Payment design tweaks.", "Respond to CR.", "Update MC SDK.", "Defragmentation.", "Defragmentation.", "Defragmentation.", "Defragmentation.", "Defragmentation.", "Update MC SDK, rework MC SDK config.", "Use MC SDK to device maximum transaction amount.", "Use MC SDK to generate and parse MC QR code URIs.", "Fix broken tests, bugs.", "Reduce size of payment sync messages, enforce more model invariants, fill in missing ledger block timestamps in reconciliation.", "Clean up formatting of MOB values for display.", "Minor fixes.", "Present \"transfer in\" flow as modal.", "Payments: design feedback.", "Fix background colors of \"border-less bottom buttons\" in payment views.", "Payments: small fixes.", "Payments: small fixes.", "Respond to CR.", "Respond to CR.", "Let users enable payments from CVC send payment flow.", "Improve handling of sender or recipient not being enabled in cvc \"send payment\" flow.", "Enable MC SDK debug logging in internal builds.", "Payments: MC SDK cert pinning.", "Payments: beta indicators", "Fix broken tests.", "Payments: copy passphrase to pasteboard.", "Add \"currency conversion freshness\" indicators.", "Add \"currency conversion freshness\" indicators.", "Payments: dismiss help cards.", "Payments: Additional help cards.", "Payments: design tweaks.", "Payments: Update MC SDK to 1.x.", "Payments: integrate with SDK support for entropy & passphrases.", "Payments: integrate with SDK support for entropy & passphrases.", "Payments: expire passphrase from pasteboard.", "Payments: Refine \"confirm recovery passphrase view\".", "Respond to CRs.", "Respond to CRs.", "Update MobileCoin dependencies.", "Add step to \"delete account\" flow around transferring payments balance.", "Respond to CR.", "Respond to CR.", "Respond to CR.", "Payments: mobilecoin test net.", "Payments: mobilecoin test net.", "Clean up network selection.", "Improve handling of group separators after decimal when formatting decimals.", "Fix formatting of payment amounts in notifications.", "Payments: Kill switch", "Remember currency input preference.", "Remember whether user prefers to input fiat or MOB.", "Ensure payment details are not cut off.", "Payments: 'restore wallet by pasting recovery phrase from pasteboard' flow.", "Avoid assert; fix fake MC root entropy.", "Improve handling of failed payments in the payment details view.", "Refine payment details view.", "Respond to CR.", "Respond to CR.", "Update Cocoapods.", "Clean up app settings presentation.", "Fix issue around back button labels.", "Fix styling of learn more links.", "Fix layout glitch in \"confirm payments passphrase\" view.", "Avoid overzealous assert.", "Avoid overzealous assert.", "Fix styling issues around learn more links in the payment views.", "Fill in support article links.", "Clean up TODOs.", "Clean up TODOs.", "Respond to CR.", "Add \"currency conversion info\" alert.", "Respond to CR.", "Small fixes and refinements.", "Fill in missing URLs and alerts.", "Record payments recovery passphrase before disabling PIN.", "Prevent users from using 'transfer out' flow to send themselves money.", "Show available balance, not actual balance.", "Refine payments help action.", "Bug fixes.", "Update consensus enclave for signal testnet.", "Payments: Design tweaks.", "Pre-prepare payments if possible.", "Add MobileCoin configuration extension.", "Improve handling of incoming payment sync messages, empty notes.", "Improve handling of malformed sync messages.", "Improve rendering of unidentified payments.", "Improve rendering of defragmentations.", "Improve rendering of defragmentations.", "Add testable flags around malformed payments.", "Fix rebase breakage.", "Fix rebase breakage.", "Don't allow users to \"transfer in\" to their payments wallet if the payments kill switch has been activated.", "Sign public payment address.", "Sign public payment address.", "Fix rebase breakage.", "\"Feature flags for .qa.\"", "\"Feature flags for .openPreview.\"", "Configure for signal mainnet; tweak payments public address signature.", "Configure for signal mainnet; tweak payments public address signature.", "Payments fixes.", "Update payments copy. Refine supported currency list. Configuration for external beta.", "Payments: Cull complete/stale TODOs.", "Update Cocoapods.", "Signal main net, fixes.", "Signal main net, fixes.", "Update Cocoapods.", "Bump GRDB schema version.", "Update MC SDK; adopt new payment entropy derivation scheme; update auth credential handling.", "Improve handling of transferring entire balance, empty balance, etc.", "Apply MobileCoin terms of service URL.", "Payment address QR payloads should contain base58 representation, not URI.", "Apply copy changes from design.", "Tweak handling of whitespace in the payment memo UI.", "Clean up background colors in payment views.", "Fix table selection artifacts in payment views.", "Fix back button text in the payment views.", "Fixes for dark theme in payment views.", "Fixes for dark theme in payment views.", "Fixes for dark theme in payment views.", "Respond to CR feedback.", "Fix asserts in tests.", "Use banker's algorithm when formatting \"short\" payment amounts.", "Payments: Fixes.", "Update Cocoapods.", "Minor fixes.", "Payments: Clean up.", "Update Cocoapods.", "Improve handling of theme changes.", "Payments: Fixes.", "Payments external beta feature flags.", "Payments: Clean up.", "Payments: Clean up.", "Merge branch 'feature/payments'", "\"Feature flags for .beta.\"", "\"Bump build to 5.9.0.37.\"", "Update l10n strings.", "\"Bump build to 5.9.0.38.\"", "Payments internal preview flags.", "\"Feature flags for .openPreview.\"", "\"Bump build to 5.9.0.39.\" (Internal)", "\"Feature flags for .qa.\"", "\"Bump build to 5.9.0.40.\" (Internal)", "Payments external preview flags.", "Fix assert.", "\"Bump build to 5.9.0.41.\" (Internal)", "Improve message details keyboard interactions.", "Fix feature flags.", "Fix db schema", "Update SDS to reflect payment columns.", "Merge branch 'nt/little-fixes117'", "Change refresh button behavior in payment settings.", "Merge branch 'charlesmchen/payments145' into release/5.9.0", "Update l10n strings.", "\"Feature flags for .beta.\"", "\"Bump build to 5.9.0.42.\"", "Payments internal beta.", "\"Feature flags for .openPreview.\"", "\"Bump build to 5.9.0.43.\" (Internal)", "Payments external beta.", "Don't index most models for the local user.", "Update l10n strings.", "\"Feature flags for .beta.\"", "\"Bump build to 5.9.0.44.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.9.0.45.\" (Internal)", "\"Feature flags for .beta.\"", "\"Bump build to 5.9.0.46.\"", "\"Feature flags for .qa.\"", "\"Bump build to 5.9.0.47.\" (Internal)", "\"Bump build to 5.9.0.48.\" (Internal)", "Handle video export errors.", "Check for errors when sending attachments.", "Improve handling in \"send attachment\" flow.", "Merge branch 'charlesmchen/attachmentUploadFailures2' into release/5.9.0", "Update l10n strings.", "\"Feature flags for .production.\"", "\"Bump build to 5.9.0.49.\""]}, {"tag_start": "2.1.3", "tag_end": "2.2", "commits": ["Fixing issue with message ordering.", "Supporting diffing of localizablestrings.", "iOS 9 Support\n\n- Fixing size classes rendering bugs.\n- Supporting native iOS San Francisco font.\n- Quick Reply\n- Settings now slide to the left as suggested in original designed\n  opposed to modal.\n- Simplification of restraints on many screens.\n- Full-API compatiblity with iOS 9 and iOS 8 legacy support.\n- Customized AddressBook Permission prompt when restrictions are\n  enabled. If user installed Signal previously and already approved\n  access to Contacts, don't bugg him again.\n- Fixes crash in migration for users who installed Signal <2.1.3 but hadn't signed up\n  yet.\n\n- Xcode 7 / iOS 9 Travis Support\n- Bitcode Support is disabled until it is better understood how exactly\n  optimizations are performed. In a first time, we will split out the\n  crypto code into a separate binary to make it easier to optimize the\n  non-sensitive code. Blog post with more details coming.\n- Partial ATS support. We are running our own Certificate Authority at\n  Open Whisper Systems. Signal is doing certificate pinning to verify\n  that certificates were signed by our own CA. Unfortunately Apple's App\n  Transport Security requires to hand over chain verification to their\n  framework with no control over the trust store. We have filed a radar\n  to get ATS features with pinned certificates. In the meanwhile, ATS is\n  disabled on our domain. We also followed Amazon's recommendations for\n  our S3 domain we use to upload/download attachments. (#891)\n- Implement a unified `AFSecurityOWSPolicy` pinning strategy accross\n  libraries (AFNetworking RedPhone/TextSecure & SocketRocket).", "Adding staging environment.", "TLS 1.2 on signaling tcp.", "Closes #891", "Fixes glitching of inbox label when coming back from background.\n\nThe method was not called on the main thread, resulting in rendering\nissues.", "Removing APNavigation as a dependency.", "Fixing typo in restrictions string.", "Performance updates & smarter layout (2 lines)\n\n- Adding support for ContactsUI when adding contacts on iOS 9.\n- Multiple performance updates by liberating the main thread and\nreusing tableview cells.", "Attachment type in notification and description.", "S3 ATS Policy\n\nThis partly reverts commit 1affdbb3257fef7c443602e613fc5a5fdd7dd66c.", "Fixes #907\n\nUpon receiving a 404 to a prekey request for a particular device D, the client handles that error by removing device D from the recipient's device list, and proceeds to encrypt and send to the remaining known devices.\n\nReviewed & Patched by @FredericJacobs", "Phone emoji", "3D Touch: Quick Compose", "Pulling in latest translations.", "Fixing Travis configuration.", "Fixing bug with reused label appearing bold.", "Fixes #930"]}, {"tag_start": "2.1.1", "tag_end": "2.1.3", "commits": ["Checking the result of SecRandomCopyBytes\n\nBuilt and verified by @FredericJacobs", "Removing literals and self within block.\n\ndeclaring constants instead of string literals\navoiding using self within block\nremoved unused method decleration from header file\n\nReviewed-by: @FredericJacobs", "Upgrading OpenSSL to 1.0.2d.\n//FREEBIE", "Register extra keying material at registration.", "Upgrading cert pinning & flagging release.", "Removing unused imported classes.\n\n//FREEBIE", "Preliminary iOS9 support and upgrading to CocoaLumberjack 2.0", "Stop the spinner when registration fails on a RegistrationVC", "Merge pull request #877 from orta/stop_spinner\n\nStop the spinner when registration fails on a RegistrationVC", "Support for `supportsVOIP` attribute.\n\n- Deprecates RedPhone upgrade flow.\n- Adds a generic upgrade dialog.\n- Upgrades dependencies.\n- Reorganizes `TSStorageManager` & TSNetworkManager imports.", "Fixes #871\n\n//FREEBIE", "Adding rating code\n\nWe\u2019ve noticed that most people went to the App Store to leave really\nbad reviews of the app and it is severely affecting our discoverability.\nWe will ask for a rating if we see you\u2019ve been using the app for some\ntime. If you rate the app or decline to rate, that\u2019s fine. We will\nnever bug you again!", "Require AddressBook permission.\n\nSignal requires the AddressBook permission to use the app at the\nmoment. This avoids the edgecases where a user doesn\u2019t allow access to\nhis address book and then tries to use the app. We\u2019re also doing a\nsignificantly better job at explaining why we need this permission to\nthe user.", "Bump up version number & fetch latest translations.\n\n//FREEBIE"]}, {"tag_start": "2.1", "tag_end": "2.1.1", "commits": ["Open SSL 1.0.2c\n//FREEBIE", "Upgrading AxolotlKit\n\nWork on AxolotlKit has no BitHub so taking a contribution for this\ncommit.", "Fixes crash on launch for unregistered users who updated.", "Fixing memory issue with allocation of the socket status view.", "Fixing crash on responding to phone call.", "Flagging release.\n\n- Bump up version number.\n- Fetching latest localizations.\n- Upgrading libPhoneNumber and Mantle dependencies.\n//FREEBIE"]}, {"tag_start": "2.0.2", "tag_end": "2.1", "commits": ["Fixes #680\n\nHour format was set to static \u201ch:mm a\u201d leading to localization issues.\nCurrent locale will now be respected in every formatting.\nAdjusted the decision when to label the message with a date from\n\u201cmore then 24 hours ago\u201d to \u201cnot today\u201d.", "Fixes #761", "Bump up version number, pull localizations and dependencies", "Fixes issues with registration in iOS simulator.", "Update CONTRIBUTING.md", "Notifications enhancements.\n\n- Tap to reply to a message.\n- Badges application with the number of unread messages.\n- Pick up a phone call from lock screen, or decline it.\n- Settings for notification sounds while app in foreground and text displayed on local notifications.", "Fixing call message errors.", "Fixing leaky caches.", "Upgrading dependencies.", "Permissions dialog description.", "Addressing issues with background decryption.\n- Simplifying background timeout strategy for reliabilty.\n- Adding Notifications settings.\n- Dropping support for VOIP Push < 8.2 because buggy.", "Fixes #775.", "Enable data selectors.", "Reliability enhancements for notifications.", "Bumping up version number\n\n- Upgraded dependencies.\n- Fetching latest localizations.", "Addressing issues with managing socket connections in background.", "Bumping up version number\n- Upgrading dependencies.\n- Fetching latest localizations.", "App Icon: shift speech bubble up to improve visual alignment\n\nThe oval part of the speech bubble was vertically centered, but the hanging triangle made it appear to be lower-than-center.  This pushes the entire bubble up to correct for that.", "Fixing Travis now that it supports SDK8.3\nMore information at http://blog.travis-ci.com/2015-05-26-xcode-63-beta-general-availability/", "UX improvements in how failed messages can be resent.", "UX and Notifications fixes\n- Removes large confusing UX bar and related assets. Replaced with UISwitch.\n- Enhanced user experience for missed calls.\n- Fixes issue where missed call would appear as incoming call in call log.\n- Fixing issues where PushKit handler not called on launch.", "Fixing graphical glitch in tread with images.", "Support for Mismatched Devices.", "Recipient's name in group key conflict on send.", "Bumping up version number & pulling localizations\n\n//FREEBIE"]}, {"tag_start": "2.0.1", "tag_end": "2.0.2", "commits": ["Fixes #674", "Lets user select country by country code.\n\nAllow the entry of the country dial code to also pre-select/filter\nthe list of options. Useful for countries way down the list, or\ncountries that tend to be spelled in widely different ways.\n\nCloses #662", "Fixes #708", "Fixes #725", "Fixes #673", "Perform contact intersection on AddressBook change.", "Fixes #244", "OpenSSL 1.0.2a", "Fixes #724", "Fixes #578", "Fixes #709", "Show phone number instead of \"Unknown Caller\" in call view.", "Fixes #713", "Addresses some performance issues on loading from database.", "Remove initialization on MIMETypeUtil", "Dropping some required permissions. Smarter microphone permission.", "Bump up version number and new localizations\n\nNote: Removing left to right languages until they are properly supported."]}, {"tag_start": "2.0", "tag_end": "2.0.1", "commits": ["Fixes #609\n\n- Also addresses a typo where the cipher key was checked to exist twice.", "Fixes #613", "Fixes #611", "Fixes #530", "Fixing UX issue with unsynchronized clocks.\n\n TextSecure messages don\u2019t get assigned a timestamp by the server. All\nof it is done end-to-end between both clients. A client could have a\nmisconfigured clock or might want to forge a timestamp. Therefore, we\naddress this issue by introducing a new receivedAt timestamp for\nincoming messages that will be used to sort the messages.", "Fixes #566\n\nThis fixes the issue with duplicate numbers in group chats. This is just a \"fix\" for 2.0.1 but the group code is still pretty messy and should be refactored for 2.1", "Fixes #404\n\nSupport for drafts. Unsent messages are saved in case you want to send them later on and were interrupted while redacting them.", "Code cleanup.\n\n- Clarification about pinning strategy.\n- Removing unused code in TSRecipient.", "Bumping up release number to 2.0.1\n\n(also fetches latest translations)", "Fixes #620", "Bloomfilter moves to Cache folder\n\nThe bloom filter is not user generated content so Apple is not going to\nlet us store it into the Documents folder. Moving it to the Cache\nfolder.", "Updating translations for 2.0.1-2 release.", "Tuning WebSocket heart beat to 30s."]}, {"tag_start": "2.0_beta_31_01_2015", "tag_end": "2.0", "commits": ["Closes #575", "Fixing issue with provisioning profiles.", "Fixes #584 #585 #586", "Cleanup iconography & fixes #582", "Tapping signal icon should return user to last conversations mode. Closes #580.", "Support for `remoteRegistrationId`.\n\n1) Supporting `remoteRegistrationId` on sending messages. Now showing\nwarning before sending the message if key conflict exists. Fixes #574\n2) Upgrading dependencies: adapting to new libPhoneNumber API.\n3) Fixes race condition in database code.\n4) Fixing ordering bug. Hopefully once and for good.", "New avatar placeholders.\n\n- avatar colors implemented\n- removed grey border on default group avatars and avatars with images", "Empty states.\n\n- With the exception of the first launch states, none of the empty states should include any artwork\n- First Launch Inbox State should read: Start your first Signal conversation! Tap on the + button.\n- Empty Inbox State should read Done. Done. Done. Tip: add a conversation as a reminder!\n- First Launch Archive State [should read][first-launch-archive] Save conversations for reference. You can swipe conversations into your Archive from the Inbox\n- Empty Archive State should read Squeaky Freaking Clean. None. Zero. Zilch. Nada.", "Design enhancements, part of #577\n\n- Settings iconography.\n- Close buttons.\n- Add gesture recognizers on navigation bar label, not the entire bar.\n- Group view and conversation view back buttons.", "Closes #589 - Enhancements conversation view.\n\n- Call button should be removed from compose bar (when no text is in the input, or ever).\n- Attachment options should be Choose from Library..., or Take Photo or Video\n- Call button should move to right side of nav bar, and be solid white.\n- Send button in compose bar should be the word Send.\n- Attachment icon should be paperclip", "Closes #590 - New Conversation Iconography.\n\n- Use new Cancel button icon\n- Use new Add Group button icon\n- Use new Call Contact (d/w) button icon", "New ringtone.", "Settings and Empty States of the 98 issues list.\n\n- Fixes some thread ordering issues.\n- Green color for settings.\n- New archive placeholder.\n- Warning before unregistering.", "Navigation bar hidden upon connection completed.", "Should use new Inbox and Archive icons", "New Conversation icon should be a plus (see new_conversation_icon).", "Multiple visual enhancements and repo cleanup.\n\n- Revising iconography to stick to v2.0 design.\n- Multiple bug fixes based on testers feedback\n- Integration with system addressbook\n- Removing unused assets.", "Allows retry of failed downloads.", "Updating licenses of dependencies.", "Fixed positioning of \"+\" on group create screen.", "Making sure that registrationID > 0.", "Localizing the TextSecure component of Signal.", "Addressing some storage related fixes.\n\n- Tested on jailbroken phone that correct files are getting encrypted\n- Fixes #557\n- Stores image file extension\n- Addresses issue with deletion of debug logs\n- Preventing user to browse in app if not registered with TS server", "Fixing Storyboard warnings.", "Fixes based on corbett and abolishme's feedback", "Preparing release\n\n- Incrementing build number\n- Fetching latest translations\n- Pod lock", "Fixing issue when migration closed and re-opened.", "Fixes bug spotted by @jlund with the unread count."]}, {"tag_start": "1.0.8", "tag_end": "2.0_beta_31_01_2015", "commits": ["Fixed issue #139.\n\nTesting has been completed on outgoing calls only. It is recommended that testing is conducted on incoming calls before a commit to upstream.", "Fixing singleton initialization\n\n//FREEBIE", "More advanced fixes for push notifications on iOS7", "Updating Pods & translations for release\n\n//FREEBIE", "Closes #181\n\n//FREEBIE", "Bump up version number of release.", "Vibrations and minor fix in audio interrupts", "Merge pull request #187 from WhisperSystems/gavia-master\n\nMerging fixes for audio interrupts and vibration while ringing.", "Update doc comment in ZrptManager.h // FREEBIE\n\nThe note about the role parameter was way out of date.", "Merge pull request #191 from Strilanc/patch-1\n\nUpdate doc comment in ZrptManager.h // FREEBIE", "Rate Limiting Message was never displayed.", "Addressing issues with empty contact names\n\n//FREEBIE", "phone/ related bug fixes\n\n- Fixed typo with an isKindOfClass comparison\n- Fixed a bug in PhoneNumberDirectoryFilterManager where if an update failed it\n  didnt save the retry date", "Merge pull request #197 from gavia/bugfix\n\nMerging some AddressBook related changes", "Fixed a warning in PriorityQueueTest, and some dot syntax //FREEBIE\n- Also simplified the comparators", "Merge pull request #200 from Strilanc/warning_fix_235\n\nFixed a warning in PriorityQueueTest, and some dot syntax //FREEBIE", "Prefix NSArray categories.\n\nBegin process of prefixing categories on Foundation and UIKit. This\nfollows Cocoa best practices. This makes sense given the number of third\nparty libraries the project incorporates, which may include their own\ncolliding category method names.\n\nUse OWS prefix on classes that may be used across apps.", "Updated Travis configuration and categories guidelines.\n\nTravis upgraded the build system including xctool.\nhttp://blog.travis-ci.com/2014-11-03-xcode-61-beta/\n\nGuidelines additions and Travis fix.", "Added Gitter badge", "Merge pull request #203 from gitter-badger/gitter-badge\n\nAdd a Gitter chat badge to README.md", "Initial Message UI", "Merging UI code with some basic TextSecureKit code.", "Laying ground for signup flow refactoring", "Pods for textSecure fork CI", "Registration refactoring - wip.", "Fix Scale: Set Launch Screen", "FullImage: Base of pinching, double tapping & zooming", "General: Unused View controller clean up", "General: Unused views cleanup", "Registration refactoring - wip.", "Refactoring signup flow, storage, contacts.\n\n- Signal preferences and keying material moved to the unified storage\n- Set up for staging environment to try out the new APIs\n- Changes in the push registration flow to send token to RP & TS", "Fixing issues with merge\n\nTried to rebase but there were too many patches to reapply.", "Fixes InCallViewController & contacts not displayed", "Integrating socket status indicator and remove favorites.", "Enables Auto-layout on larger screen sizes.", "SubProto support for WebSocket messages", "InCall: remove blue outline on mute and speaker buttons", "ContactDetail: Remove Favourite button", "ContactDetail: Fix crash on parsedPhoneNumbers", "Fix error not being shown when failing to verify SMS code", "Integrating the TextSecure Contact Discovery.", "Adapting to changes to SubProtocol and InboxView", "Signals: Fix mistake in removing observer for Socket Notifications", "ContactDetail: Link notes", "Integrating Message View.", "Integrating deletion of threads.", "Integration work - thread view", "WebSocket reconnect. Casting issues.", "Registering by tapping SMS link.", "Settings and thread fixes.", "Handling delivery receipts.", "Integrating call and messaging buttons.", "Rewriting outgoing pipeline with GCD.", "Signup: Locking UI while async requests", "Messages: Add a failed outgoing message cell", "Socket Management", "Starting background fetching of messages.", "Supporting alert on unregistered users + bug fixes.", "Addresses multiple UI issues.\n- New Contact spacing to let user tap call/message icons\n- Handeling error messages, delivery receipts, timestamps", "Removing developer-specific junk.", "Display fingerprints.", "General: Screenshot protection (closes #216)", "Messages: Fix delivered label", "WebSocket Public Key Pinning.", "LaunchScreens and Screen Security.", "Modal presentation of the setup view.\n\n- Memory efficiency.\n- Fixes issue where segues were never unwinded.\n- Fixes issues on first launch where initiating a call would show the login screen again.\n- Addresses issue where the signup code would not have been added properly after clicking link in SMS.\n\nReviewed by: @FredericJacobs", "Multiple UI enhancements.\n\n- Addresses consistency in how phone numbers are displayed.\n- Auto-Layout constraints for Settings\n\nReview by: @FredericJacobs", "Support for Archiving. (Closes #213)", "Immediate feedback on send + unread count badges.", "Signup flow: request call.\n\n\u2022 enables the \"Send Again button\"\n\u2022 enables the display of the number the user entered in the Registration View in this subsequent scene (so they can see whether they should go back or not)\n\u2022 enables the \"call me instead button\"\n\nReviewed-by: @FredericJacobs", "Signup enhancements.\n\n- Remove unused segue\n- Add call to super", "Archive/Inbox: Unread layout and other enhancements\n\n- Add lastAction indicator for errors and info in TSThreadViews\n- Enable unarchiving and deletion from archive.\n- Unread message layout", "Messages view fixes\n\n- Delivered tag\n- Fix tap to resend recognizer\n- Error messages layout\n\nReviewed-by: @FredericJacobs", "Fixing crash in MessagesViewController.", "Bug fixes in MessageViewController\n\n- Messages shouldn\u2019t be marked as seen if app in background\n- Fixes crash on first delivery receipt", "Error handling messages and Info Messages", "Support for MITM/key change interface.", "Identity Key QR verification\n\n\u2022 this plumbs in the QR verification for iOS, both scanning contact and having your fingerprint scanned.\n\nReviewed-by: @FredericJacobs", "Bugfix: Fixing ordering for compose view.\n\nReviewed-by: @FredericJacobs", "Debug: Logging new password creation.", "Bugfix: Fixes crash on multiple update.", "Removing keyboard when proposing new fingerprint.", "Signup: remove unused segue", "Settings: Let user pick notification style\n\nAlso lets user search for contacts by phone number.", "Fingerprint verification instructions", "Receiving and displaying attachements", "Adding Clang Format file", "Fixing crash on notification style setting", "Attachements: Fixing UI issues", "Rename to 'attachment'", "Attachments: Sending and receiving", "Removing logging statement.", "Group functionality\n\n\u2022 create\n\u2022 send/receive full functionality\n\u2022 basic UI for group updating.\n\nTODOS:\n    -group avatars not supported\n    -group update occurrence initiated by Android displayed in thread UI but not yet fully\n\nReviewed-by: @FredericJacobs", "Fixing \"jump\" on loading MessagesViewController", "Setting for Image Compression.", "Attachments handling\n\n- Sends image rotated\n- If message is delete, delete the attachment db object and file\n- Delete attachment from detail view", "Removing keying material and wiping messages.", "Bugfix: messages shown as delivered since 312423a\n\nhttps://github.com/WhisperSystems/Signal-iOS/commit/312423acfca37cf0ad48\n08a429de76fde1dd68f5\n\u261d\ufe0f @corbett & bad-code review: @FredericJacobs", "Groups: Update messages, avatars and bug fixes", "Groups: Name of leaving user + outgoing message layout.", "MessagesVC: Scrolls to bottom and fixes jumpiness", "Actions on messages notification for replying.", "Preventing \"null\" notifications on group updates and attachments", "Showing name of contact on outgoing phone call", "Bugfix: Caused private message to not be processed correctly\n\nProtocol buffers do serialise the group structure even if properties\nare missing. Always check with .hasGroup instead.", "Phone calls in MessageView.", "Incoming call when app closed: updates contact label when available.", "Settings: Share fingerprint in tweet (close #210)", "Closes #236\n\n- Sublassing errors in case of expected behaviour\n- When receiving a new message that was using a previously unknown\nidentity key, we search for any other messages that are encrypted with\nthe new accepted key and decrypt those too.\n- Addressing some of the warnings we had before.", "Closes #234", "Group avatar fixes\n\n- Resizes group avatars\n- Fixing bug causing group avatar to be sent as attachment\n\nReviewed-by: @FredericJacobs", "Adding support for iPad icons. Closes #255", "Adding building instructions + TextSecure in README", "Groups: Fixes issue discussed in #248\n\nLink: https://github.com/WhisperSystems/Signal-iOS/pull/248#discussion-diff-22403332\nFixes issue with android not being able to create a group due to update group messages being interpreted as unknown group", "New wire format\n\nUnnecessary base64 encoding has now been removed.", "Fixing bug causing outgoing calls to be cancelled. Closes #264", "Show name for unregistered contact in threads.\n\n//FREEBIE", "MessagesVC: Paging and fix scrolling bug.\n\nReviewed-by: @FredericJacobs", "Members of groups selection\n\nReviewed-by: @FredericJacobs", "Group avatar: Set default one locally if not selected.\n\nReviewed-by: @FredericJacobs", "Fixes crash (since ee07490) on loading empty MessagesVC\n\n//FREEBIE", "Closes #270 #271 #273", "End error message sentences with a dot.\n\nReviewed-by: @FredericJacobs\n//FREEBIE", "Closes #291\n\nReviewed-by: @FredericJacobs\n//FREEBIE", "Session Warning Label: Renaming the Secure session ended.\n\nAs discussed in #287, wording is adapted to reflet consequences for user.\n\nReviewed-by: @FredericJacobs", "Groups: Showing members joining/leaving.\n\nAs discussed in #233, but UI is not adapted for longer string.\n\nReviewed-by: @FredericJacobs", "Bypass ratchet and network to discuss with self.\n\nCloses #314 #305 #274\n\nReviewed-by: @FredericJacobs", "Closes #261 - Signal 1.0 to 2.0 utility.\n\nReviewed-by: @FredericJacobs", "Closes #282 - Avatar initials placeholder.\n\nReviewed-by: @FredericJacobs", "Addresses multiples UI issues.\n\nCloses ##275, #283, #278, #288\n\nReviewed-by: @FredericJacobs", "Settings refactoring.\n\n- Renames GroupModel to TSGroupModel for TextSecureKit consistency.\n- Refactors the settings into categories (joint work with @dtsbourg)\n- Removes settings and logic for background push.", "Closes #359\n\n//FREEBIE", "Fixes crashes & edge cases for initials string.", "Enhancements in build configuration.\n\n- Helps onboarding of new contributors because signup generates a fake\npush token to register devices.\n- Deleted Ad-Hoc configuration since no more HockeyApp distribution.\nTestFlight uses default `AppStore release` build configuration.", "modified contributing.md to add git best practices link", "Merge pull request #381 from joyceyan/my_feature\n\nmodified contributing.md to add git best practices link", "added optout message", "Merge pull request #382 from jackflips/contributing\n\nadded optout message", "Closes issue #277 - Fixed speakerphone bug.\n\n//FREEBIE\nReviewed-by: @corbett & @FredericJacobs", "Upgrading to OpenSSL 1.0.2.\n\n//FREEBIE", "Redesign implementation.\n\nResult of stashed commits by @corbett and @abolishme", "Audio farts.\n\nslight change\n\nmodified pbxproj to clean up resources\n\nreset developmentteam in pbxproj back to what it was before\n\ndeleted one line", "Swipe to delete implemented", "Audio attachments UI", "Fixing crashes when deleting single messages.", "Fullscreen image attachment menu.", "Fixed empty group avatar issue.", "Audio attachments: Prevent progress to be set to NaN.", "Dismiss search bar when new group is created.", "Vectorial Signal header icon.", "Allows unregistering of RedPhone.", "Closes #315", "Close #509", "Support for calls & groups in new blue styled format.", "Replaced all iconography and added new icons\n\nFix #503", "in message view compose, ability to call\n\n\u2022 RedPhone contacts which aren't TextSecure contacts are disabled from starting conversation via compose.", "Delivery receipts working", "Contacts table view reloading on contact refresh complete.", "New iconography", "messaging view and group creation fixes:\n\n\u2022 Create button should be btnCompose--white\n\u2022 Add people to be a tableview header (ask @helveticade for creatives)\n\u2022 Send button = btnSend--blue\n\u2022 Attachments button = btnAttachments--blue\n\u2022 message footer changes from call to message as input\n\u2022 Remove more button\n\u2022 Empty State update with asset and new copy\n\u2022 Default group name should be 'New Group' (UI only)\n\u2022 loading view\n\u2022 Update tab bar items with revised PDFs\n\u2022 Blue outline around avatar-less contacts\n\u2022 Replace swipe left actions with btnDelete--white asset\n\u2022 Replace swipe right buttons with cellBtnMoveToArchive--blue and cellBtnMoveToInbox--blue respectively\n\u2022 Done icon replaced with btnSignal in settings\n\u2022 Settings: Swap blue and grey for Registered Number and Change (change doesn't look like a button)\n\u2022 Settings: UI Switch on should be Signal Blue.\n\u2022 Disable search ui + group button while downloading contacts\n\u2022 new group: Create button should be btnCompose--white\n\u2022 new group: Add people to be a tableview header", "Closes #303", "Closes #263", "Exclude Signal files from backup & encrypt when possible.", "Closes #319", "New round of iconography.", "Various design and UI consistency improvements.\n\n\u2022 updated iconography\n\u2022 lines and sizing\n\u2022 empty inbox and archive screen with wording\n\u2022 bug fix on calling to self being enabled sometimes (doesn't crash either way, but makes little sense)\n\u2022 call icons and group update icons incorporated (PR to JSQ must be merged to test; this will be two lines on the Signal-iOS side to remove if we decide not to go with icons)\n\u2022 fingerprint screen working: accessible by long press from contact screen on contact title. long press on lower half of screen shreds key material after confirmation. new icons for scan and show.\n\u2022 short press on contact title will show their phone number\n\u2022 color updates to new palette for green, yellow and light blue", "Archiving and correctly sorting empty threads.", "Multiple constraints updates & addressing warnings.\n\n- Icon bundles upgraded to match required sizes.\n- Moving to NSAttributes instead of deprecated UIAttributes.\n- Casting serialized attachmentID to NSNumber.\n- Removing unused archival view from InboxTableViewCell.\n- Upgrading contraints on SignalsVC for 6+ \"TabBar\".\n- Removing deprecated \"plain\" properties\n- Removing redundant button in FingerprintViewController.\n- Addresses issues with placement of change number in signup flow\n- Fixes placement bug in new group view\n- Exclude unused reference.", "Re-enables user interaction with navbar when view appears.", "Fixing issue with identity key change messages deletion.\n\nWhen a key change is accepted, we iterate over the list of messages\nthat are waiting for decryption. This commit fixes an issue with error\nmessages not being deleted after message is processed for decryption.", "Removing unused ContactsTableViewController.", "Attachment with caption fixes.\n\n- Caption is displayed under the message\n- Empty messages are not creating message bubble.", "Deliberate handling of MIME types for video, audio, and images.\n\n\u2022 rejects unhandled media with unsupported attachment message\n\u2022 for supported media, handling of MIME type/file extension conversion in a single place\n\u2022 groundwork for future handling of additional types via e.g. conversion", "Setting status bars to white as completion of all modal presentations.", "Various enhancements to the groups.\n\n- new avatar and updated avatar functional\n- rounded corners in place, both in new/update group view and in inbox\n- removed the appearance of the ability to delete members from a group.\n- centering group menu in UIToolbar", "Pinning upstream cert.", "Better phone number parsing for SMS.", "Replacing Twitter icon with brand guidelines one.", "Addressing UI issues.\n\n- Makes sure that status bar is white on launch.\n- Dismisses keyboard before playing video.", "Fixed spacing on inbox number in icon", "Updated iTunes artwork", "Support for various screen sizes.", "Designing the empty state during contact refresh.", "Migrations from 1.0.x and 2.0 beta.", "Resetting status bar to white.", "Removing call recorder + contacts refresh", "Fixes #553", "Group avatar relationship for deletion.", "Contact ordering and graying out RedPhone-only users."]}, {"tag_start": "1.0.7", "tag_end": "1.0.8", "commits": ["Update Building to note non-operational. //FREEBIE", "Fixing singleton initialization\n\n//FREEBIE", "More advanced fixes for push notifications on iOS7", "Updating Pods & translations for release\n\n//FREEBIE", "Closes #181\n\n//FREEBIE", "Bump up version number of release."]}, {"tag_start": "1.0.6.2", "tag_end": "1.0.7", "commits": ["Removed size-assuming NSUInteger parsing tests", "Updating Travis for iOS 8.0 support\n\n//FREEBIE", "Merge branch 'master' of https://github.com/WhisperSystems/Signal-iOS into partial_uint_parse_fix", "Found a method to parse NSUInteger exactly and precisely //FREEBIE", "Merge pull request #161 from Strilanc/partial_uint_parse_fix\n\nFixed NSUInteger parsing tests failing", "Closes #174", "Fixing iOS 7 push notification issue\n\n#176 will complement this\n//FREEBIE", "Updating localizations\n\n//FREEBIE"]}, {"tag_start": "1.0.5", "tag_end": "1.0.6.2", "commits": ["Attempting to fix code signing issues\n- Changed run scheme back to \"Debug\" from ad-hoc distribution\n- Reset provisioning profile build settings to automatic\n- Reset code signing identity build settings to just iOS Distribution / iOS Developer\n- Reset Development Team to \"None\" (it seemed to be forcing the automatically chosen debugging cert to be one from whisper systems)\nFREEBIE", "Same fixes applied to unit test code signing //FREEBIE", "Fixed RecentCall unconditionally setting userNotified, even for missed calls //FREEBIE", "Enabling new screen sizes\n\n//FREEBIE", "Rerendered Icon in iOS 7 and iOS 8 style.\nIt was rendered with a wrong and useless border before.\n\nAdded 3x Version for iPhone 6 Plus.", "Removed wrong/unnecessary/ugly black border.\nRemoved 512x512 version. Since it is supported by iTunes Connect anymore.", "Merge pull request #165 from abcdev/unuglify-icon\n\nUnuglify Appicon", "Multiple fixes\n\n- Fixes inherited build settings\n- New Podfile format\n- Fetching updated strings", "Auto-layout enhancements + Submit Debug Logs", "Moving away from custom HTTP stack", "Syntax fixes from #172\n\n//FREEBIE", "Fixing registration issues\n\nFixes the simulator and client (when permissions disabled) registration\nfixes as discussed in #172\n\n//FREEBIE", "Fetching translations from Transifex\n\n//FREEBIE", "Fixing build & signing settings for contributors\n\n//FREEBIE"]}, {"tag_start": "1.0.4-2", "tag_end": "1.0.5", "commits": ["Using dot syntax for count and length", "Retry build", "Merge pull request #116 from Strilanc/modern_0\n\nUsing dot syntax for count and length", "Using getter syntax for shared*, is*, and has*", "Fixed packEcCoordinatesFromEcPoint having variable-sized output, prevent reconstruction of public key", "Initial work to depend on external futures library instead of internal implementation\n\nStill need to:\n- Fix indentation\n- Check for any FutureSource being returned instead of FutureSource.future\n- Check for then: vs thenTry: mixups\n- Check for main thread related issues\n- Check for other exception catching issues\n- Adjust directory layout\n- Manual end-to-end testing", "Checked indentation, future source results, directory layout, thenTry vs then, dependencies", "Updating dependencies\n\n//FREEBIE", "Checking error codes and cleaning up when errors occur in EvpKeyAgreement\n- Added a test to actually exercise the DH agreement path\n//FREEBIE", "Improved the phone number editing during registration\n- Fixed a crash where an offset wrapped around when deleting the opening bracket\n- Backspacing now skips over formatting characters\n- Cursor position is maintained more accurately when reformatting\n- Added a few utility methods\n- Also fixed a test not having \"test\" as a prefix, causing it not to run\n//FREEBIE", "Fixed single-character cuts being mistaken for backspace presses\n//FREEBIE", "Closes #138", "Setting timestamp based on number of samples sent\n- Added timeStamp property to EncodedAudioPacket\n- Added timeStamp parameter to rtpPackageWithDefaults constructor\n- Added nextTimeStamp to AudioPacker with random initial value and sample length increases\n- AudioSocket forwards timeStamp\n- Added generateSecureRandomUInt32 to CryptoTools\n- Updated tests\nFREEBIE", "Merge pull request #145 from Strilanc/audio_stampery\n\nSetting timestamp based on number of samples sent", "Using dot syntax for local*, all*, full*, first*, last*, to*, encodedAs*, copy*\nFREEBIE", "Merge pull request #148 from Strilanc/modernate_1\n\nUsing dot syntax for local*, all*, full*, first*, last*, to*, encodedAs*...", "Disabled warnings that were firing in the sub-project for the third-party speex code.\n\nFREEBIE", "Merge pull request #150 from Strilanc/speex_warnings_ignore\n\nDisabled warnings that were firing in the sub-project for the third-party speex code", "Recursively added dot syntax, translating more terms when they were encountered in the dif\nFREEBIE", "Typo fix FREEBIE", "Reverting timestamp RTP field\n\nSee discussion in #143\n//FREEBIE", "iOS 8 Support\n\n- Supporting iOS 8\n- Updating translations\n- Rewriting PushManager to extensively use futures\n- Pick up calls directly from the lock-screen"]}, {"tag_start": "1.0.3", "tag_end": "1.0.4-2", "commits": ["Updating translations\n\n//FREEBIE", "UInt16 variance test //FREEBIE", "Xcode project file fix\n\n//FREEBIE", "Preparing tests for Travis\n\n- Removing test server tests\n- Getting ZRTP values from Keychain\n- Getting NSCFErrors in NetworkStreamTest\n- Fixing PriorityQueueTest comparator", "Caching ressources for Travis", "Travis CI-support and iOS8 push notifications\n\n//FREEBIE", "Removing dependencies\n\n//FREEBIE", "Adding submodule\n\n//FREEBIE", "Fixes for Travis setup\n\n//FREEBIE", "Fix link to travis build status in README.md //FREEBIE", "Updating OpenSSL\n\n//FREEBIE", "Multiple fixes\n\n- Make logging optional if desired\n- HTTPS external URLs\n- Clean app data when re-registering\n- If registration future fails, bring back user interaction", "Enhancements to certificate pinning\n\n//FREEBIE", "Screen security feature. Closes #31", "Fixing localization and performance issues\n\n- Cleaning up unused VC xib\n- Optimization in Call Server Requests\n- Fixing localization issues in Registration flow\n- Changing order of labels for the Settings view\n//FREEBIE", "Updating to spandsp-0.0.6\n\n//FREEBIE", "Revert \"Updating to spandsp-0.0.6\"\n\nThis reverts commit ecea5d6e53f00100f552bdfab60d8e1c236a3e54.\n//FREEBIE", "Updating translations\n\n//FREEBIE", "Updating Pods\n\n//FREEBIE", "Added canary test to notify future maintainers when safety pads can be removed from spandsp usage //FREEBIE", "Ran \"Edit -> Refactor -> Convert to Modern Objective-C Syntax\"\n- dictionaryWithObject -> @{key: val}\n- objectAtIndex -> a[i]\n- numberWithBool/Int/etc -> @1, @(val)\n- Reverted friendly fire on ProtocolBuffers\n- Did not do ANY other changes (including changes to make more refactorings succeed)\n//FREEBIE", "Manually refactored cases the refactoring to Modern Objective-C was complaining about\n//FREEBIE", "Clearing notifications from notification center\n\nApplication acknowledges notifications and then clears them from\nnotification center.\n//FREEBIE", "Checks and extra logging for login issues", "Pulling new translations\n\n//FREEBIE"]}, {"tag_start": "1.0.2", "tag_end": "1.0.3", "commits": ["Update CONTRIBUTING.md", "Merge pull request #4 from jazzz/hotfix/callerid\n\nProperly update callerid for incoming calls", "updated phone icon", "Fixing name in repo", "Merge pull request #10 from mcginty/phone-icons\n\nSlicker phone icon", "Updating OpenSSL to 1.0.1h", "Production logging & sign up error handling", "Removing non-used debug environment", "Localized sign up messages and gist log upload", "Localized challenge alertview", "NSComparator for unit tests", "Additional call anonymous logging", "Bumping up version number", "Adding more logging to address the initialization issues", "Fixing localization bug", "Bug fixes + Keychain store", "Re-registering, generating new server passwords", "Fixing #18", "Merge branch 'Keychain-store'", "Fixing NSNumber to BOOL conversion", "Advanced network logging", "Cleaning environment prefs", "Merge branch 'AdvancedNetworkLogging'", "Merge branch 'master' into AdvancedNetworkLogging", "Goodbye OCTest, Hello XCTest\n\nSome tests are still failing after the new key datastore transition.", "Changes for arm64 and Clang redefined-types", "Fixing typo in strings", "Merge branch 'AdvancedNetworkLogging'", "Using PastelogKit", "New wording for support features", "Bump up version number for App Store release", "Closes #25", "Closes #25", "Closes #27", "Closes #27", "Fix the project name (who was TextSecure iOS instead of Signal iOS).", "Fix the project name (who was TextSecure iOS instead of Signal iOS).", "Merge pull request #32 from ygini/hotfix/ReadMe_TypoInProjectName\n\nFix the project name (who was TextSecure iOS instead of Signal iOS).", "Merge pull request #32 from ygini/hotfix/ReadMe_TypoInProjectName\n\nFix the project name (who was TextSecure iOS instead of Signal iOS).", "Handshake HMAC Authentication success/failure test. Random uint16 generation variance testing for full CryptoTools test coverage. Removal of stub tests.", "Handshake HMAC Authentication success/failure test. Random uint16 generation variance testing for full CryptoTools test coverage. Removal of stub tests.", "Final removal of the CryptoUtils class name, replaced with CryptoTools.", "Final removal of the CryptoUtils class name, replaced with CryptoTools.", "Class comment in the header.", "Class comment in the header.", "Transitioning off custom preference files", "Transitioning off custom preference files", "Closes #67", "Closes #67", "Closes #75", "Closes #75", "Adding App Store Link", "Adding App Store Link", "Add translation link", "Add translation link", "Fix case of openssl/ includes for case-sensitive build environments.", "Fix case of openssl/ includes for case-sensitive build environments.", "Transitioning off custom preference files", "Transitioning off custom preference files", "Closes #67", "Closes #67", "Closes #75", "Closes #75", "Adding App Store Link", "Adding App Store Link", "Add translation link", "Add translation link", "Merging various bug fixes", "Merging various bug fixes", "Merge branch 'postLaunchFixes' of github.com:WhisperSystems/Signal-iOS into postLaunchFixes", "Merge branch 'postLaunchFixes' of github.com:WhisperSystems/Signal-iOS into postLaunchFixes", "Removing some test headers", "Removing some test headers", "Closes #70", "respect cursor position for insert and delte\n\ncursor position was not respected on delete and insert.\nnew numbers were always inserted on last position\non delte the last digit was erased regardless of cursor position.\ncursor postition is respected now, but cursor is rest to last position on delte/insert", "do not reposition cursor to end of number on change\n\nrestore cursor position after update.\ncursor position must be restored after update.\nwhen non number chars are deleted or inserted move cursor position for -1 or 1 respectively", "slight refactoring to fit code style\n\nslightly refactored to fit code style of project", "Closes #80 #37\n\n- Use of new Keychain Access attribute\n- Error management (notifying the user) when opening app without\nrequired push and microphone permission\n- Enforcing APNID are sent to server, retry later if not able to reach\nserver", "Merge pull request #81 from abcdev/patch-issue-70\n\nCloses #70", "Closes #52", "Migration scheme", "Closes #70", "Closes #80 #37\n\n- Use of new Keychain Access attribute\n- Error management (notifying the user) when opening app without\nrequired push and microphone permission\n- Enforcing APNID are sent to server, retry later if not able to reach\nserver", "Closes #52", "Migration scheme", "Merge branch 'master' into testingBranch", "Logging migration errors", "Merge branch 'testingBranch'", "Updating translations //FREEBIE", "Enhancements in the verification flow\n\n- Certificate Pinning with AFNetworking\n- Block syntax for number validation\n- Fixes null debug logs", "Only display contacts that have a phone number"]}]